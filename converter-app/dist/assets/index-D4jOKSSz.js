const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/customElement-Cf7m60-p.js","assets/observers-D6LHSR9b.js","assets/customElement-DCJXX_y6.js","assets/keyed-CasiPB9S.js","assets/directive-helpers-BfHMquZV.js","assets/ref-DTqdE6nU.js","assets/dom-yG-bmDxi.js","assets/guid-LcV_DAvu.js","assets/component-BPc0o019.js","assets/logger-BQJHPZ4-.js","assets/useSetFocus-DDOoJydv.js","assets/index-D0lUWPx_.js","assets/useT9n-QuVdiXCy.js","assets/Heading-BlczZajN.js","assets/static-DVe2IVuz.js","assets/customElement-D5QkuWTl.js","assets/interactive-D-oOD5iA.js","assets/form-BboWaMQM.js","assets/customElement-q0vnp9dU.js","assets/ExpandToggle-Cu-XgY_7.js","assets/resources8-DmXyNXVz.js","assets/resources2-D84mrebB.js","assets/useCancelable-cNjT_zAU.js","assets/debounce-D0Dr7phT.js","assets/customElement-BVHg2PAY.js","assets/customElement-C_n_c0WU.js","assets/array-bGYQmELK.js","assets/key-Cyh_1epf.js","assets/customElement-o-R54ras.js","assets/customElement-BfHquXA1.js","assets/locale-DV4UNTZT.js","assets/openCloseComponent-HxJNTR-8.js","assets/resources4-CJqOrVMW.js","assets/customElement-T9Q7dGZQ.js","assets/repeat-D6YBgWtX.js","assets/floating-ui-D3R8iPrZ.js","assets/label-DlnN0zJM.js","assets/InternalLabel-Cl8lMfBE.js","assets/Validation-DY9-TYzY.js","assets/escapeRegExp-CkRNPaSc.js","assets/customElement-DlftX08R.js","assets/text-CP2bu4fy.js","assets/customElement-DWIxObNY.js","assets/utils-qeJ3IoDh.js","assets/global-BNjdmnMY.js","assets/customElement-CHbCFJ5-.js","assets/_sortable-r4sD-v_R.js","assets/customElement-Dp-HCelQ.js","assets/sortableComponent-DtdO-UwB.js","assets/customElement-C6xLuA5E.js","assets/customElement-DRw9bcRR.js","assets/customElement-oX6rgSfe.js","assets/customElement-BGZFqBtt.js","assets/customElement-ClEwO7lr.js","assets/responsive-DPDex88g.js","assets/customElement-B2pzOM5g.js","assets/customElement-mxOPEMg6.js","assets/customElement-B99fTB8X.js","assets/customElement-Biy_VJws.js","assets/customElement-CYuXYICF.js","assets/math-OZMpPBUT.js","assets/throttle-DxccISSf.js","assets/customElement-CEPpxlhw.js","assets/customElement-C6s25cGh.js","assets/customElement-BmNH0Y4S.js","assets/live-ZZlRTJNY.js","assets/core-DqKVTEH2.js","assets/filter-D0HPXs_u.js","assets/XButton-9bFtlr5z.js","assets/resources6-BRNGPCeZ.js","assets/utils4-DVCls04O.js","assets/customElement-DREJ8C_G.js","assets/customElement-BnhP51By.js","assets/customElement-CSFeeiCZ.js","assets/date-BnOS7JKN.js","assets/utils3-C0PZHsFY.js","assets/customElement-D3Uvofic.js","assets/customElement-BiI17893.js","assets/customElement-BL3JntTw.js","assets/customElement-DRhzLBFu.js","assets/interact.min-CeSgLiSH.js","assets/dynamicClasses-6uzzLOUQ.js","assets/resources3-CFQwBfyd.js","assets/useFocusTrap-CJFjQSQJ.js","assets/usePreventDocumentScroll-DvD14wYl.js","assets/customElement-lgE5ZtAH.js","assets/customElement-DAJztFZH.js","assets/resources7-v6zOX8CA.js","assets/customElement-Q6PsuKXR.js","assets/customElement-QS1KB-n3.js","assets/customElement-begsw4IG.js","assets/customElement-DWRnAw6f.js","assets/customElement-DCks0b5Z.js","assets/customElement-B5dHa4qk.js","assets/customElement-o95nLQkp.js","assets/customElement-Dmc1in4M.js","assets/customElement-BpxfOFQJ.js","assets/customElement-D3MZLHq_.js","assets/input-Caci4YeM.js","assets/customElement-Bxu1_g6U.js","assets/customElement-B5uElVjo.js","assets/customElement-BqAEgkLQ.js","assets/customElement-7Gw_ad_3.js","assets/customElement-XEX_cm15.js","assets/useTime-CYwOYkAr.js","assets/customElement-C7Xp9Ntv.js","assets/customElement-C6ZhfNvy.js","assets/customElement-CRY5xGBx.js","assets/customElement-BvtJceSu.js","assets/utils2-Di0RNG1d.js","assets/resources-DLSQPHiM.js","assets/customElement-B5RgeHj0.js","assets/resources5-DhgIM17F.js","assets/customElement-BCnK-gjz.js","assets/customElement-mvD5rcMU.js","assets/customElement-JKiSou1H.js","assets/customElement-BaPDL3KP.js","assets/customElement-CFegV05c.js","assets/customElement-DjAdyZ9m.js","assets/customElement-KuuLYkU7.js","assets/customElement-CxHhLu6L.js","assets/customElement-vZDIMloU.js","assets/customElement-DXOHrJIA.js","assets/customElement-qZqc1f5y.js","assets/customElement-SQ_uO3bm.js","assets/customElement-DlRrKYnn.js","assets/customElement-C6guL_3S.js","assets/FloatingArrow-U4eEF8bl.js","assets/customElement-CpsPxjzY.js","assets/customElement-DrspTJbz.js","assets/customElement-BmMbRvKY.js","assets/customElement-B2Ot1DVO.js","assets/customElement-ZL027ycw.js","assets/customElement-MgOdnfJM.js","assets/customElement-TBErXGCj.js","assets/customElement-lzIj0oX_.js","assets/customElement-CwqyYaNj.js","assets/customElement-D5Yjjqsh.js","assets/customElement-Diy64Gh4.js","assets/customElement-DEgJktvd.js","assets/customElement-BfyjwYv8.js","assets/customElement-BR0aBZrA.js","assets/customElement-DkDpnvb0.js","assets/customElement-dk67dKl9.js","assets/customElement-BiG-smTD.js","assets/customElement-BTdgTtyV.js","assets/customElement-BsilafA9.js","assets/customElement-fAQgrHhD.js","assets/customElement-Di0QRmAu.js","assets/customElement-D7EUSuNY.js","assets/customElement-mkr2ajys.js","assets/customElement-D4STNNeu.js","assets/customElement-DnUpbnEU.js","assets/customElement-B-SPe2V1.js","assets/customElement-D7cuZICX.js","assets/customElement-DIQksk_a.js","assets/customElement-CXRehlER.js","assets/customElement-DUXdun2B.js","assets/customElement-DZox6oke.js","assets/customElement-CuMAZs3g.js","assets/customElement-DZwz1-LJ.js","assets/customElement-ePSz5jZt.js","assets/customElement-BIYUZzHF.js","assets/customElement-D0h1SQDp.js","assets/customElement-BjKt2GoZ.js","assets/customElement-D4zItEbS.js","assets/customElement-CpHhJwY3.js","assets/customElement-BjJ4gQCd.js","assets/customElement-RPAlOVBt.js","assets/customElement-BraHo63g.js"])))=>i.map(i=>d[i]);
var Tv=Object.getPrototypeOf;var Ev=Reflect.get;var Lp=u=>{throw TypeError(u)};var Qc=(u,i,s)=>i.has(u)||Lp("Cannot "+s);var Ve=(u,i,s)=>(Qc(u,i,"read from private field"),s?s.call(u):i.get(u)),ga=(u,i,s)=>i.has(u)?Lp("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(u):i.set(u,s),ya=(u,i,s,l)=>(Qc(u,i,"write to private field"),l?l.call(u,s):i.set(u,s),s),ks=(u,i,s)=>(Qc(u,i,"access private method"),s);var zp=(u,i,s)=>Ev(Tv(u),s,i);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();function wv(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Zc={exports:{}},Bs={};var Ip;function Av(){if(Ip)return Bs;Ip=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(l,o,d){var f=null;if(d!==void 0&&(f=""+d),o.key!==void 0&&(f=""+o.key),"key"in o){d={};for(var p in o)p!=="key"&&(d[p]=o[p])}else d=o;return o=d.ref,{$$typeof:u,type:l,key:f,ref:o!==void 0?o:null,props:d}}return Bs.Fragment=i,Bs.jsx=s,Bs.jsxs=s,Bs}var kp;function Cv(){return kp||(kp=1,Zc.exports=Av()),Zc.exports}var j=Cv();const xv="modulepreload",Ov=function(u){return"/"+u},Bp={},F=function(i,s,l){let o=Promise.resolve();if(s&&s.length>0){let g=function(y){return Promise.all(y.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");o=g(s.map(y=>{if(y=Ov(y),y in Bp)return;Bp[y]=!0;const m=y.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const S=document.createElement("link");if(S.rel=m?"stylesheet":xv,m||(S.as="script"),S.crossOrigin="",S.href=y,p&&S.setAttribute("nonce",p),document.head.appendChild(S),m)return new Promise((w,T)=>{S.addEventListener("load",w),S.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return o.then(f=>{for(const p of f||[])p.status==="rejected"&&d(p.reason);return i().catch(d)})},lt=(u,i,...s)=>{try{return u?.call(i,...s)}catch(l){console.error(l,u)}},du=async(u,i,...s)=>{try{return await u?.call(i,...s)}catch(l){console.error(l,u)}},Cu=Symbol.for("controller"),Mv=u=>typeof u=="object"&&u!==null&&(Cu in u||"hostConnected"in u||"hostDisconnected"in u||"hostUpdate"in u||"hostUpdated"in u),QS=u=>typeof u?.then=="function";let qs;const Vs=u=>{qs!==u&&(qs=u,queueMicrotask(()=>qs===u?qs=void 0:0))},Dr=u=>qs;let Fn=[];const Rv=u=>{if(u===void 0){Fn=[];return}const i=Fn.indexOf(u);Fn=i===-1?[...Fn,u]:Fn.slice(0,i+1),queueMicrotask(()=>Fn=[])},Dv=()=>Fn;let $i;const ZS=u=>{$i!==u&&($i=u,queueMicrotask(()=>$i===u?$i=void 0:0))},Nv=()=>{const u=$i;return $i=void 0,u},Uv=async(u,i)=>{const s=xu(u);if(s===void 0)return u;if(await s.ready,typeof i=="function"){const l=s.watchExports(o=>i(o,l))}return s.exports},jv=async u=>{const i=xu(u);return await i.ready,i},xu=u=>{const s=Dr().manager.X(u);if(s!==void 0)return s;if(Mv(u))return u;const l=Nv();if(l!==void 0)return l};let fu=!1;const KS=u=>{fu=!0;try{return u()}finally{fu=!1}};const yr=globalThis,Ou=yr.ShadowRoot&&(yr.ShadyCSS===void 0||yr.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Mu=Symbol(),$p=new WeakMap;let Dm=class{constructor(i,s,l){if(this._$cssResult$=!0,l!==Mu)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=i,this.t=s}get styleSheet(){let i=this.o;const s=this.t;if(Ou&&i===void 0){const l=s!==void 0&&s.length===1;l&&(i=$p.get(s)),i===void 0&&((this.o=i=new CSSStyleSheet).replaceSync(this.cssText),l&&$p.set(s,i))}return i}toString(){return this.cssText}};const Lv=u=>new Dm(typeof u=="string"?u:u+"",void 0,Mu),PS=(u,...i)=>{const s=u.length===1?u[0]:i.reduce(((l,o,d)=>l+(f=>{if(f._$cssResult$===!0)return f.cssText;if(typeof f=="number")return f;throw Error("Value passed to 'css' function must be a 'css' function result: "+f+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+u[d+1]),u[0]);return new Dm(s,u,Mu)},zv=(u,i)=>{if(Ou)u.adoptedStyleSheets=i.map((s=>s instanceof CSSStyleSheet?s:s.styleSheet));else for(const s of i){const l=document.createElement("style"),o=yr.litNonce;o!==void 0&&l.setAttribute("nonce",o),l.textContent=s.cssText,u.appendChild(l)}},Hp=Ou?u=>u:u=>u instanceof CSSStyleSheet?(i=>{let s="";for(const l of i.cssRules)s+=l.cssText;return Lv(s)})(u):u;const{is:Iv,defineProperty:kv,getOwnPropertyDescriptor:Bv,getOwnPropertyNames:$v,getOwnPropertySymbols:Hv,getPrototypeOf:qv}=Object,Nr=globalThis,qp=Nr.trustedTypes,Vv=qp?qp.emptyScript:"",Gv=Nr.reactiveElementPolyfillSupport,Js=(u,i)=>u,hu={toAttribute(u,i){switch(i){case Boolean:u=u?Vv:null;break;case Object:case Array:u=u==null?u:JSON.stringify(u)}return u},fromAttribute(u,i){let s=u;switch(i){case Boolean:s=u!==null;break;case Number:s=u===null?null:Number(u);break;case Object:case Array:try{s=JSON.parse(u)}catch{s=null}}return s}},Ru=(u,i)=>!Iv(u,i),Vp={attribute:!0,type:String,converter:hu,reflect:!1,useDefault:!1,hasChanged:Ru};Symbol.metadata??=Symbol("metadata"),Nr.litPropertyMetadata??=new WeakMap;let Bi=class extends HTMLElement{static addInitializer(i){this._$Ei(),(this.l??=[]).push(i)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(i,s=Vp){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(i)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(i,s),!s.noAccessor){const l=Symbol(),o=this.getPropertyDescriptor(i,l,s);o!==void 0&&kv(this.prototype,i,o)}}static getPropertyDescriptor(i,s,l){const{get:o,set:d}=Bv(this.prototype,i)??{get(){return this[s]},set(f){this[s]=f}};return{get:o,set(f){const p=o?.call(this);d?.call(this,f),this.requestUpdate(i,p,l)},configurable:!0,enumerable:!0}}static getPropertyOptions(i){return this.elementProperties.get(i)??Vp}static _$Ei(){if(this.hasOwnProperty(Js("elementProperties")))return;const i=qv(this);i.finalize(),i.l!==void 0&&(this.l=[...i.l]),this.elementProperties=new Map(i.elementProperties)}static finalize(){if(this.hasOwnProperty(Js("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Js("properties"))){const s=this.properties,l=[...$v(s),...Hv(s)];for(const o of l)this.createProperty(o,s[o])}const i=this[Symbol.metadata];if(i!==null){const s=litPropertyMetadata.get(i);if(s!==void 0)for(const[l,o]of s)this.elementProperties.set(l,o)}this._$Eh=new Map;for(const[s,l]of this.elementProperties){const o=this._$Eu(s,l);o!==void 0&&this._$Eh.set(o,s)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const l=new Set(i.flat(1/0).reverse());for(const o of l)s.unshift(Hp(o))}else i!==void 0&&s.push(Hp(i));return s}static _$Eu(i,s){const l=s.attribute;return l===!1?void 0:typeof l=="string"?l:typeof i=="string"?i.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((i=>this.enableUpdating=i)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((i=>i(this)))}addController(i){(this._$EO??=new Set).add(i),this.renderRoot!==void 0&&this.isConnected&&i.hostConnected?.()}removeController(i){this._$EO?.delete(i)}_$E_(){const i=new Map,s=this.constructor.elementProperties;for(const l of s.keys())this.hasOwnProperty(l)&&(i.set(l,this[l]),delete this[l]);i.size>0&&(this._$Ep=i)}createRenderRoot(){const i=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return zv(i,this.constructor.elementStyles),i}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((i=>i.hostConnected?.()))}enableUpdating(i){}disconnectedCallback(){this._$EO?.forEach((i=>i.hostDisconnected?.()))}attributeChangedCallback(i,s,l){this._$AK(i,l)}_$ET(i,s){const l=this.constructor.elementProperties.get(i),o=this.constructor._$Eu(i,l);if(o!==void 0&&l.reflect===!0){const d=(l.converter?.toAttribute!==void 0?l.converter:hu).toAttribute(s,l.type);this._$Em=i,d==null?this.removeAttribute(o):this.setAttribute(o,d),this._$Em=null}}_$AK(i,s){const l=this.constructor,o=l._$Eh.get(i);if(o!==void 0&&this._$Em!==o){const d=l.getPropertyOptions(o),f=typeof d.converter=="function"?{fromAttribute:d.converter}:d.converter?.fromAttribute!==void 0?d.converter:hu;this._$Em=o;const p=f.fromAttribute(s,d.type);this[o]=p??this._$Ej?.get(o)??p,this._$Em=null}}requestUpdate(i,s,l){if(i!==void 0){const o=this.constructor,d=this[i];if(l??=o.getPropertyOptions(i),!((l.hasChanged??Ru)(d,s)||l.useDefault&&l.reflect&&d===this._$Ej?.get(i)&&!this.hasAttribute(o._$Eu(i,l))))return;this.C(i,s,l)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(i,s,{useDefault:l,reflect:o,wrapped:d},f){l&&!(this._$Ej??=new Map).has(i)&&(this._$Ej.set(i,f??s??this[i]),d!==!0||f!==void 0)||(this._$AL.has(i)||(this.hasUpdated||l||(s=void 0),this._$AL.set(i,s)),o===!0&&this._$Em!==i&&(this._$Eq??=new Set).add(i))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(s){Promise.reject(s)}const i=this.scheduleUpdate();return i!=null&&await i,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[o,d]of this._$Ep)this[o]=d;this._$Ep=void 0}const l=this.constructor.elementProperties;if(l.size>0)for(const[o,d]of l){const{wrapped:f}=d,p=this[o];f!==!0||this._$AL.has(o)||p===void 0||this.C(o,void 0,d,p)}}let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),this._$EO?.forEach((l=>l.hostUpdate?.())),this.update(s)):this._$EM()}catch(l){throw i=!1,this._$EM(),l}i&&this._$AE(s)}willUpdate(i){}_$AE(i){this._$EO?.forEach((s=>s.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(i)),this.updated(i)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(i){return!0}update(i){this._$Eq&&=this._$Eq.forEach((s=>this._$ET(s,this[s]))),this._$EM()}updated(i){}firstUpdated(i){}};Bi.elementStyles=[],Bi.shadowRootOptions={mode:"open"},Bi[Js("elementProperties")]=new Map,Bi[Js("finalized")]=new Map,Gv?.({ReactiveElement:Bi}),(Nr.reactiveElementVersions??=[]).push("2.1.1");const Du=globalThis,Er=Du.trustedTypes,Gp=Er?Er.createPolicy("lit-html",{createHTML:u=>u}):void 0,Nm="$lit$",wn=`lit$${Math.random().toFixed(9).slice(2)}$`,Um="?"+wn,Jv=`<${Um}>`,Wn=document,Qs=()=>Wn.createComment(""),Zs=u=>u===null||typeof u!="object"&&typeof u!="function",Nu=Array.isArray,Fv=u=>Nu(u)||typeof u?.[Symbol.iterator]=="function",Kc=`[ 	
\f\r]`,$s=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Jp=/-->/g,Fp=/>/g,Jn=RegExp(`>|${Kc}(?:([^\\s"'>=/]+)(${Kc}*=${Kc}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Yp=/'/g,Xp=/"/g,jm=/^(?:script|style|textarea|title)$/i,Lm=u=>(i,...s)=>({_$litType$:u,strings:i,values:s}),t_=Lm(1),a_=Lm(2),xn=Symbol.for("lit-noChange"),ut=Symbol.for("lit-nothing"),Qp=new WeakMap,Qn=Wn.createTreeWalker(Wn,129);function zm(u,i){if(!Nu(u)||!u.hasOwnProperty("raw"))throw Error("invalid template strings array");return Gp!==void 0?Gp.createHTML(i):i}const Yv=(u,i)=>{const s=u.length-1,l=[];let o,d=i===2?"<svg>":i===3?"<math>":"",f=$s;for(let p=0;p<s;p++){const g=u[p];let y,m,b=-1,S=0;for(;S<g.length&&(f.lastIndex=S,m=f.exec(g),m!==null);)S=f.lastIndex,f===$s?m[1]==="!--"?f=Jp:m[1]!==void 0?f=Fp:m[2]!==void 0?(jm.test(m[2])&&(o=RegExp("</"+m[2],"g")),f=Jn):m[3]!==void 0&&(f=Jn):f===Jn?m[0]===">"?(f=o??$s,b=-1):m[1]===void 0?b=-2:(b=f.lastIndex-m[2].length,y=m[1],f=m[3]===void 0?Jn:m[3]==='"'?Xp:Yp):f===Xp||f===Yp?f=Jn:f===Jp||f===Fp?f=$s:(f=Jn,o=void 0);const w=f===Jn&&u[p+1].startsWith("/>")?" ":"";d+=f===$s?g+Jv:b>=0?(l.push(y),g.slice(0,b)+Nm+g.slice(b)+wn+w):g+wn+(b===-2?p:w)}return[zm(u,d+(u[s]||"<?>")+(i===2?"</svg>":i===3?"</math>":"")),l]};class Ks{constructor({strings:i,_$litType$:s},l){let o;this.parts=[];let d=0,f=0;const p=i.length-1,g=this.parts,[y,m]=Yv(i,s);if(this.el=Ks.createElement(y,l),Qn.currentNode=this.el.content,s===2||s===3){const b=this.el.content.firstChild;b.replaceWith(...b.childNodes)}for(;(o=Qn.nextNode())!==null&&g.length<p;){if(o.nodeType===1){if(o.hasAttributes())for(const b of o.getAttributeNames())if(b.endsWith(Nm)){const S=m[f++],w=o.getAttribute(b).split(wn),T=/([.?@])?(.*)/.exec(S);g.push({type:1,index:d,name:T[2],strings:w,ctor:T[1]==="."?Qv:T[1]==="?"?Zv:T[1]==="@"?Kv:Ur}),o.removeAttribute(b)}else b.startsWith(wn)&&(g.push({type:6,index:d}),o.removeAttribute(b));if(jm.test(o.tagName)){const b=o.textContent.split(wn),S=b.length-1;if(S>0){o.textContent=Er?Er.emptyScript:"";for(let w=0;w<S;w++)o.append(b[w],Qs()),Qn.nextNode(),g.push({type:2,index:++d});o.append(b[S],Qs())}}}else if(o.nodeType===8)if(o.data===Um)g.push({type:2,index:d});else{let b=-1;for(;(b=o.data.indexOf(wn,b+1))!==-1;)g.push({type:7,index:d}),b+=wn.length-1}d++}}static createElement(i,s){const l=Wn.createElement("template");return l.innerHTML=i,l}}function Fi(u,i,s=u,l){if(i===xn)return i;let o=l!==void 0?s._$Co?.[l]:s._$Cl;const d=Zs(i)?void 0:i._$litDirective$;return o?.constructor!==d&&(o?._$AO?.(!1),d===void 0?o=void 0:(o=new d(u),o._$AT(u,s,l)),l!==void 0?(s._$Co??=[])[l]=o:s._$Cl=o),o!==void 0&&(i=Fi(u,o._$AS(u,i.values),o,l)),i}class Xv{constructor(i,s){this._$AV=[],this._$AN=void 0,this._$AD=i,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(i){const{el:{content:s},parts:l}=this._$AD,o=(i?.creationScope??Wn).importNode(s,!0);Qn.currentNode=o;let d=Qn.nextNode(),f=0,p=0,g=l[0];for(;g!==void 0;){if(f===g.index){let y;g.type===2?y=new Xi(d,d.nextSibling,this,i):g.type===1?y=new g.ctor(d,g.name,g.strings,this,i):g.type===6&&(y=new Wv(d,this,i)),this._$AV.push(y),g=l[++p]}f!==g?.index&&(d=Qn.nextNode(),f++)}return Qn.currentNode=Wn,o}p(i){let s=0;for(const l of this._$AV)l!==void 0&&(l.strings!==void 0?(l._$AI(i,l,s),s+=l.strings.length-2):l._$AI(i[s])),s++}}class Xi{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(i,s,l,o){this.type=2,this._$AH=ut,this._$AN=void 0,this._$AA=i,this._$AB=s,this._$AM=l,this.options=o,this._$Cv=o?.isConnected??!0}get parentNode(){let i=this._$AA.parentNode;const s=this._$AM;return s!==void 0&&i?.nodeType===11&&(i=s.parentNode),i}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(i,s=this){i=Fi(this,i,s),Zs(i)?i===ut||i==null||i===""?(this._$AH!==ut&&this._$AR(),this._$AH=ut):i!==this._$AH&&i!==xn&&this._(i):i._$litType$!==void 0?this.$(i):i.nodeType!==void 0?this.T(i):Fv(i)?this.k(i):this._(i)}O(i){return this._$AA.parentNode.insertBefore(i,this._$AB)}T(i){this._$AH!==i&&(this._$AR(),this._$AH=this.O(i))}_(i){this._$AH!==ut&&Zs(this._$AH)?this._$AA.nextSibling.data=i:this.T(Wn.createTextNode(i)),this._$AH=i}$(i){const{values:s,_$litType$:l}=i,o=typeof l=="number"?this._$AC(i):(l.el===void 0&&(l.el=Ks.createElement(zm(l.h,l.h[0]),this.options)),l);if(this._$AH?._$AD===o)this._$AH.p(s);else{const d=new Xv(o,this),f=d.u(this.options);d.p(s),this.T(f),this._$AH=d}}_$AC(i){let s=Qp.get(i.strings);return s===void 0&&Qp.set(i.strings,s=new Ks(i)),s}k(i){Nu(this._$AH)||(this._$AH=[],this._$AR());const s=this._$AH;let l,o=0;for(const d of i)o===s.length?s.push(l=new Xi(this.O(Qs()),this.O(Qs()),this,this.options)):l=s[o],l._$AI(d),o++;o<s.length&&(this._$AR(l&&l._$AB.nextSibling,o),s.length=o)}_$AR(i=this._$AA.nextSibling,s){for(this._$AP?.(!1,!0,s);i!==this._$AB;){const l=i.nextSibling;i.remove(),i=l}}setConnected(i){this._$AM===void 0&&(this._$Cv=i,this._$AP?.(i))}}class Ur{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(i,s,l,o,d){this.type=1,this._$AH=ut,this._$AN=void 0,this.element=i,this.name=s,this._$AM=o,this.options=d,l.length>2||l[0]!==""||l[1]!==""?(this._$AH=Array(l.length-1).fill(new String),this.strings=l):this._$AH=ut}_$AI(i,s=this,l,o){const d=this.strings;let f=!1;if(d===void 0)i=Fi(this,i,s,0),f=!Zs(i)||i!==this._$AH&&i!==xn,f&&(this._$AH=i);else{const p=i;let g,y;for(i=d[0],g=0;g<d.length-1;g++)y=Fi(this,p[l+g],s,g),y===xn&&(y=this._$AH[g]),f||=!Zs(y)||y!==this._$AH[g],y===ut?i=ut:i!==ut&&(i+=(y??"")+d[g+1]),this._$AH[g]=y}f&&!o&&this.j(i)}j(i){i===ut?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}}class Qv extends Ur{constructor(){super(...arguments),this.type=3}j(i){this.element[this.name]=i===ut?void 0:i}}class Zv extends Ur{constructor(){super(...arguments),this.type=4}j(i){this.element.toggleAttribute(this.name,!!i&&i!==ut)}}class Kv extends Ur{constructor(i,s,l,o,d){super(i,s,l,o,d),this.type=5}_$AI(i,s=this){if((i=Fi(this,i,s,0)??ut)===xn)return;const l=this._$AH,o=i===ut&&l!==ut||i.capture!==l.capture||i.once!==l.once||i.passive!==l.passive,d=i!==ut&&(l===ut||o);o&&this.element.removeEventListener(this.name,this,l),d&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,i):this._$AH.handleEvent(i)}}class Wv{constructor(i,s,l){this.element=i,this.type=6,this._$AN=void 0,this._$AM=s,this.options=l}get _$AU(){return this._$AM._$AU}_$AI(i){Fi(this,i)}}const n_={I:Xi},Pv=Du.litHtmlPolyfillSupport;Pv?.(Ks,Xi),(Du.litHtmlVersions??=[]).push("3.3.1");const eb=(u,i,s)=>{const l=s?.renderBefore??i;let o=l._$litPart$;if(o===void 0){const d=s?.renderBefore??null;l._$litPart$=o=new Xi(i.insertBefore(Qs(),d),d,void 0,s??{})}return o._$AI(u),o};const Uu=globalThis;let Gi=class extends Bi{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const i=super.createRenderRoot();return this.renderOptions.renderBefore??=i.firstChild,i}update(i){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(i),this._$Do=eb(s,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return xn}};Gi._$litElement$=!0,Gi.finalized=!0,Uu.litElementHydrateSupport?.({LitElement:Gi});const tb=Uu.litElementPolyfillSupport;tb?.({LitElement:Gi});(Uu.litElementVersions??=[]).push("4.2.1");class Ws{constructor(){this.promise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}}const ab=(u,i)=>{const s=i/nb;let l=0;const o=setInterval(()=>{l+=s,l>=i&&(clearInterval(o),u())},s);return o},nb=4,ib=(u,i,s)=>{const l=Object.keys(u),o=l.length;Hi===void 0&&queueMicrotask(jr),Hi??=new Map;let d=Hi.get(u);return d===void 0&&(d={callbacks:[],keyCount:o},Hi.set(u,d)),d.keyCount!==o&&(d.callbacks.forEach(f=>f(l)),d.callbacks=[],d.keyCount=o),d.callbacks.push(f=>{const p=y=>lt(i,null,y),g=f[o];g===void 0?p(void 0):u[g]===s?p(g):p(void 0)}),s};let Hi;const jr=()=>{Hi?.forEach(({callbacks:u},i)=>{const s=Object.keys(i);u.forEach(l=>l(s))}),Hi=void 0},sb=(u,i,s)=>{const l=u.manager;return l.V!==ut&&l.V!==s&&l.S(void 0,void 0),l.T.length===0&&queueMicrotask(()=>l.S(void 0,void 0)),l.V=s,l.T.push((o,d)=>lt(i,void 0,s===d?o:void 0)),s},lb=(u=[Dr(),...Dv()],i,s)=>{const l=Array.isArray(u)?u:[u];let o=l.length+1;const d=f=>{o-=1,f!==void 0&&(o=Math.min(o,0)),o===0&&i(f)};l.forEach(f=>ib(f,p=>d(p===void 0?void 0:{key:p,host:f,isReactive:!1}),s));for(const f of l)if("manager"in f&&f.manager.component===f){sb(f,p=>d(p===void 0?void 0:{key:p,host:f,isReactive:!0}),s);break}return s},rb=(u="",i={},s=Dr())=>{const l={emit:o=>{u===""&&jr();const d=new CustomEvent(u,{detail:o,cancelable:!0,bubbles:!0,composed:!0,...i});return s.el.dispatchEvent(d),d}};return u===""&&lb(void 0,o=>u=o.key,l),l},s_=rb.bind(null,"");var Im;Im=Cu;class ob{constructor(i){this.#a=[],this.#e=[],this.#n=[],this.#o=[],this.#c=[],this.#u=[],this.#d=[],this.#f=[],this.#l=[],this.#r=!1,this.P=new Ws,this.connectedCalled=!1,this.loadedCalled=!1,this[Im]=!0,this.#s=[];const s=this,l=i??Dr();s.#t=l,s.ready=s.P.promise,s.#i=Kp(s),s.component=l,s.#t.addController(s),s.#t.manager===void 0||(Rv(s),queueMicrotask(()=>s.catchUpLifecycle()))}#a;#e;#n;#o;#c;#u;#d;#f;#l;#r;#t;catchUpLifecycle(){const{manager:i}=this.#t;i.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),i.#r&&this.triggerLoad().then(()=>i.loadedCalled&&this.triggerLoaded()).catch(console.error)}#i;get exports(){return this.#i}set exports(i){const s=this.#i;s!==i&&(this.#i=i,this.#s.forEach(lt),this.connectedCalled&&this.O!==!1&&this.#t.requestUpdate(this.O,s)),this.P.resolve(i)}setProvisionalExports(i,s=!0){this.#i=s?Kp(i):i,this.#s.forEach(lt)}#s;watchExports(i){const s=()=>i(this.#i);return this.#s.push(s),()=>void this.#s.splice(this.#s.indexOf(s),1)}get use(){return Vs(this.#t),Uv}get useRef(){return Vs(this.#t),jv}get useRefSync(){return Vs(this.#t),xu}controllerRemoved(){this.#t.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(i){this.#a.push(i)}onDisconnected(i){this.#e.push(i)}onLoad(i){this.#n.push(i)}onLoaded(i){this.#o.push(i)}onUpdate(i){this.#c.push(i)}onUpdated(i){this.#u.push(i)}onDestroy(i){this.#d.push(i)}onLifecycle(i){this.#f.push(i),this.connectedCalled&&this.#t.el.isConnected&&this.#h(i)}triggerConnected(){const i=this;i.hostConnected&&lt(i.hostConnected,i),i.#a.forEach(lt),i.triggerLifecycle(),i.connectedCalled=!0}triggerDisconnected(){const i=this;i.hostDisconnected&&lt(i.hostDisconnected,i),i.#e.forEach(lt),i.#l.forEach(lt),i.#l=[]}async triggerLoad(){if(this.#r)return;this.#r=!0;const i=this;i.hostLoad&&await du(i.hostLoad,i),this.#n.length>0&&await Promise.allSettled(this.#n.map(du)),this.P.resolve(this.#i)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&lt(this.hostLoaded,this),this.#o.forEach(lt),this.loadedCalled=!0)}triggerUpdate(i){this.hostUpdate&&lt(this.hostUpdate,this,i),this.#c.forEach(Zp,i)}triggerUpdated(i){this.hostUpdated&&lt(this.hostUpdated,this,i),this.#u.forEach(Zp,i)}triggerDestroy(){this.hostDestroy&&lt(this.hostDestroy,this),this.#d.forEach(lt)}triggerLifecycle(){this.hostLifecycle&&this.#h(()=>this.hostLifecycle()),this.#f.forEach(this.#h,this)}#h(i){Vs(this.#t);const s=lt(i);(Array.isArray(s)?s:[s]).forEach(o=>{typeof o=="function"?this.#l.push(o):typeof o=="object"&&typeof o.remove=="function"&&this.#l.push(o.remove)})}}function Zp(u){lt(u,void 0,this)}const cb=ob,Kp=u=>{if(typeof u!="object"&&typeof u!="function"||u===null)return u;const i={get(l,o,d){if(!((o==="exports"||o==="_exports")&&o in l&&l[o]===s)&&(o in l||o in Promise.prototype||typeof o=="symbol"))return typeof l=="function"?l[o]:Reflect.get(l,o,d)}},s=new Proxy(u,i);return s},km=u=>u.replace(ub,(i,s)=>`${s===0?"":"-"}${i.toLowerCase()}`),ub=/[A-Z]+(?![a-z])|[A-Z]/gu,db=";",Wc=",",fb=":",hb=1,pb=2,mb=4,gb=8,yb=16,vb=32,bb=64,Bm=u=>{let i=u;for(;i=i.parentNode??i.host;)if(i?.constructor?.lumina){const s=i;return s.manager?.loadedCalled||(s.J??s._offspring).push(u),(s.I??s._postLoad).promise}return!1},Wp={};function ju(){}const Sb=(u,i)=>function(l,o){var p;if(!globalThis.customElements)return;const f=(o??l??{}).resourcesUrl;f&&u.setAssetPath(f);for(const[g,[y,m=""]]of Object.entries(i)){if(customElements.get(g))continue;const[b,S,w]=m.split(db),T=b?b?.split(Wc).map(_b):void 0,z=T?.map(([C])=>C),k=(p=class extends pu{constructor(){!k.B&&(k.B=y(),k.F()),super()}},p.observedAttributes=T?.map(([,L])=>L).filter(L=>L!==""),p.C=z,p.E=S?S?.split(Wc):void 0,p.D=w?.split(Wc),p.L=g,p.K=u,p);customElements.define(g,k)}},vr=Object.defineProperty,_b=u=>{const i=u.split(fb);return i.length===1?[i[0],km(i[0])]:i},Tb=globalThis.HTMLElement??ju;var Jt,Fa,Ji,el,mu;const $u=class $u extends Tb{constructor(){var o;super();ga(this,el);ga(this,Jt);ga(this,Fa);ga(this,Ji);ya(this,Fa,{}),ya(this,Ji,[]),this.I=new Ws,this.H=new Ws,this.J=[];const s=this,l=s.constructor;s._offspring=s.J,s._postLoad=s.I,l.C?.forEach(d=>{Object.hasOwn(s,d)&&(Ve(s,Fa)[d]=s[d],delete s[d])}),l.A?ks(o=s,el,mu).call(o,{a:l.A}):l.B.then(async d=>{var f;await l.K.p,ks(f=s,el,mu).call(f,await(d.default?.then(p=>typeof p=="function"?{a:p}:p)??d))}).catch(d=>{s.H.reject(d),setTimeout(()=>{throw d})})}static F(){for(const s of this.C??[])vr(this.prototype,s,{configurable:!0,enumerable:!0,get(){return Ve(this,Fa)[s]},set(l){Ve(this,Fa)[s]=l}});for(const s of this.E??[])vr(this.prototype,s,{async value(...l){return Ve(this,Jt)||await this.H.promise,await Ve(this,Jt)[s](...l)},configurable:!0});for(const s of this.D??[])vr(this.prototype,s,{value(...l){return Ve(this,Jt)[s](...l)},configurable:!0})}get manager(){return Ve(this,Jt)?.manager}attributeChangedCallback(s,l,o){Ve(this,Jt)?.attributeChangedCallback(s,l,o),Ve(this,Jt)||Ve(this,Ji).push(s)}connectedCallback(){Ve(this,Jt)?Ve(this,Jt).connectedCallback?.():queueMicrotask(()=>this.G=Bm(this))}disconnectedCallback(){Ve(this,Jt)?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){Ve(this,Jt)?.requestUpdate()}};Jt=new WeakMap,Fa=new WeakMap,Ji=new WeakMap,el=new WeakSet,mu=function(s){const l=this.constructor,o=l.L,d=Ve(this,Fa),f=Object.values(s).find(S=>S.L===o),p=`${o}--lazy`;let g=f;for(;g&&!Object.hasOwn(g,"lumina");)g=Object.getPrototypeOf(g);wb(g),!l.A&&(l.A=f,customElements.define(p,f)),f.N=this;const m=document.createElement(p);f.N=void 0,ya(this,Jt,m),ya(this,Fa,m),Ve(this,Ji).forEach(S=>m.attributeChangedCallback(S,null,this.getAttribute(S))),Object.entries(d).forEach(Eb,m);const b=this.isConnected;(b||this.G)&&(m.connectedCallback?.(),b||m.disconnectedCallback())},$u.lumina=!0;let pu=$u;function Eb([u,i]){this[u]=i}const wb=u=>{const i=u.prototype,s=Element.prototype;Object.hasOwn(i,"isConnected")||(i.setAttribute=function(o,d){s.setAttribute.call(this.el,o,d)},i.removeAttribute=function(o){s.removeAttribute.call(this.el,o)},vr(i,"isConnected",{get(){return Reflect.get(s,"isConnected",this.el)}}))};const $m={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},Hm=u=>(...i)=>({_$litDirective$:u,values:i});let qm=class{constructor(i){}get _$AU(){return this._$AM._$AU}_$AT(i,s,l){this._$Ct=i,this._$AM=s,this._$Ci=l}_$AS(i,s){return this.update(i,s)}update(i,s){return this.render(...s)}};const Ab=Hm(class extends qm{constructor(u){if(super(u),u.type!==$m.ATTRIBUTE||u.name!=="class"||u.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(u){return" "+Object.keys(u).filter((i=>u[i])).join(" ")+" "}update(u,[i]){if(this.st===void 0){this.st=new Set,u.strings!==void 0&&(this.nt=new Set(u.strings.join(" ").split(/\s/).filter((l=>l!==""))));for(const l in i)i[l]&&!this.nt?.has(l)&&this.st.add(l);return this.render(i)}const s=u.element.classList;for(const l of this.st)l in i||(s.remove(l),this.st.delete(l));for(const l in i){const o=!!i[l];o===this.st.has(l)||this.nt?.has(l)||(o?(s.add(l),this.st.add(l)):(s.remove(l),this.st.delete(l)))}return xn}});const Vm="important",Cb=" !"+Vm,xb=Hm(class extends qm{constructor(u){if(super(u),u.type!==$m.ATTRIBUTE||u.name!=="style"||u.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(u){return Object.keys(u).reduce(((i,s)=>{const l=u[s];return l==null?i:i+`${s=s.includes("-")?s:s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${l};`}),"")}update(u,[i]){const{style:s}=u.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(i)),this.render(i);for(const l of this.ft)i[l]==null&&(this.ft.delete(l),l.includes("-")?s.removeProperty(l):s[l]=null);for(const l in i){const o=i[l];if(o!=null){this.ft.add(l);const d=typeof o=="string"&&o.endsWith(Cb);l.includes("-")||d?s.setProperty(l,d?o.slice(0,-11):o,d?Vm:""):s[l]=o}}return xn}});class Ob extends cb{constructor(i){super(i),this.destroyed=!1,this.R=!1,this.V=ut,this.T=[],this.#n=new WeakMap,this.#e=i,this.exports=void 0,this.hasDestroy=gu in i&&typeof i.destroy=="function",Gi.prototype.addController.call(i,{hostConnected:()=>{if(this.destroyed){const s=i.el.localName;throw i.el.remove(),new Error(`The ${s} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${gu} prop.`)}this.#a!==void 0&&clearTimeout(this.#a),jr();for(const s of i.M)"triggerConnected"in s?s.triggerConnected():lt(s.hostConnected,s)},hostDisconnected:()=>{for(const s of i.M)"triggerDisconnected"in s?s.triggerDisconnected():lt(s.hostDisconnected,s);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const s of i.M)"triggerUpdate"in s?s.triggerUpdate(this.Q):lt(s.hostUpdate,s,this.Q)},hostUpdated:()=>{for(const s of i.M)"triggerUpdated"in s?s.triggerUpdated(this.Q):lt(s.hostUpdated,s,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),Vs(i)}#a;#e;async destroy(){if(!this.destroyed){this.#e.el.isConnected&&(this.hasDestroy=!1,this.#e.el.remove()),this.#a=void 0,this.destroyed=!0;for(const i of this.#e.M)"triggerDestroy"in i?i.triggerDestroy():lt(i.hostDestroy,i);this.#e.M.splice(0)}}U(){if(this.#a!==void 0&&clearTimeout(this.#a),!this.#e.el.isConnected&&!this.#e.autoDestroyDisabled){const i=()=>void this.#e.destroy();this.#a=ab(i,Mb)}}S(i,s){const l=this.T;this.V=ut,this.T=[],l.forEach(o=>o(i,s))}#n;W(i,s){(typeof s=="object"&&s!==null||typeof s=="function")&&this.#n.set(s,i)}X(i){if(typeof i=="object"&&i!==null||typeof i=="function")return this.#n.get(i)}}let Mb=1e3;const gu="autoDestroyDisabled";var Zn,tl,al,Kn,Ea,Yi,Gm,Jm;const Xs=class Xs extends Gi{constructor(){super();ga(this,Yi);ga(this,Zn);ga(this,tl);ga(this,al);ga(this,Kn);ga(this,Ea);this.M=[],this.manager=new Ob(this);const s=this,l=s.constructor,o=l.N,d=l.K.o,f=Xs.prototype.shouldUpdate;ya(s,Kn,o?.H??new Ws),s.I=o?.I??new Ws,s.J=o?.J??[],s._offspring=s.J,s._postLoad=s.I,s.el=o??s,ya(s,al,s.enableUpdating),s.enableUpdating=ju,s.shouldUpdate!==f&&(ya(s,tl,s.shouldUpdate),s.shouldUpdate=f),d&&(ya(s,Zn,new Map),l.elementProperties.forEach((p,g)=>Ve(s,Zn).set(g,d())))}static finalizeStyles(s){const l=super.finalizeStyles(s),o=this.shadowRootOptions===Wp;return this.K?.commonStyles===void 0||o?l:[this.K.commonStyles,...l]}static createProperty(s,l){const o=typeof l=="number"?l:Array.isArray(l)?l[0]:0,d=Array.isArray(l)?l[1]:void 0,f=d?.hasChanged??Ru,p={attribute:o&hb&&typeof s=="string"?km(s):!1,reflect:!!(o&pb),type:o&mb?Boolean:o&gb?Number:void 0,state:!!(o&yb),readOnly:!!(o&vb),noAccessor:!!(o&bb),c:!1,...d,hasChanged(g,y){const m=f(g,y);return p.c=m,m}};super.createProperty(s,p)}static getPropertyDescriptor(s,l,o){const d=this.K,f=super.getPropertyDescriptor(s,l,o);return o.d=f,{...f,get(){return d.t?.(Ve(this,Zn).get(s)),f.get?.call(this)},set(p){const g=this.manager;if(o.readOnly&&!fu&&(g.R||g.connectedCalled))throw Error(`Cannot assign to read-only property "${s}" of ${this.el.localName}. Trying to assign "${p}"`);f.set.call(this,p??void 0),o.c&&Ve(this,Zn)?.get(s)?.notify(),g.T.length>0&&(jr(),g?.S(s,p))}}}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const s=this.constructor.K.c?.(()=>this.requestUpdate());ya(this,Ea,s);const l=!this.manager.connectedCalled;super.connectedCallback(),l?queueMicrotask(()=>ks(this,Yi,Jm).call(this).catch(o=>{Ve(this,Kn).reject(o),setTimeout(()=>{throw o})})):s&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),Ve(this,Ea)?.destroy(),ya(this,Ea,void 0)}createRenderRoot(){const s=this.el.shadowRoot,l=this.constructor,o=l.shadowRootOptions,f=s??(o===Wp?this.el:this.el.attachShadow(o));if(this.isConnected){const p=f.getRootNode();p.adoptedStyleSheets=[...p.adoptedStyleSheets,...l.elementStyles.map(g=>"styleSheet"in g?g.styleSheet:g)]}return f}shouldUpdate(s){var l;return this.manager.Q=s,((l=Ve(this,tl))==null?void 0:l.call(this,s))??!0}update(s){Ve(this,Ea)?ks(this,Yi,Gm).call(this,s):super.update(s)}listen(s,l,o){const d=l?.bind(this)??l;this.manager.onLifecycle(()=>(this.el.addEventListener(s,d,o),()=>this.el.removeEventListener(s,d,o)))}listenOn(s,l,o,d){const f=o?.bind(this)??o;this.manager.onLifecycle(()=>(s.addEventListener(l,f,d),()=>s.removeEventListener(l,f,d)))}async componentOnReady(){return await Ve(this,Kn).promise,this}addController(s){this.M.push(s),!(Cu in s)&&this.renderRoot&&this.el.isConnected&&s.hostConnected?.()}removeController(s){this.M.splice(this.M.indexOf(s),1),s.controllerRemoved?.()}};Zn=new WeakMap,tl=new WeakMap,al=new WeakMap,Kn=new WeakMap,Ea=new WeakMap,Yi=new WeakSet,Gm=function(s){try{Ve(this,Ea).clear(),this.constructor.K.r(Ve(this,Ea),()=>zp(Xs.prototype,this,"update").call(this,s))}catch(l){throw Ve(this,Ea).clear(),l}},Jm=async function(){const s=this.el.G??Bm(this.el);s&&await s;const l=[];for(const d of this.M)"triggerLoad"in d?l.push(d.triggerLoad()):l.push(du(d.hostLoad,d));await Promise.all(l),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(d=>d.has(gu)&&this.manager.U()),Ve(this,al).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const o=this.J.filter(d=>!d.manager?.loadedCalled);o.length&&await Promise.allSettled(o.map(async d=>await d.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const d of this.M)"triggerLoaded"in d?d.triggerLoaded():lt(d.hostLoaded,d);this.loaded?.(),Ve(this,Kn).resolve()},Xs.lumina=!0;let Pp=Xs;const Rb=u=>{let i;const s=o=>{i=new URL(o,globalThis.location?.href||void 0).href},l={...u,getAssetPath(o){const d=new URL(o,i);return d.origin!==globalThis.location?.origin?d.href:d.pathname},setAssetPath:s,customElement(o,d){d.K=l,d.L=o,customElements.get(o)||customElements.define(o,d)}};return s(u.defaultAssetPath),l},r_=u=>typeof u=="object"&&u!=null?Ab(u):u,o_=u=>typeof u=="object"&&u!=null?xb(u):u,c_=ut;function u_(u,i,s){s==null?u.removeAttribute(i):u.setAttribute(i,s)}const d_={toAttribute:u=>u===!0?"":u===!1?null:u},Db={},Nb=(u,i)=>s=>{const l=s.tagName;let o=Db;const d={name:l,get prototype(){if(o===void 0){const p=customElements.get(l);if(!p)throw new Error(`Custom element "${l}" not found`);p.F?.(),p.F=ju,o=p.prototype,Object.defineProperty(d,"prototype",{value:o})}return o}},f=i({...s,react:u,elementClass:d});return o=void 0,f},Ya=(u,i)=>({tagName:u,events:i}),Fm="calcite-mode-auto",Ym="calcite-mode-dark",Ub="calcite-mode-light",f_={autoMode:Fm,darkMode:Ym,lightMode:Ub,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},h_={filter:250,nextTick:0,resize:150,reposition:100},p_=10,m_=25;function em(){const{classList:u}=document.body,i=window.matchMedia("(prefers-color-scheme: dark)").matches,s=()=>u.contains(Ym)||u.contains(Fm)&&i?"dark":"light",l=f=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:f}})),o=f=>{d!==f&&l(f),d=f};let d=s();l(d),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",f=>o(f.matches?"dark":"light")),new MutationObserver(()=>o(s())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const Fs=globalThis.calciteConfig,g_=Fs?.focusTrapStack||[],y_=Fs?.logLevel||"info",tm="3.3.3",jb="2025-10-08",Lb="7391af08e";function zb(){if(Fs&&Fs.version)return;console.info(`Using Calcite Components ${tm} [Date: ${jb}, Revision: ${Lb}]`);const u=Fs||globalThis.calciteConfig||{};Object.defineProperty(u,"version",{value:tm,writable:!1}),globalThis.calciteConfig=u}document.readyState==="interactive"?em():document.addEventListener("DOMContentLoaded",em,{once:!0});queueMicrotask(zb);const Xm=Rb({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.3.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:v_,getAssetPath:b_,setAssetPath:S_}=Xm,Ib=Sb(Xm,{"calcite-accordion":[()=>F(()=>import("./customElement-Cf7m60-p.js"),__vite__mapDeps([0,1])),"appearance,iconPosition,iconType,scale,selectionMode"],"calcite-accordion-item":[()=>F(()=>import("./customElement-DCJXX_y6.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14])),"accordionParent:,appearance,description,expanded,heading,headingLevel,iconEnd,iconFlipRtl,iconPosition,iconStart,iconType,messageOverrides:,scale;setFocus"],"calcite-action":[()=>F(()=>import("./customElement-D5QkuWTl.js"),__vite__mapDeps([15,3,4,5,7,16,1,8,9,12,11,10,6,17])),"active,activeDescendant,alignment,appearance,aria:,compact,disabled,dragHandle,form,icon,iconFlipRtl,indicator,label,loading,messageOverrides:,scale,text,textEnabled,type,width;setFocus"],"calcite-action-bar":[()=>F(()=>import("./customElement-q0vnp9dU.js"),__vite__mapDeps([18,6,7,1,19,5,4,20,21,12,11,22,10,8,9,23])),"actionsEndGroupLabel,expandDisabled,expanded,floating,layout,messageOverrides:,overflowActionsDisabled,overlayPositioning,position,scale;overflowActions,setFocus"],"calcite-action-group":[()=>F(()=>import("./customElement-BVHg2PAY.js"),__vite__mapDeps([24,21,6,7,12,11,10,8,9,20])),"columns,expanded,label,layout,menuFlipPlacements:,menuOpen,menuPlacement,messageOverrides:,overlayPositioning,scale;setFocus"],"calcite-action-menu":[()=>F(()=>import("./customElement-C_n_c0WU.js"),__vite__mapDeps([25,5,4,26,6,7,27,10,11,8,9,21])),"appearance,expanded,flipPlacements:,label,open,overlayPositioning,placement,scale;setFocus"],"calcite-action-pad":[()=>F(()=>import("./customElement-o-R54ras.js"),__vite__mapDeps([28,6,7,19,5,4,20,21,1,12,11,10,8,9])),"actionsEndGroupLabel,expandDisabled,expanded,layout,messageOverrides:,overlayPositioning,position,scale;setFocus"],"calcite-alert":[()=>F(()=>import("./customElement-BfHquXA1.js"),__vite__mapDeps([29,5,4,3,6,7,8,9,30,27,31,32,12,11,10])),"active,autoClose,autoCloseDuration,embedded,icon,iconFlipRtl,kind,label,messageOverrides:,numberingSystem,open,openAlertCount,placement,queue,scale;setFocus"],"calcite-autocomplete":[()=>F(()=>import("./customElement-T9Q7dGZQ.js"),__vite__mapDeps([33,5,4,34,11,35,6,7,23,16,31,36,17,12,22,37,38,1,10,8,9,39])),"alignment,autocomplete:,disabled,flipPlacements:,form,icon,iconFlipRtl,inputValue,label,labelText,loading,maxLength,messageOverrides:,minLength,name,open,overlayPositioning,pattern,placeholder,placement,prefixText,readOnly,required,scale,status,suffixText,validationIcon,validationMessage,validity:,value;reposition,scrollContentTo,selectText,setFocus"],"calcite-autocomplete-item":[()=>F(()=>import("./customElement-DlftX08R.js"),__vite__mapDeps([40,8,9,16,7,41])),"active,description,disabled,guid,heading,iconEnd,iconFlipRtl,iconStart,inputValueMatchPattern:,label,scale,value;;emitSelectEvent"],"calcite-autocomplete-item-group":[()=>F(()=>import("./customElement-CeWSOnie.js"),[]),"disableSpacing,heading,label,scale"],"calcite-avatar":[()=>F(()=>import("./customElement-DWIxObNY.js"),__vite__mapDeps([42,6,7,43,44])),"fullName,label,scale,thumbnail,userId,username"],"calcite-block":[()=>F(()=>import("./customElement-CHbCFJ5-.js"),__vite__mapDeps([45,3,4,5,6,7,16,13,14,8,9,31,35,23,12,11,10,46])),"addToItems:,collapsible,description,disabled,dragDisabled,dragHandle,expanded,heading,headingLevel,iconEnd,iconFlipRtl,iconStart,label,loading,menuFlipPlacements:,menuPlacement,messageOverrides:,moveToItems:,open,overlayPositioning,scale,setPosition,setSize,sortDisabled,sortHandleOpen,status;setFocus"],"calcite-block-group":[()=>F(()=>import("./customElement-Dp-HCelQ.js"),__vite__mapDeps([47,16,1,48,6,7,10,11,8,9,22,23])),"canPull:,canPut:,disabled,dragEnabled,group,label,loading,scale,sortDisabled;setFocus;emitOrderChangeEvent"],"calcite-block-section":[()=>F(()=>import("./customElement-C6xLuA5E.js"),__vite__mapDeps([49,3,4,6,7,27,8,9,12,11,10])),"expanded,iconEnd,iconFlipRtl,iconStart,messageOverrides:,open,scale,status,text,toggleDisplay;setFocus"],"calcite-button":[()=>F(()=>import("./customElement-DRw9bcRR.js"),__vite__mapDeps([50,5,4,14,11,17,6,7,16,36,1,8,9,12,10])),"alignment,appearance,disabled,download,form,href,iconEnd,iconFlipRtl,iconStart,kind,label,loading,messageOverrides:,name,rel,round,scale,splitChild,target,type,width;setFocus"],"calcite-card":[()=>F(()=>import("./customElement-oX6rgSfe.js"),__vite__mapDeps([51,5,4,6,7,16,27,12,11,10,8,9])),"disabled,label,loading,messageOverrides:,selectable,selected,selectionMode,thumbnailPosition;setFocus"],"calcite-card-group":[()=>F(()=>import("./customElement-BGZFqBtt.js"),__vite__mapDeps([52,5,4,6,7,16,10,11,8,9])),"disabled,label,selectedItems:,selectionMode;setFocus"],"calcite-carousel":[()=>F(()=>import("./customElement-ClEwO7lr.js"),__vite__mapDeps([53,34,4,5,6,7,16,1,54,44,26,12,11,10,8,9])),"arrowType,autoplay,autoplayDuration,controlOverlay,disabled,label,messageOverrides:,paused,selectedItem:;play,setFocus,stop"],"calcite-carousel-item":[()=>F(()=>import("./customElement-B2pzOM5g.js"),__vite__mapDeps([55,7])),"label,selected"],"calcite-checkbox":[()=>F(()=>import("./customElement-mxOPEMg6.js"),__vite__mapDeps([56,5,4,6,7,17,16,27,36,37,12,11,10,8,9])),"checked,disabled,form,hovered,indeterminate,label,labelText,messageOverrides:,name,required,scale,status,validity:,value;setFocus"],"calcite-chip":[()=>F(()=>import("./customElement-B99fTB8X.js"),__vite__mapDeps([57,5,4,6,7,16,27,8,9,12,11,10])),"appearance,closable,closed,closeOnDelete,disabled,icon,iconFlipRtl,interactive,kind,label,messageOverrides:,parentChipGroup:,scale,selected,selectionMode,value;setFocus"],"calcite-chip-group":[()=>F(()=>import("./customElement-Biy_VJws.js"),__vite__mapDeps([58,5,4,6,7,16,10,11,8,9])),"disabled,label,scale,selectedItems:,selectionMode;setFocus"],"calcite-color-picker":[()=>F(()=>import("./customElement-CYuXYICF.js"),__vite__mapDeps([59,34,4,3,43,44,5,6,7,16,27,60,12,11,22,1,10,8,9,61,23])),"allowEmpty,alphaChannel,channelsDisabled,clearable,color:,disabled,fieldDisabled,format,hexDisabled,messageOverrides:,numberingSystem,savedDisabled,scale,storageId,value;setFocus"],"calcite-color-picker-hex-input":[()=>F(()=>import("./customElement-CEPpxlhw.js"),__vite__mapDeps([62,3,4,43,44,5,10,11,8,9,6,7])),"allowEmpty,alphaChannel,hexLabel,messages:,numberingSystem,scale,value;setFocus"],"calcite-color-picker-swatch":[()=>F(()=>import("./customElement-C6s25cGh.js"),__vite__mapDeps([63,3,4,43,44,6,7])),"active,color,scale"],"calcite-combobox":[()=>F(()=>import("./customElement-BmNH0Y4S.js"),__vite__mapDeps([64,3,4,65,66,5,67,39,6,7,35,23,17,16,36,1,31,68,8,9,37,38,12,11,41,10,22,69,70])),"allowCustomValues,clearDisabled,disabled,filteredItems:,filterProps:,filterText,flipPlacements:,form,label,labelText,maxItems,messageOverrides:,name,open,overlayPositioning,placeholder,placeholderIcon,placeholderIconFlipRtl,readOnly,required,scale,selectAllEnabled,selectedItems:,selectionDisplay,selectionMode,status,validationIcon,validationMessage,validity:,value;reposition,setFocus"],"calcite-combobox-item":[()=>F(()=>import("./customElement-DREJ8C_G.js"),__vite__mapDeps([71,3,4,7,16,70,6,69,8,9,41])),"active,ancestors:,description,disabled,filterDisabled,filterTextMatchPattern:,guid,heading,icon,iconFlipRtl,indeterminate,itemHidden,label,metadata:,scale,selected,selectionMode,shortHeading,textLabel,value"],"calcite-combobox-item-group":[()=>F(()=>import("./customElement-BnhP51By.js"),__vite__mapDeps([72,7,70,6,69])),"afterEmptyGroup,ancestors:,itemHidden,label,scale"],"calcite-date-picker":[()=>F(()=>import("./customElement-CSFeeiCZ.js"),__vite__mapDeps([73,74,30,27,12,11,10,8,9,6,7,75])),"activeDate:,activeRange,calendars,headingLevel,layout,max,maxAsDate:,messageOverrides:,min,minAsDate:,monthStyle,numberingSystem,proximitySelectionDisabled,range,scale,value,valueAsDate:;reset,setFocus"],"calcite-date-picker-day":[()=>F(()=>import("./customElement-D3Uvofic.js"),__vite__mapDeps([76,74,30,27,6,7,16,10,11,8,9])),"active,currentMonth,dateTimeFormat:,day,disabled,endOfRange,highlighted,range,rangeEdge,rangeHover,scale,selected,startOfRange,value:;setFocus"],"calcite-date-picker-month":[()=>F(()=>import("./customElement-BiI17893.js"),__vite__mapDeps([77,5,4,3,74,30,27])),"activeDate:,calendars,dateTimeFormat:,endDate:,headingLevel,hoverRange:,layout,localeData:,max:,messages:,min:,monthStyle,range,scale,selectedDate:,startDate:"],"calcite-date-picker-month-header":[()=>F(()=>import("./customElement-BL3JntTw.js"),__vite__mapDeps([78,65,4,44,5,74,30,27,6,7])),"activeDate:,headingLevel,localeData:,max:,messages:,min:,monthStyle,position,scale,selectedDate:"],"calcite-dialog":[()=>F(()=>import("./customElement-DRhzLBFu.js"),__vite__mapDeps([79,3,4,80,5,6,7,1,81,31,82,12,11,83,84,10,8,9])),"beforeClose:,closeDisabled,description,dragEnabled,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,heading,headingLevel,icon,iconFlipRtl,kind,loading,menuOpen,messageOverrides:,modal,open,outsideCloseDisabled,overlayPositioning,placement,resizable,scale,width,widthScale;scrollContentTo,setFocus,updateFocusTrapElements"],"calcite-dropdown":[()=>F(()=>import("./customElement-lgE5ZtAH.js"),__vite__mapDeps([85,5,4,6,7,35,23,16,27,1,31,81,10,11,8,9])),"closeOnSelectDisabled,disabled,flipPlacements:,maxItems,offsetDistance,offsetSkidding,open,overlayPositioning,placement,scale,selectedItems:,type,width,widthScale;reposition,setFocus"],"calcite-dropdown-group":[()=>F(()=>import("./customElement-DAJztFZH.js"),__vite__mapDeps([86,1,87])),"groupTitle,position,scale,selectionMode"],"calcite-dropdown-item":[()=>F(()=>import("./customElement-Q6PsuKXR.js"),__vite__mapDeps([88,5,4,6,7,8,9,16,10,11,87])),"disabled,href,iconEnd,iconFlipRtl,iconStart,label,rel,scale,selected,selectionMode,target;setFocus"],"calcite-fab":[()=>F(()=>import("./customElement-QS1KB-n3.js"),__vite__mapDeps([89,5,4,16,10,11,8,9,6,7])),"appearance,disabled,icon,iconFlipRtl,kind,label,loading,scale,text,textEnabled;setFocus"],"calcite-filter":[()=>F(()=>import("./customElement-begsw4IG.js"),__vite__mapDeps([90,5,4,67,39,16,22,11,12,10,8,9,6,7,23])),"disabled,filteredItems:,filterProps:,items:,label,messageOverrides:,placeholder,scale,value;filter,setFocus"],"calcite-flow":[()=>F(()=>import("./customElement-DWRnAw6f.js"),__vite__mapDeps([91,5,4,1,6,7,10,11,8,9])),"customItemSelectors;back,setFocus"],"calcite-flow-item":[()=>F(()=>import("./customElement-DCks0b5Z.js"),__vite__mapDeps([92,3,4,5,6,7,16,82,12,11,10,8,9])),"beforeBack:,beforeClose:,closable,closed,collapsed,collapseDirection,collapsible,description,disabled,heading,headingLevel,icon,iconFlipRtl,loading,menuOpen,messageOverrides:,overlayPositioning,scale,selected,showBackButton;scrollContentTo,setFocus"],"calcite-graph":[()=>F(()=>import("./customElement-B5dHa4qk.js"),__vite__mapDeps([93,7,1])),"colorStops:,data:,highlightMax,highlightMin,max,min"],"calcite-handle":[()=>F(()=>import("./customElement-o95nLQkp.js"),__vite__mapDeps([94,5,4,16,12,11,9,10,8,6,7])),"blurUnselectDisabled,disabled,dragHandle,label,messageOverrides:,selected,setPosition,setSize;setFocus"],"calcite-icon":[()=>F(()=>import("./customElement-Dmc1in4M.js"),__vite__mapDeps([95,6,7,1,9])),"flipRtl,icon,preload,scale,textLabel"],"calcite-inline-editable":[()=>F(()=>import("./customElement-BpxfOFQJ.js"),__vite__mapDeps([96,5,4,16,36,6,7,12,11,10,8,9])),"afterConfirm:,controls,disabled,editingEnabled,loading,messageOverrides:,scale;setFocus"],"calcite-input":[()=>F(()=>import("./customElement-D3MZLHq_.js"),__vite__mapDeps([97,65,4,3,5,14,11,6,7,17,16,27,36,30,8,9,37,38,12,10,98])),"accept,alignment,autocomplete:,clearable,disabled,editingEnabled,files:,form,groupSeparator,icon,iconFlipRtl,label,labelText,loading,localeFormat,max,maxLength,messageOverrides:,min,minLength,multiple,name,numberButtonType,numberingSystem,pattern,placeholder,prefixText,readOnly,required,scale,status,step,suffixText,type,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-date-picker":[()=>F(()=>import("./customElement-Bxu1_g6U.js"),__vite__mapDeps([99,5,4,83,11,6,7,74,30,27,35,23,17,16,36,8,9,31,75,37,38,98,12,10])),"calendars,disabled,flipPlacements:,focusTrapDisabled,form,headingLevel,label,labelText,layout,max,maxAsDate:,messageOverrides:,min,minAsDate:,monthStyle,name,numberingSystem,open,overlayPositioning,placement,proximitySelectionDisabled,range,readOnly,required,scale,status,validationIcon,validationMessage,validity:,value,valueAsDate:;reposition,setFocus"],"calcite-input-message":[()=>F(()=>import("./customElement-B5uElVjo.js"),__vite__mapDeps([100,6,7])),"icon,iconFlipRtl,scale,status"],"calcite-input-number":[()=>F(()=>import("./customElement-BqAEgkLQ.js"),__vite__mapDeps([101,65,4,3,5,11,6,7,17,16,27,36,30,8,9,37,38,98,12,10])),"alignment,autocomplete:,clearable,disabled,editingEnabled,form,groupSeparator,icon,iconFlipRtl,integer,label,labelText,loading,localeFormat,max,maxLength,messageOverrides:,min,minLength,name,numberButtonType,numberingSystem,placeholder,prefixText,readOnly,required,scale,status,step,suffixText,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-text":[()=>F(()=>import("./customElement-7Gw_ad_3.js"),__vite__mapDeps([102,65,4,5,11,6,7,17,16,36,8,9,37,38,98,12,10])),"alignment,autocomplete:,clearable,disabled,editingEnabled,form,icon,iconFlipRtl,label,labelText,loading,maxLength,messageOverrides:,minLength,name,pattern,placeholder,prefixText,readOnly,required,scale,status,suffixText,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-time-picker":[()=>F(()=>import("./customElement-XEX_cm15.js"),__vite__mapDeps([103,5,4,17,6,7,16,36,60,8,9,37,38,98,12,11,30,27,10,104,41])),"disabled,focusTrapDisabled,form,hourFormat,label,labelText,max,messageOverrides:,min,name,numberingSystem,open,overlayPositioning,placement,readOnly,required,scale,status,step,validationIcon,validationMessage,validity:,value;reposition,setFocus"],"calcite-input-time-zone":[()=>F(()=>import("./customElement-C7Xp9Ntv.js"),__vite__mapDeps([105,34,4,3,5,36,6,7,16,17,12,11,69,10,8,9,30,27])),"clearable,disabled,form,labelText,maxItems,messageOverrides:,mode,name,offsetStyle,open,overlayPositioning,readOnly,referenceDate,required,scale,status,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-label":[()=>F(()=>import("./customElement-C6ZhfNvy.js"),__vite__mapDeps([106,36,6,7])),"alignment,for,layout,scale"],"calcite-link":[()=>F(()=>import("./customElement-CRY5xGBx.js"),__vite__mapDeps([107,14,5,4,6,7,16,10,11,8,9])),"disabled,download,href,iconEnd,iconFlipRtl,iconStart,rel,target;setFocus"],"calcite-list":[()=>F(()=>import("./customElement-BvtJceSu.js"),__vite__mapDeps([108,5,4,3,6,7,16,1,109,48,110,30,27,12,11,22,10,8,9,23])),"canPull:,canPut:,disabled,displayMode,dragEnabled,filteredData:,filteredItems:,filterEnabled,filterLabel,filterPlaceholder,filterPredicate:,filterProps:,filterText,group,interactionMode,label,loading,messageOverrides:,numberingSystem,scale,selectedItems:,selectionAppearance,selectionMode,sortDisabled;setFocus;emitOrderChangeEvent"],"calcite-list-item":[()=>F(()=>import("./customElement-B5RgeHj0.js"),__vite__mapDeps([111,3,4,5,6,7,16,12,11,8,9,46,10,109,112])),"active,addToItems:,bordered,closable,closed,description,disabled,displayMode,dragDisabled,dragHandle,expanded,filterHidden,iconEnd,iconFlipRtl,iconStart,interactionMode,label,messageOverrides:,metadata:,moveToItems:,open,scale,selected,selectionAppearance,selectionMode,setPosition,setSize,sortDisabled,sortHandleOpen,unavailable,value;setFocus"],"calcite-list-item-group":[()=>F(()=>import("./customElement-BCnK-gjz.js"),__vite__mapDeps([113,16,112])),"disabled,filterHidden,heading,scale"],"calcite-loader":[()=>F(()=>import("./customElement-mvD5rcMU.js"),__vite__mapDeps([114,7,12,11])),"complete,inline,label,scale,text,type,value"],"calcite-menu":[()=>F(()=>import("./customElement-JKiSou1H.js"),__vite__mapDeps([115,11,6,7,12,10,8,9])),"label,layout,messageOverrides:;setFocus"],"calcite-menu-item":[()=>F(()=>import("./customElement-BaPDL3KP.js"),__vite__mapDeps([116,3,4,5,6,7,12,11,10,8,9])),"active,breadcrumb,href,iconEnd,iconFlipRtl,iconStart,isTopLevelItem,label,layout,messageOverrides:,open,rel,target,text,topLevelMenuLayout;setFocus"],"calcite-meter":[()=>F(()=>import("./customElement-CFegV05c.js"),__vite__mapDeps([117,3,4,5,17,6,7,30,27,1,12,11])),"appearance,disabled,fillType,form,groupSeparator,high,label,low,max,min,name,numberingSystem,rangeLabels,rangeLabelType,scale,unitLabel,value,valueLabel,valueLabelType"],"calcite-modal":[()=>F(()=>import("./customElement-DjAdyZ9m.js"),__vite__mapDeps([118,3,4,5,6,7,1,31,8,9,12,11,84,83,10])),"beforeClose:,closeButtonDisabled,docked,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,fullscreen,kind,messageOverrides:,open,opened,outsideCloseDisabled,scale,widthScale;scrollContent,setFocus,updateFocusTrapElements"],"calcite-navigation":[()=>F(()=>import("./customElement-KuuLYkU7.js"),__vite__mapDeps([119,5,4,6,7,10,11,8,9])),"label,navigationAction;setFocus"],"calcite-navigation-logo":[()=>F(()=>import("./customElement-CxHhLu6L.js"),__vite__mapDeps([120,3,4,13,14,10,11,8,9,6,7])),"active,description,heading,headingLevel,href,icon,iconFlipRtl,label,rel,target,thumbnail;setFocus"],"calcite-navigation-user":[()=>F(()=>import("./customElement-vZDIMloU.js"),__vite__mapDeps([121,3,4,10,11,8,9,6,7])),"active,fullName,label,textDisabled,thumbnail,userId,username;setFocus"],"calcite-notice":[()=>F(()=>import("./customElement-DXOHrJIA.js"),__vite__mapDeps([122,5,4,6,7,32,31,8,9,12,11,10])),"closable,icon,iconFlipRtl,kind,messageOverrides:,open,scale,width;setFocus"],"calcite-option":[()=>F(()=>import("./customElement-qZqc1f5y.js"),__vite__mapDeps([123,1])),"disabled,label,selected,value"],"calcite-option-group":[()=>F(()=>import("./customElement-BuPbGq7f.js"),[]),"disabled,label"],"calcite-pagination":[()=>F(()=>import("./customElement-SQ_uO3bm.js"),__vite__mapDeps([124,3,4,30,27,1,54,44,8,9,12,11,10,6,7])),"groupSeparator,messageOverrides:,numberingSystem,pageSize,scale,startItem,totalItems;goTo,nextPage,previousPage,setFocus"],"calcite-panel":[()=>F(()=>import("./customElement-DlRrKYnn.js"),__vite__mapDeps([125,3,4,5,6,7,16,8,9,1,21,13,14,35,23,12,11,10,82])),"beforeClose:,closable,closed,collapsed,collapseDirection,collapsible,description,disabled,heading,headingLevel,icon,iconFlipRtl,loading,menuFlipPlacements:,menuOpen,menuPlacement,messageOverrides:,overlayPositioning,scale;scrollContentTo,setFocus"],"calcite-popover":[()=>F(()=>import("./customElement-C6guL_3S.js"),__vite__mapDeps([126,3,4,5,35,6,7,23,31,13,14,1,127,8,9,12,11,83,10,27])),"autoClose,closable,flipDisabled,flipPlacements:,focusTrapDisabled,focusTrapOptions:,heading,headingLevel,label,messageOverrides:,offsetDistance,offsetSkidding,open,overlayPositioning,placement,pointerDisabled,referenceElement,scale,triggerDisabled;reposition,setFocus,updateFocusTrapElements"],"calcite-progress":[()=>F(()=>import("./customElement-CpsPxjzY.js"),__vite__mapDeps([128,6,7])),"label,reversed,text,type,value"],"calcite-radio-button":[()=>F(()=>import("./customElement-DrspTJbz.js"),__vite__mapDeps([129,5,4,26,6,7,17,16,36,37,10,11,8,9])),"checked,disabled,focused,form,hovered,label,labelText,name,required,scale,value;emitCheckedChange,setFocus"],"calcite-radio-button-group":[()=>F(()=>import("./customElement-BmMbRvKY.js"),__vite__mapDeps([130,1,37,38,5,4,12,11,10,8,9,6,7])),"disabled,labelText,layout,messageOverrides:,name,required,scale,selectedItem:,status,validationIcon,validationMessage;setFocus"],"calcite-rating":[()=>F(()=>import("./customElement-B2Ot1DVO.js"),__vite__mapDeps([131,65,4,17,6,7,16,36,37,38,5,12,11,10,8,9])),"average,count,disabled,form,labelText,messageOverrides:,name,readOnly,required,scale,showChip,status,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-scrim":[()=>F(()=>import("./customElement-ZL027ycw.js"),__vite__mapDeps([132,5,4,1,6,7,12,11])),"loading,messageOverrides:"],"calcite-segmented-control":[()=>F(()=>import("./customElement-MgOdnfJM.js"),__vite__mapDeps([133,6,7,17,16,36,37,38,5,4,12,11,10,8,9])),"appearance,disabled,form,labelText,layout,messageOverrides:,name,required,scale,selectedItem:,status,validationIcon,validationMessage,validity:,value,width;setFocus"],"calcite-segmented-control-item":[()=>F(()=>import("./customElement-TBErXGCj.js"),__vite__mapDeps([134,6,7])),"appearance,checked,iconEnd,iconFlipRtl,iconStart,layout,scale,value"],"calcite-select":[()=>F(()=>import("./customElement-lzIj0oX_.js"),__vite__mapDeps([135,5,4,12,11,17,6,7,16,36,1,8,9,37,38,10])),"disabled,form,label,labelText,messageOverrides:,name,required,scale,selectedOption:,status,validationIcon,validationMessage,validity:,value,width;setFocus"],"calcite-sheet":[()=>F(()=>import("./customElement-CwqyYaNj.js"),__vite__mapDeps([136,5,4,3,80,6,7,1,31,81,60,12,11,84,83,10,8,9])),"beforeClose:,displayMode,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,height,heightScale,label,messageOverrides:,open,opened,outsideCloseDisabled,position,resizable,width,widthScale;setFocus,updateFocusTrapElements"],"calcite-shell":[()=>F(()=>import("./customElement-D5Yjjqsh.js"),__vite__mapDeps([137,3,4,6,7])),"contentBehind"],"calcite-shell-center-row":[()=>F(()=>import("./customElement-Diy64Gh4.js"),__vite__mapDeps([138,3,4,6,7,9])),"detached,heightScale,position"],"calcite-shell-panel":[()=>F(()=>import("./customElement-DEgJktvd.js"),__vite__mapDeps([139,3,4,80,5,6,7,60,81,12,11])),"collapsed,displayMode,height,heightScale,layout,messageOverrides:,position,resizable,width,widthScale"],"calcite-slider":[()=>F(()=>import("./customElement-BfyjwYv8.js"),__vite__mapDeps([140,3,4,5,7,6,37,38,17,16,27,36,30,60,12,11,10,8,9])),"disabled,fillPlacement,form,groupSeparator,hasHistogram,histogram:,histogramStops:,labelFormatter:,labelHandles,labelText,labelTicks,max,maxLabel,maxValue,messageOverrides:,min,minLabel,minValue,mirrored,name,numberingSystem,pageStep,precise,required,scale,snap,status,step,ticks,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-sort-handle":[()=>F(()=>import("./customElement-BR0aBZrA.js"),__vite__mapDeps([141,5,4,3,16,35,6,7,23,12,11,10,8,9])),"addToItems:,disabled,flipPlacements:,label,messageOverrides:,messages:,moveToItems:,open,overlayPositioning,placement,scale,setPosition,setSize,sortDisabled,widthScale;setFocus"],"calcite-sortable-list":[()=>F(()=>import("./customElement-DkDpnvb0.js"),__vite__mapDeps([142,16,1,48,6,7,9])),"canPull:,canPut:,disabled,dragSelector,group,handleSelector,layout,loading"],"calcite-split-button":[()=>F(()=>import("./customElement-dk67dKl9.js"),__vite__mapDeps([143,16,10,11,8,9,6,7])),"active,appearance,disabled,download,dropdownIconType,dropdownLabel,flipPlacements:,href,kind,loading,overlayPositioning,placement,primaryIconEnd,primaryIconFlipRtl,primaryIconStart,primaryLabel,primaryText,rel,scale,target,width;setFocus"],"calcite-stack":[()=>F(()=>import("./customElement-BiG-smTD.js"),__vite__mapDeps([144,3,4,6,7,110])),"disabled"],"calcite-stepper":[()=>F(()=>import("./customElement-BTdgTtyV.js"),__vite__mapDeps([145,5,4,6,7,1,12,11,8,9])),"icon,layout,messageOverrides:,numbered,numberingSystem,scale,selectedItem:;endStep,goToStep,nextStep,prevStep,startStep"],"calcite-stepper-item":[()=>F(()=>import("./customElement-BsilafA9.js"),__vite__mapDeps([146,5,4,16,30,27,12,11,8,9,10,6,7])),"complete,description,disabled,error,heading,icon,iconFlipRtl,itemHidden,layout,messageOverrides:,numbered,numberingSystem,scale,selected;setFocus"],"calcite-swatch":[()=>F(()=>import("./customElement-fAQgrHhD.js"),__vite__mapDeps([147,3,4,5,43,44,6,7,16,10,11,8,9])),"color,disabled,interactive,label,parentSwatchGroup:,scale,selected,selectionMode,value;setFocus"],"calcite-swatch-group":[()=>F(()=>import("./customElement-Di0QRmAu.js"),__vite__mapDeps([148,5,4,6,7,16,10,11,8,9])),"disabled,label,scale,selectedItems:,selectionMode;setFocus"],"calcite-switch":[()=>F(()=>import("./customElement-D7EUSuNY.js"),__vite__mapDeps([149,5,4,17,6,7,16,27,36,37,10,11,8,9])),"checked,disabled,form,label,labelTextEnd,labelTextStart,name,scale,value;setFocus"],"calcite-tab":[()=>F(()=>import("./customElement-mkr2ajys.js"),__vite__mapDeps([150,6,7])),"scale,selected,tab;getTabIndex;_updateAriaInfo"],"calcite-tab-nav":[()=>F(()=>import("./customElement-D4STNNeu.js"),__vite__mapDeps([151,5,4,3,66,6,7,1,12,11])),"bordered,layout,messageOverrides:,position,scale,selectedTitle:,storageId,syncId"],"calcite-tab-title":[()=>F(()=>import("./customElement-DnUpbnEU.js"),__vite__mapDeps([152,3,4,5,6,7,16,1,8,9,68,12,11])),"bordered,closable,closed,disabled,iconEnd,iconFlipRtl,iconStart,layout,messageOverrides:,position,scale,selected,tab;activateTab,getTabIdentifier,getTabIndex;_updateAriaInfo"],"calcite-table":[()=>F(()=>import("./customElement-B-SPe2V1.js"),__vite__mapDeps([153,5,4,30,27,12,11,8,9])),"bordered,caption,groupSeparator,interactionMode,layout,messageOverrides:,numbered,numberingSystem,pageSize,scale,selectedItems:,selectionDisplay,selectionMode,striped"],"calcite-table-cell":[()=>F(()=>import("./customElement-D7cuZICX.js"),__vite__mapDeps([154,5,4,16,6,7,12,11,10,8,9])),"alignment,colSpan,disabled,interactionMode,lastCell,messageOverrides:,numberCell,parentRowAlignment,parentRowIsSelected,parentRowPositionLocalized,parentRowType,positionInRow,readCellContentsToAT,rowSpan,scale,selectionCell;setFocus"],"calcite-table-header":[()=>F(()=>import("./customElement-DIQksk_a.js"),__vite__mapDeps([155,5,4,8,9,12,11,10,6,7])),"alignment,bodyRowCount,colSpan,description,heading,interactionMode,lastCell,messageOverrides:,numberCell,parentRowAlignment,parentRowIsSelected,parentRowType,positionInRow,rowSpan,scale,selectedRowCount,selectedRowCountLocalized,selectionCell,selectionMode;setFocus"],"calcite-table-row":[()=>F(()=>import("./customElement-CXRehlER.js"),__vite__mapDeps([156,3,4,5,6,7,27,16,8,9])),"alignment,bodyRowCount,cellCount,disabled,interactionMode,itemHidden,lastVisibleRow,numbered,positionAll,positionSection,positionSectionLocalized,readCellContentsToAT,rowType,scale,selected,selectedRowCount,selectedRowCountLocalized,selectionMode"],"calcite-tabs":[()=>F(()=>import("./customElement-DUXdun2B.js"),__vite__mapDeps([157,5,4,6,7])),"bordered,layout,position,scale"],"calcite-text-area":[()=>F(()=>import("./customElement-DZox6oke.js"),__vite__mapDeps([158,65,4,5,11,17,6,7,36,30,27,1,16,37,38,98,12,22,10,8,9,61,23])),"columns,disabled,form,groupSeparator,label,labelText,limitText,maxLength,messageOverrides:,minLength,name,numberingSystem,placeholder,readOnly,required,resize,rows,scale,status,validationIcon,validationMessage,validity:,value,wrap;selectText,setFocus"],"calcite-tile":[()=>F(()=>import("./customElement-CuMAZs3g.js"),__vite__mapDeps([159,5,4,16,6,7,10,11,8,9])),"active,alignment,description,disabled,embed,heading,href,icon,iconFlipRtl,interactive,label,layout,scale,selected,selectionAppearance,selectionMode;setFocus"],"calcite-tile-group":[()=>F(()=>import("./customElement-DZwz1-LJ.js"),__vite__mapDeps([160,5,4,16,1,6,7])),"alignment,disabled,label,layout,scale,selectedItems:,selectionAppearance,selectionMode"],"calcite-tile-select":[()=>F(()=>import("./customElement-ePSz5jZt.js"),__vite__mapDeps([161,7,16,9,10,11,8,6])),"checked,description,disabled,heading,icon,iconFlipRtl,inputAlignment,inputEnabled,name,type,value,width;setFocus"],"calcite-tile-select-group":[()=>F(()=>import("./customElement-BIYUZzHF.js"),__vite__mapDeps([162,16,9])),"disabled,layout"],"calcite-time-picker":[()=>F(()=>import("./customElement-D0h1SQDp.js"),__vite__mapDeps([163,5,4,30,27,8,9,60,6,7,12,11,10,104,41])),"hourFormat,messageOverrides:,numberingSystem,scale,step,time:,value;setFocus"],"calcite-tip":[()=>F(()=>import("./customElement-BjKt2GoZ.js"),__vite__mapDeps([164,3,4,13,14,9,6,7,12,11])),"closed,closeDisabled,heading,headingLevel,messageOverrides:,selected"],"calcite-tip-group":[()=>F(()=>import("./customElement-D4zItEbS.js"),__vite__mapDeps([165,9])),"groupTitle"],"calcite-tip-manager":[()=>F(()=>import("./customElement-CpHhJwY3.js"),__vite__mapDeps([166,5,4,3,6,7,1,13,14,9,12,11])),"closed,headingLevel,messageOverrides:;nextTip,previousTip"],"calcite-tooltip":[()=>F(()=>import("./customElement-BjJ4gQCd.js"),__vite__mapDeps([167,5,4,35,6,7,23,31,127,3])),"closeOnClick,label,offsetDistance,offsetSkidding,open,overlayPositioning,placement,referenceElement;reposition"],"calcite-tree":[()=>F(()=>import("./customElement-RPAlOVBt.js"),__vite__mapDeps([168,6,7])),"child,lines,parentExpanded,scale,selectedItems:,selectionMode"],"calcite-tree-item":[()=>F(()=>import("./customElement-BraHo63g.js"),__vite__mapDeps([169,3,4,5,6,7,16,8,9])),"depth,disabled,expanded,hasChildren,iconFlipRtl,iconStart,indeterminate,label,lines,parentExpanded,scale,selected,selectionMode"]});var Pc={exports:{}},Te={};var am;function kb(){if(am)return Te;am=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,k={};function C(E,N,$){this.props=E,this.context=N,this.refs=k,this.updater=$||T}C.prototype.isReactComponent={},C.prototype.setState=function(E,N){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,N,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function L(){}L.prototype=C.prototype;function M(E,N,$){this.props=E,this.context=N,this.refs=k,this.updater=$||T}var Y=M.prototype=new L;Y.constructor=M,z(Y,C.prototype),Y.isPureReactComponent=!0;var K=Array.isArray;function H(){}var V={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function pe(E,N,$){var Q=$.ref;return{$$typeof:u,type:E,key:N,ref:Q!==void 0?Q:null,props:$}}function me(E,N){return pe(E.type,N,E.props)}function le(E){return typeof E=="object"&&E!==null&&E.$$typeof===u}function ne(E){var N={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function($){return N[$]})}var oe=/\/+/g;function Ue(E,N){return typeof E=="object"&&E!==null&&E.key!=null?ne(""+E.key):N.toString(36)}function Ce(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(H,H):(E.status="pending",E.then(function(N){E.status==="pending"&&(E.status="fulfilled",E.value=N)},function(N){E.status==="pending"&&(E.status="rejected",E.reason=N)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function O(E,N,$,Q,ie){var te=typeof E;(te==="undefined"||te==="boolean")&&(E=null);var de=!1;if(E===null)de=!0;else switch(te){case"bigint":case"string":case"number":de=!0;break;case"object":switch(E.$$typeof){case u:case i:de=!0;break;case m:return de=E._init,O(de(E._payload),N,$,Q,ie)}}if(de)return ie=ie(E),de=Q===""?"."+Ue(E,0):Q,K(ie)?($="",de!=null&&($=de.replace(oe,"$&/")+"/"),O(ie,N,$,"",function(He){return He})):ie!=null&&(le(ie)&&(ie=me(ie,$+(ie.key==null||E&&E.key===ie.key?"":(""+ie.key).replace(oe,"$&/")+"/")+de)),N.push(ie)),1;de=0;var Z=Q===""?".":Q+":";if(K(E))for(var Se=0;Se<E.length;Se++)Q=E[Se],te=Z+Ue(Q,Se),de+=O(Q,N,$,te,ie);else if(Se=w(E),typeof Se=="function")for(E=Se.call(E),Se=0;!(Q=E.next()).done;)Q=Q.value,te=Z+Ue(Q,Se++),de+=O(Q,N,$,te,ie);else if(te==="object"){if(typeof E.then=="function")return O(Ce(E),N,$,Q,ie);throw N=String(E),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return de}function I(E,N,$){if(E==null)return E;var Q=[],ie=0;return O(E,Q,"","",function(te){return N.call($,te,ie++)}),Q}function W(E){if(E._status===-1){var N=E._result;N=N(),N.then(function($){(E._status===0||E._status===-1)&&(E._status=1,E._result=$)},function($){(E._status===0||E._status===-1)&&(E._status=2,E._result=$)}),E._status===-1&&(E._status=0,E._result=N)}if(E._status===1)return E._result.default;throw E._result}var ue=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},ee={map:I,forEach:function(E,N,$){I(E,function(){N.apply(this,arguments)},$)},count:function(E){var N=0;return I(E,function(){N++}),N},toArray:function(E){return I(E,function(N){return N})||[]},only:function(E){if(!le(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Te.Activity=b,Te.Children=ee,Te.Component=C,Te.Fragment=s,Te.Profiler=o,Te.PureComponent=M,Te.StrictMode=l,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Te.__COMPILER_RUNTIME={__proto__:null,c:function(E){return V.H.useMemoCache(E)}},Te.cache=function(E){return function(){return E.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(E,N,$){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Q=z({},E.props),ie=E.key;if(N!=null)for(te in N.key!==void 0&&(ie=""+N.key),N)!P.call(N,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&N.ref===void 0||(Q[te]=N[te]);var te=arguments.length-2;if(te===1)Q.children=$;else if(1<te){for(var de=Array(te),Z=0;Z<te;Z++)de[Z]=arguments[Z+2];Q.children=de}return pe(E.type,ie,Q)},Te.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:d,_context:E},E},Te.createElement=function(E,N,$){var Q,ie={},te=null;if(N!=null)for(Q in N.key!==void 0&&(te=""+N.key),N)P.call(N,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=N[Q]);var de=arguments.length-2;if(de===1)ie.children=$;else if(1<de){for(var Z=Array(de),Se=0;Se<de;Se++)Z[Se]=arguments[Se+2];ie.children=Z}if(E&&E.defaultProps)for(Q in de=E.defaultProps,de)ie[Q]===void 0&&(ie[Q]=de[Q]);return pe(E,te,ie)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(E){return{$$typeof:p,render:E}},Te.isValidElement=le,Te.lazy=function(E){return{$$typeof:m,_payload:{_status:-1,_result:E},_init:W}},Te.memo=function(E,N){return{$$typeof:y,type:E,compare:N===void 0?null:N}},Te.startTransition=function(E){var N=V.T,$={};V.T=$;try{var Q=E(),ie=V.S;ie!==null&&ie($,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(H,ue)}catch(te){ue(te)}finally{N!==null&&$.types!==null&&(N.types=$.types),V.T=N}},Te.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Te.use=function(E){return V.H.use(E)},Te.useActionState=function(E,N,$){return V.H.useActionState(E,N,$)},Te.useCallback=function(E,N){return V.H.useCallback(E,N)},Te.useContext=function(E){return V.H.useContext(E)},Te.useDebugValue=function(){},Te.useDeferredValue=function(E,N){return V.H.useDeferredValue(E,N)},Te.useEffect=function(E,N){return V.H.useEffect(E,N)},Te.useEffectEvent=function(E){return V.H.useEffectEvent(E)},Te.useId=function(){return V.H.useId()},Te.useImperativeHandle=function(E,N,$){return V.H.useImperativeHandle(E,N,$)},Te.useInsertionEffect=function(E,N){return V.H.useInsertionEffect(E,N)},Te.useLayoutEffect=function(E,N){return V.H.useLayoutEffect(E,N)},Te.useMemo=function(E,N){return V.H.useMemo(E,N)},Te.useOptimistic=function(E,N){return V.H.useOptimistic(E,N)},Te.useReducer=function(E,N,$){return V.H.useReducer(E,N,$)},Te.useRef=function(E){return V.H.useRef(E)},Te.useState=function(E){return V.H.useState(E)},Te.useSyncExternalStore=function(E,N,$){return V.H.useSyncExternalStore(E,N,$)},Te.useTransition=function(){return V.H.useTransition()},Te.version="19.2.0",Te}var nm;function Lu(){return nm||(nm=1,Pc.exports=kb()),Pc.exports}var he=Lu();const Bb=wv(he);var eu={exports:{}},Hs={},tu={exports:{}},au={};var im;function $b(){return im||(im=1,(function(u){function i(O,I){var W=O.length;O.push(I);e:for(;0<W;){var ue=W-1>>>1,ee=O[ue];if(0<o(ee,I))O[ue]=I,O[W]=ee,W=ue;else break e}}function s(O){return O.length===0?null:O[0]}function l(O){if(O.length===0)return null;var I=O[0],W=O.pop();if(W!==I){O[0]=W;e:for(var ue=0,ee=O.length,E=ee>>>1;ue<E;){var N=2*(ue+1)-1,$=O[N],Q=N+1,ie=O[Q];if(0>o($,W))Q<ee&&0>o(ie,$)?(O[ue]=ie,O[Q]=W,ue=Q):(O[ue]=$,O[N]=W,ue=N);else if(Q<ee&&0>o(ie,W))O[ue]=ie,O[Q]=W,ue=Q;else break e}}return I}function o(O,I){var W=O.sortIndex-I.sortIndex;return W!==0?W:O.id-I.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();u.unstable_now=function(){return f.now()-p}}var g=[],y=[],m=1,b=null,S=3,w=!1,T=!1,z=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function Y(O){for(var I=s(y);I!==null;){if(I.callback===null)l(y);else if(I.startTime<=O)l(y),I.sortIndex=I.expirationTime,i(g,I);else break;I=s(y)}}function K(O){if(z=!1,Y(O),!T)if(s(g)!==null)T=!0,H||(H=!0,ne());else{var I=s(y);I!==null&&Ce(K,I.startTime-O)}}var H=!1,V=-1,P=5,pe=-1;function me(){return k?!0:!(u.unstable_now()-pe<P)}function le(){if(k=!1,H){var O=u.unstable_now();pe=O;var I=!0;try{e:{T=!1,z&&(z=!1,L(V),V=-1),w=!0;var W=S;try{t:{for(Y(O),b=s(g);b!==null&&!(b.expirationTime>O&&me());){var ue=b.callback;if(typeof ue=="function"){b.callback=null,S=b.priorityLevel;var ee=ue(b.expirationTime<=O);if(O=u.unstable_now(),typeof ee=="function"){b.callback=ee,Y(O),I=!0;break t}b===s(g)&&l(g),Y(O)}else l(g);b=s(g)}if(b!==null)I=!0;else{var E=s(y);E!==null&&Ce(K,E.startTime-O),I=!1}}break e}finally{b=null,S=W,w=!1}I=void 0}}finally{I?ne():H=!1}}}var ne;if(typeof M=="function")ne=function(){M(le)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ue=oe.port2;oe.port1.onmessage=le,ne=function(){Ue.postMessage(null)}}else ne=function(){C(le,0)};function Ce(O,I){V=C(function(){O(u.unstable_now())},I)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(O){O.callback=null},u.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},u.unstable_getCurrentPriorityLevel=function(){return S},u.unstable_next=function(O){switch(S){case 1:case 2:case 3:var I=3;break;default:I=S}var W=S;S=I;try{return O()}finally{S=W}},u.unstable_requestPaint=function(){k=!0},u.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=S;S=O;try{return I()}finally{S=W}},u.unstable_scheduleCallback=function(O,I,W){var ue=u.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ue+W:ue):W=ue,O){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=W+ee,O={id:m++,callback:I,priorityLevel:O,startTime:W,expirationTime:ee,sortIndex:-1},W>ue?(O.sortIndex=W,i(y,O),s(g)===null&&O===s(y)&&(z?(L(V),V=-1):z=!0,Ce(K,W-ue))):(O.sortIndex=ee,i(g,O),T||w||(T=!0,H||(H=!0,ne()))),O},u.unstable_shouldYield=me,u.unstable_wrapCallback=function(O){var I=S;return function(){var W=S;S=I;try{return O.apply(this,arguments)}finally{S=W}}}})(au)),au}var sm;function Hb(){return sm||(sm=1,tu.exports=$b()),tu.exports}var nu={exports:{}},jt={};var lm;function qb(){if(lm)return jt;lm=1;var u=Lu();function i(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)y+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(g,y,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:m}}var f=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,jt.createPortal=function(g,y){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(i(299));return d(g,y,null,m)},jt.flushSync=function(g){var y=f.T,m=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=y,l.p=m,l.d.f()}},jt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(g,y))},jt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},jt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var m=y.as,b=p(m,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,w=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;m==="style"?l.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:w}):m==="script"&&l.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:w,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},jt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var m=p(y.as,y.crossOrigin);l.d.M(g,{crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(g)},jt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var m=y.as,b=p(m,y.crossOrigin);l.d.L(g,m,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},jt.preloadModule=function(g,y){if(typeof g=="string")if(y){var m=p(y.as,y.crossOrigin);l.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(g)},jt.requestFormReset=function(g){l.d.r(g)},jt.unstable_batchedUpdates=function(g,y){return g(y)},jt.useFormState=function(g,y,m){return f.H.useFormState(g,y,m)},jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},jt.version="19.2.0",jt}var rm;function Vb(){if(rm)return nu.exports;rm=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),nu.exports=qb(),nu.exports}var om;function Gb(){if(om)return Hs;om=1;var u=Hb(),i=Lu(),s=Vb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var c=r.alternate;if(c===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===a)return g(r),e;if(c===n)return g(r),t;c=c.sibling}throw Error(l(188))}if(a.return!==n.return)a=r,n=c;else{for(var h=!1,v=r.child;v;){if(v===a){h=!0,a=r,n=c;break}if(v===n){h=!0,n=r,a=c;break}v=v.sibling}if(!h){for(v=c.child;v;){if(v===a){h=!0,a=c,n=r;break}if(v===n){h=!0,n=c,a=r;break}v=v.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==n)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),M=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList";case pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case M:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:Ue(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Ue(e(t))}catch{}}return null}var Ce=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ue=[],ee=-1;function E(e){return{current:e}}function N(e){0>ee||(e.current=ue[ee],ue[ee]=null,ee--)}function $(e,t){ee++,ue[ee]=e.current,e.current=t}var Q=E(null),ie=E(null),te=E(null),de=E(null);function Z(e,t){switch($(te,t),$(ie,e),$(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ip(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ip(t),e=sp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}N(Q),$(Q,e)}function Se(){N(Q),N(ie),N(te)}function He(e){e.memoizedState!==null&&$(de,e);var t=Q.current,a=sp(t,e.type);t!==a&&($(ie,e),$(Q,a))}function Tt(e){ie.current===e&&(N(Q),N(ie)),de.current===e&&(N(de),js._currentValue=W)}var xe,Rt;function Dt(e){if(xe===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);xe=t&&t[1]||"",Rt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+e+Rt}var Yt=!1;function X(e,t){if(!e||Yt)return"";Yt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(B){var U=B}Reflect.construct(e,[],J)}else{try{J.call()}catch(B){U=B}e.call(J.prototype)}}else{try{throw Error()}catch(B){U=B}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),h=c[0],v=c[1];if(h&&v){var _=h.split(`
`),D=v.split(`
`);for(r=n=0;n<_.length&&!_[n].includes("DetermineComponentFrameRoot");)n++;for(;r<D.length&&!D[r].includes("DetermineComponentFrameRoot");)r++;if(n===_.length||r===D.length)for(n=_.length-1,r=D.length-1;1<=n&&0<=r&&_[n]!==D[r];)r--;for(;1<=n&&0<=r;n--,r--)if(_[n]!==D[r]){if(n!==1||r!==1)do if(n--,r--,0>r||_[n]!==D[r]){var q=`
`+_[n].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=n&&0<=r);break}}}finally{Yt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Dt(a):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return Dt(e.type);case 16:return Dt("Lazy");case 13:return e.child!==t&&t!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return X(e.type,!1);case 11:return X(e.type.render,!1);case 1:return X(e.type,!0);case 31:return Dt("Activity");default:return""}}function be(e){try{var t="",a=null;do t+=re(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var je=Object.prototype.hasOwnProperty,ze=u.unstable_scheduleCallback,qe=u.unstable_cancelCallback,rt=u.unstable_shouldYield,Nt=u.unstable_requestPaint,Le=u.unstable_now,bt=u.unstable_getCurrentPriorityLevel,Aa=u.unstable_ImmediatePriority,Qa=u.unstable_UserBlockingPriority,Pn=u.unstable_NormalPriority,il=u.unstable_LowPriority,Ye=u.unstable_IdlePriority,Ie=u.log,et=u.unstable_setDisableYieldValue,ge=null,ve=null;function se(e){if(typeof Ie=="function"&&et(e),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(ge,e)}catch{}}var _e=Math.clz32?Math.clz32:it,Ae=Math.log,Ut=Math.LN2;function it(e){return e>>>=0,e===0?32:31-(Ae(e)/Ut|0)|0}var It=256,Za=262144,Ka=4194304;function st(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xe(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=n&134217727;return v!==0?(n=v&~c,n!==0?r=st(n):(h&=v,h!==0?r=st(h):a||(a=v&~e,a!==0&&(r=st(a))))):(v=n&~c,v!==0?r=st(v):h!==0?r=st(h):a||(a=n&~e,a!==0&&(r=st(a)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:r}function Ge(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function dt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(){var e=Ka;return Ka<<=1,(Ka&62914560)===0&&(Ka=4194304),e}function Ca(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function xa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function St(e,t,a,n,r,c){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,D=e.hiddenUpdates;for(a=h&~a;0<a;){var q=31-_e(a),J=1<<q;v[q]=0,_[q]=-1;var U=D[q];if(U!==null)for(D[q]=null,q=0;q<U.length;q++){var B=U[q];B!==null&&(B.lane&=-536870913)}a&=~J}n!==0&&pt(e,n,0),c!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function pt(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-_e(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function va(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-_e(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function Hu(e,t){var a=t&-t;return a=(a&42)!==0?1:Ir(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ir(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function kr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qu(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Op(e.type))}function Vu(e,t){var a=I.p;try{return I.p=e,t()}finally{I.p=a}}var Wa=Math.random().toString(36).slice(2),At="__reactFiber$"+Wa,kt="__reactProps$"+Wa,ei="__reactContainer$"+Wa,Br="__reactEvents$"+Wa,dg="__reactListeners$"+Wa,fg="__reactHandles$"+Wa,Gu="__reactResources$"+Wa,Qi="__reactMarker$"+Wa;function $r(e){delete e[At],delete e[kt],delete e[Br],delete e[dg],delete e[fg]}function ti(e){var t=e[At];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ei]||a[At]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=fp(e);e!==null;){if(a=e[At])return a;e=fp(e)}return t}e=a,a=e.parentNode}return null}function ai(e){if(e=e[At]||e[ei]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Zi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function ni(e){var t=e[Gu];return t||(t=e[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Et(e){e[Qi]=!0}var Ju=new Set,Fu={};function On(e,t){ii(e,t),ii(e+"Capture",t)}function ii(e,t){for(Fu[e]=t,e=0;e<t.length;e++)Ju.add(t[e])}var hg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yu={},Xu={};function pg(e){return je.call(Xu,e)?!0:je.call(Yu,e)?!1:hg.test(e)?Xu[e]=!0:(Yu[e]=!0,!1)}function sl(e,t,a){if(pg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ll(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Oa(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function na(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mg(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(h){a=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hr(e){if(!e._valueTracker){var t=Qu(e)?"checked":"value";e._valueTracker=mg(e,t,""+e[t])}}function Zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Qu(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gg=/[\n"\\]/g;function ia(e){return e.replace(gg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qr(e,t,a,n,r,c,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+na(t)):e.value!==""+na(t)&&(e.value=""+na(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Vr(e,h,na(t)):a!=null?Vr(e,h,na(a)):n!=null&&e.removeAttribute("value"),r==null&&c!=null&&(e.defaultChecked=!!c),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+na(v):e.removeAttribute("name")}function Ku(e,t,a,n,r,c,h,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Hr(e);return}a=a!=null?""+na(a):"",t=t!=null?""+na(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=v?e.checked:!!n,e.defaultChecked=!!n,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Hr(e)}function Vr(e,t,a){t==="number"&&rl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function si(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+na(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Wu(e,t,a){if(t!=null&&(t=""+na(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+na(a):""}function Pu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(l(92));if(Ce(n)){if(1<n.length)throw Error(l(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=na(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Hr(e)}function li(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var yg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ed(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||yg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function td(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&ed(e,r,n)}else for(var c in t)t.hasOwnProperty(c)&&ed(e,c,t[c])}function Gr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ol(e){return bg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ma(){}var Jr=null;function Fr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ri=null,oi=null;function ad(e){var t=ai(e);if(t&&(e=t.stateNode)){var a=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(qr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ia(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[kt]||null;if(!r)throw Error(l(90));qr(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Zu(n)}break e;case"textarea":Wu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&si(e,!!a.multiple,t,!1)}}}var Yr=!1;function nd(e,t,a){if(Yr)return e(t,a);Yr=!0;try{var n=e(t);return n}finally{if(Yr=!1,(ri!==null||oi!==null)&&(Ql(),ri&&(t=ri,e=oi,oi=ri=null,ad(t),e)))for(t=0;t<e.length;t++)ad(e[t])}}function Ki(e,t){var a=e.stateNode;if(a===null)return null;var n=a[kt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(Ra)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{Xr=!1}var Pa=null,Qr=null,cl=null;function id(){if(cl)return cl;var e,t=Qr,a=t.length,n,r="value"in Pa?Pa.value:Pa.textContent,c=r.length;for(e=0;e<a&&t[e]===r[e];e++);var h=a-e;for(n=1;n<=h&&t[a-n]===r[c-n];n++);return cl=r.slice(e,1<n?1-n:void 0)}function ul(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dl(){return!0}function sd(){return!1}function Bt(e){function t(a,n,r,c,h){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?dl:sd,this.isPropagationStopped=sd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),t}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Bt(Mn),Pi=b({},Mn,{view:0,detail:0}),Sg=Bt(Pi),Zr,Kr,es,hl=b({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&e.type==="mousemove"?(Zr=e.screenX-es.screenX,Kr=e.screenY-es.screenY):Kr=Zr=0,es=e),Zr)},movementY:function(e){return"movementY"in e?e.movementY:Kr}}),ld=Bt(hl),_g=b({},hl,{dataTransfer:0}),Tg=Bt(_g),Eg=b({},Pi,{relatedTarget:0}),Wr=Bt(Eg),wg=b({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ag=Bt(wg),Cg=b({},Mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xg=Bt(Cg),Og=b({},Mn,{data:0}),rd=Bt(Og),Mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dg[e])?!!t[e]:!1}function Pr(){return Ng}var Ug=b({},Pi,{key:function(e){if(e.key){var t=Mg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(e){return e.type==="keypress"?ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jg=Bt(Ug),Lg=b({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=Bt(Lg),zg=b({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),Ig=Bt(zg),kg=b({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bg=Bt(kg),$g=b({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hg=Bt($g),qg=b({},Mn,{newState:0,oldState:0}),Vg=Bt(qg),Gg=[9,13,27,32],eo=Ra&&"CompositionEvent"in window,ts=null;Ra&&"documentMode"in document&&(ts=document.documentMode);var Jg=Ra&&"TextEvent"in window&&!ts,cd=Ra&&(!eo||ts&&8<ts&&11>=ts),ud=" ",dd=!1;function fd(e,t){switch(e){case"keyup":return Gg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ci=!1;function Fg(e,t){switch(e){case"compositionend":return hd(t);case"keypress":return t.which!==32?null:(dd=!0,ud);case"textInput":return e=t.data,e===ud&&dd?null:e;default:return null}}function Yg(e,t){if(ci)return e==="compositionend"||!eo&&fd(e,t)?(e=id(),cl=Qr=Pa=null,ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cd&&t.locale!=="ko"?null:t.data;default:return null}}var Xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xg[e.type]:t==="textarea"}function md(e,t,a,n){ri?oi?oi.push(n):oi=[n]:ri=n,t=ar(t,"onChange"),0<t.length&&(a=new fl("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var as=null,ns=null;function Qg(e){Wh(e,0)}function pl(e){var t=Zi(e);if(Zu(t))return e}function gd(e,t){if(e==="change")return t}var yd=!1;if(Ra){var to;if(Ra){var ao="oninput"in document;if(!ao){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),ao=typeof vd.oninput=="function"}to=ao}else to=!1;yd=to&&(!document.documentMode||9<document.documentMode)}function bd(){as&&(as.detachEvent("onpropertychange",Sd),ns=as=null)}function Sd(e){if(e.propertyName==="value"&&pl(ns)){var t=[];md(t,ns,e,Fr(e)),nd(Qg,t)}}function Zg(e,t,a){e==="focusin"?(bd(),as=t,ns=a,as.attachEvent("onpropertychange",Sd)):e==="focusout"&&bd()}function Kg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pl(ns)}function Wg(e,t){if(e==="click")return pl(t)}function Pg(e,t){if(e==="input"||e==="change")return pl(t)}function ey(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:ey;function is(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!je.call(t,r)||!Xt(e[r],t[r]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Td(e,t){var a=_d(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_d(a)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=rl(e.document)}return t}function no(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ty=Ra&&"documentMode"in document&&11>=document.documentMode,ui=null,io=null,ss=null,so=!1;function Ad(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;so||ui==null||ui!==rl(n)||(n=ui,"selectionStart"in n&&no(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ss&&is(ss,n)||(ss=n,n=ar(io,"onSelect"),0<n.length&&(t=new fl("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=ui)))}function Rn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var di={animationend:Rn("Animation","AnimationEnd"),animationiteration:Rn("Animation","AnimationIteration"),animationstart:Rn("Animation","AnimationStart"),transitionrun:Rn("Transition","TransitionRun"),transitionstart:Rn("Transition","TransitionStart"),transitioncancel:Rn("Transition","TransitionCancel"),transitionend:Rn("Transition","TransitionEnd")},lo={},Cd={};Ra&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Dn(e){if(lo[e])return lo[e];if(!di[e])return e;var t=di[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Cd)return lo[e]=t[a];return e}var xd=Dn("animationend"),Od=Dn("animationiteration"),Md=Dn("animationstart"),ay=Dn("transitionrun"),ny=Dn("transitionstart"),iy=Dn("transitioncancel"),Rd=Dn("transitionend"),Dd=new Map,ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ro.push("scrollEnd");function ha(e,t){Dd.set(e,t),On(t,[e])}var ml=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sa=[],fi=0,oo=0;function gl(){for(var e=fi,t=oo=fi=0;t<e;){var a=sa[t];sa[t++]=null;var n=sa[t];sa[t++]=null;var r=sa[t];sa[t++]=null;var c=sa[t];if(sa[t++]=null,n!==null&&r!==null){var h=n.pending;h===null?r.next=r:(r.next=h.next,h.next=r),n.pending=r}c!==0&&Nd(a,r,c)}}function yl(e,t,a,n){sa[fi++]=e,sa[fi++]=t,sa[fi++]=a,sa[fi++]=n,oo|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function co(e,t,a,n){return yl(e,t,a,n),vl(e)}function Nn(e,t){return yl(e,null,null,t),vl(e)}function Nd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,c=e.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(r=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,r&&t!==null&&(r=31-_e(a),e=c.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),c):null}function vl(e){if(50<xs)throw xs=0,bc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hi={};function sy(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,a,n){return new sy(e,t,a,n)}function uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Da(e,t){var a=e.alternate;return a===null?(a=Qt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ud(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bl(e,t,a,n,r,c){var h=0;if(n=e,typeof e=="function")uo(e)&&(h=1);else if(typeof e=="string")h=uv(e,a,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pe:return e=Qt(31,a,t,r),e.elementType=pe,e.lanes=c,e;case z:return Un(a.children,r,c,t);case k:h=8,r|=24;break;case C:return e=Qt(12,a,t,r|2),e.elementType=C,e.lanes=c,e;case K:return e=Qt(13,a,t,r),e.elementType=K,e.lanes=c,e;case H:return e=Qt(19,a,t,r),e.elementType=H,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:h=10;break e;case L:h=9;break e;case Y:h=11;break e;case V:h=14;break e;case P:h=16,n=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),n=null}return t=Qt(h,a,t,r),t.elementType=e,t.type=n,t.lanes=c,t}function Un(e,t,a,n){return e=Qt(7,e,n,t),e.lanes=a,e}function fo(e,t,a){return e=Qt(6,e,null,t),e.lanes=a,e}function jd(e){var t=Qt(18,null,null,0);return t.stateNode=e,t}function ho(e,t,a){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ld=new WeakMap;function la(e,t){if(typeof e=="object"&&e!==null){var a=Ld.get(e);return a!==void 0?a:(t={value:e,source:t,stack:be(t)},Ld.set(e,t),t)}return{value:e,source:t,stack:be(t)}}var pi=[],mi=0,Sl=null,ls=0,ra=[],oa=0,en=null,ba=1,Sa="";function Na(e,t){pi[mi++]=ls,pi[mi++]=Sl,Sl=e,ls=t}function zd(e,t,a){ra[oa++]=ba,ra[oa++]=Sa,ra[oa++]=en,en=e;var n=ba;e=Sa;var r=32-_e(n)-1;n&=~(1<<r),a+=1;var c=32-_e(t)+r;if(30<c){var h=r-r%5;c=(n&(1<<h)-1).toString(32),n>>=h,r-=h,ba=1<<32-_e(t)+r|a<<r|n,Sa=c+e}else ba=1<<c|a<<r|n,Sa=e}function po(e){e.return!==null&&(Na(e,1),zd(e,1,0))}function mo(e){for(;e===Sl;)Sl=pi[--mi],pi[mi]=null,ls=pi[--mi],pi[mi]=null;for(;e===en;)en=ra[--oa],ra[oa]=null,Sa=ra[--oa],ra[oa]=null,ba=ra[--oa],ra[oa]=null}function Id(e,t){ra[oa++]=ba,ra[oa++]=Sa,ra[oa++]=en,ba=t.id,Sa=t.overflow,en=e}var Ct=null,tt=null,Ne=!1,tn=null,ca=!1,go=Error(l(519));function an(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rs(la(t,e)),go}function kd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[At]=e,t[kt]=n,a){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(a=0;a<Ms.length;a++)Me(Ms[a],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),Ku(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),Pu(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||ap(t.textContent,a)?(n.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),n.onScroll!=null&&Me("scroll",t),n.onScrollEnd!=null&&Me("scrollend",t),n.onClick!=null&&(t.onclick=Ma),t=!0):t=!1,t||an(e,!0)}function Bd(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:Ct=Ct.return}}function gi(e){if(e!==Ct)return!1;if(!Ne)return Bd(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||jc(e.type,e.memoizedProps)),a=!a),a&&tt&&an(e),Bd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));tt=dp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));tt=dp(e)}else t===27?(t=tt,yn(e.type)?(e=Bc,Bc=null,tt=e):tt=t):tt=Ct?da(e.stateNode.nextSibling):null;return!0}function jn(){tt=Ct=null,Ne=!1}function yo(){var e=tn;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),tn=null),e}function rs(e){tn===null?tn=[e]:tn.push(e)}var vo=E(null),Ln=null,Ua=null;function nn(e,t,a){$(vo,t._currentValue),t._currentValue=a}function ja(e){e._currentValue=vo.current,N(vo)}function bo(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function So(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){var h=r.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=r;for(var _=0;_<t.length;_++)if(v.context===t[_]){c.lanes|=a,v=c.alternate,v!==null&&(v.lanes|=a),bo(c.return,a,e),n||(h=null);break e}c=v.next}}else if(r.tag===18){if(h=r.return,h===null)throw Error(l(341));h.lanes|=a,c=h.alternate,c!==null&&(c.lanes|=a),bo(h,a,e),h=null}else h=r.child;if(h!==null)h.return=r;else for(h=r;h!==null;){if(h===e){h=null;break}if(r=h.sibling,r!==null){r.return=h.return,h=r;break}h=h.return}r=h}}function yi(e,t,a,n){e=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var h=r.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var v=r.type;Xt(r.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(r===de.current){if(h=r.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(js):e=[js])}r=r.return}e!==null&&So(t,e,a,n),t.flags|=262144}function _l(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zn(e){Ln=e,Ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xt(e){return $d(Ln,e)}function Tl(e,t){return Ln===null&&zn(e),$d(e,t)}function $d(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ua===null){if(e===null)throw Error(l(308));Ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ua=Ua.next=t;return a}var ly=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ry=u.unstable_scheduleCallback,oy=u.unstable_NormalPriority,mt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _o(){return{controller:new ly,data:new Map,refCount:0}}function os(e){e.refCount--,e.refCount===0&&ry(oy,function(){e.controller.abort()})}var cs=null,To=0,vi=0,bi=null;function cy(e,t){if(cs===null){var a=cs=[];To=0,vi=Ac(),bi={status:"pending",value:void 0,then:function(n){a.push(n)}}}return To++,t.then(Hd,Hd),t}function Hd(){if(--To===0&&cs!==null){bi!==null&&(bi.status="fulfilled");var e=cs;cs=null,vi=0,bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function uy(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var qd=O.S;O.S=function(e,t){Ch=Le(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cy(e,t),qd!==null&&qd(e,t)};var In=E(null);function Eo(){var e=In.current;return e!==null?e:We.pooledCache}function El(e,t){t===null?$(In,In.current):$(In,t.pool)}function Vd(){var e=Eo();return e===null?null:{parent:mt._currentValue,pool:e}}var Si=Error(l(460)),wo=Error(l(474)),wl=Error(l(542)),Al={then:function(){}};function Gd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ma,Ma),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yd(e),e;default:if(typeof t.status=="string")t.then(Ma,Ma);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yd(e),e}throw Bn=t,Si}}function kn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bn=a,Si):a}}var Bn=null;function Fd(){if(Bn===null)throw Error(l(459));var e=Bn;return Bn=null,e}function Yd(e){if(e===Si||e===wl)throw Error(l(483))}var _i=null,us=0;function Cl(e){var t=us;return us+=1,_i===null&&(_i=[]),Jd(_i,e,t)}function ds(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xl(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xd(e){function t(x,A){if(e){var R=x.deletions;R===null?(x.deletions=[A],x.flags|=16):R.push(A)}}function a(x,A){if(!e)return null;for(;A!==null;)t(x,A),A=A.sibling;return null}function n(x){for(var A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function r(x,A){return x=Da(x,A),x.index=0,x.sibling=null,x}function c(x,A,R){return x.index=R,e?(R=x.alternate,R!==null?(R=R.index,R<A?(x.flags|=67108866,A):R):(x.flags|=67108866,A)):(x.flags|=1048576,A)}function h(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function v(x,A,R,G){return A===null||A.tag!==6?(A=fo(R,x.mode,G),A.return=x,A):(A=r(A,R),A.return=x,A)}function _(x,A,R,G){var fe=R.type;return fe===z?q(x,A,R.props.children,G,R.key):A!==null&&(A.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===P&&kn(fe)===A.type)?(A=r(A,R.props),ds(A,R),A.return=x,A):(A=bl(R.type,R.key,R.props,null,x.mode,G),ds(A,R),A.return=x,A)}function D(x,A,R,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==R.containerInfo||A.stateNode.implementation!==R.implementation?(A=ho(R,x.mode,G),A.return=x,A):(A=r(A,R.children||[]),A.return=x,A)}function q(x,A,R,G,fe){return A===null||A.tag!==7?(A=Un(R,x.mode,G,fe),A.return=x,A):(A=r(A,R),A.return=x,A)}function J(x,A,R){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=fo(""+A,x.mode,R),A.return=x,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return R=bl(A.type,A.key,A.props,null,x.mode,R),ds(R,A),R.return=x,R;case T:return A=ho(A,x.mode,R),A.return=x,A;case P:return A=kn(A),J(x,A,R)}if(Ce(A)||ne(A))return A=Un(A,x.mode,R,null),A.return=x,A;if(typeof A.then=="function")return J(x,Cl(A),R);if(A.$$typeof===M)return J(x,Tl(x,A),R);xl(x,A)}return null}function U(x,A,R,G){var fe=A!==null?A.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return fe!==null?null:v(x,A,""+R,G);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case w:return R.key===fe?_(x,A,R,G):null;case T:return R.key===fe?D(x,A,R,G):null;case P:return R=kn(R),U(x,A,R,G)}if(Ce(R)||ne(R))return fe!==null?null:q(x,A,R,G,null);if(typeof R.then=="function")return U(x,A,Cl(R),G);if(R.$$typeof===M)return U(x,A,Tl(x,R),G);xl(x,R)}return null}function B(x,A,R,G,fe){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(R)||null,v(A,x,""+G,fe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return x=x.get(G.key===null?R:G.key)||null,_(A,x,G,fe);case T:return x=x.get(G.key===null?R:G.key)||null,D(A,x,G,fe);case P:return G=kn(G),B(x,A,R,G,fe)}if(Ce(G)||ne(G))return x=x.get(R)||null,q(A,x,G,fe,null);if(typeof G.then=="function")return B(x,A,R,Cl(G),fe);if(G.$$typeof===M)return B(x,A,R,Tl(A,G),fe);xl(A,G)}return null}function ae(x,A,R,G){for(var fe=null,ke=null,ce=A,we=A=0,De=null;ce!==null&&we<R.length;we++){ce.index>we?(De=ce,ce=null):De=ce.sibling;var Be=U(x,ce,R[we],G);if(Be===null){ce===null&&(ce=De);break}e&&ce&&Be.alternate===null&&t(x,ce),A=c(Be,A,we),ke===null?fe=Be:ke.sibling=Be,ke=Be,ce=De}if(we===R.length)return a(x,ce),Ne&&Na(x,we),fe;if(ce===null){for(;we<R.length;we++)ce=J(x,R[we],G),ce!==null&&(A=c(ce,A,we),ke===null?fe=ce:ke.sibling=ce,ke=ce);return Ne&&Na(x,we),fe}for(ce=n(ce);we<R.length;we++)De=B(ce,x,we,R[we],G),De!==null&&(e&&De.alternate!==null&&ce.delete(De.key===null?we:De.key),A=c(De,A,we),ke===null?fe=De:ke.sibling=De,ke=De);return e&&ce.forEach(function(Tn){return t(x,Tn)}),Ne&&Na(x,we),fe}function ye(x,A,R,G){if(R==null)throw Error(l(151));for(var fe=null,ke=null,ce=A,we=A=0,De=null,Be=R.next();ce!==null&&!Be.done;we++,Be=R.next()){ce.index>we?(De=ce,ce=null):De=ce.sibling;var Tn=U(x,ce,Be.value,G);if(Tn===null){ce===null&&(ce=De);break}e&&ce&&Tn.alternate===null&&t(x,ce),A=c(Tn,A,we),ke===null?fe=Tn:ke.sibling=Tn,ke=Tn,ce=De}if(Be.done)return a(x,ce),Ne&&Na(x,we),fe;if(ce===null){for(;!Be.done;we++,Be=R.next())Be=J(x,Be.value,G),Be!==null&&(A=c(Be,A,we),ke===null?fe=Be:ke.sibling=Be,ke=Be);return Ne&&Na(x,we),fe}for(ce=n(ce);!Be.done;we++,Be=R.next())Be=B(ce,x,we,Be.value,G),Be!==null&&(e&&Be.alternate!==null&&ce.delete(Be.key===null?we:Be.key),A=c(Be,A,we),ke===null?fe=Be:ke.sibling=Be,ke=Be);return e&&ce.forEach(function(_v){return t(x,_v)}),Ne&&Na(x,we),fe}function Ke(x,A,R,G){if(typeof R=="object"&&R!==null&&R.type===z&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case w:e:{for(var fe=R.key;A!==null;){if(A.key===fe){if(fe=R.type,fe===z){if(A.tag===7){a(x,A.sibling),G=r(A,R.props.children),G.return=x,x=G;break e}}else if(A.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===P&&kn(fe)===A.type){a(x,A.sibling),G=r(A,R.props),ds(G,R),G.return=x,x=G;break e}a(x,A);break}else t(x,A);A=A.sibling}R.type===z?(G=Un(R.props.children,x.mode,G,R.key),G.return=x,x=G):(G=bl(R.type,R.key,R.props,null,x.mode,G),ds(G,R),G.return=x,x=G)}return h(x);case T:e:{for(fe=R.key;A!==null;){if(A.key===fe)if(A.tag===4&&A.stateNode.containerInfo===R.containerInfo&&A.stateNode.implementation===R.implementation){a(x,A.sibling),G=r(A,R.children||[]),G.return=x,x=G;break e}else{a(x,A);break}else t(x,A);A=A.sibling}G=ho(R,x.mode,G),G.return=x,x=G}return h(x);case P:return R=kn(R),Ke(x,A,R,G)}if(Ce(R))return ae(x,A,R,G);if(ne(R)){if(fe=ne(R),typeof fe!="function")throw Error(l(150));return R=fe.call(R),ye(x,A,R,G)}if(typeof R.then=="function")return Ke(x,A,Cl(R),G);if(R.$$typeof===M)return Ke(x,A,Tl(x,R),G);xl(x,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,A!==null&&A.tag===6?(a(x,A.sibling),G=r(A,R),G.return=x,x=G):(a(x,A),G=fo(R,x.mode,G),G.return=x,x=G),h(x)):a(x,A)}return function(x,A,R,G){try{us=0;var fe=Ke(x,A,R,G);return _i=null,fe}catch(ce){if(ce===Si||ce===wl)throw ce;var ke=Qt(29,ce,null,x.mode);return ke.lanes=G,ke.return=x,ke}finally{}}}var $n=Xd(!0),Qd=Xd(!1),sn=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ln(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rn(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,($e&2)!==0){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=vl(e),Nd(e,null,a),t}return yl(e,n,t,a),vl(e)}function fs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,va(e,a)}}function xo(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?r=c=h:c=c.next=h,a=a.next}while(a!==null);c===null?r=c=t:c=c.next=t}else r=c=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Oo=!1;function hs(){if(Oo){var e=bi;if(e!==null)throw e}}function ps(e,t,a,n){Oo=!1;var r=e.updateQueue;sn=!1;var c=r.firstBaseUpdate,h=r.lastBaseUpdate,v=r.shared.pending;if(v!==null){r.shared.pending=null;var _=v,D=_.next;_.next=null,h===null?c=D:h.next=D,h=_;var q=e.alternate;q!==null&&(q=q.updateQueue,v=q.lastBaseUpdate,v!==h&&(v===null?q.firstBaseUpdate=D:v.next=D,q.lastBaseUpdate=_))}if(c!==null){var J=r.baseState;h=0,q=D=_=null,v=c;do{var U=v.lane&-536870913,B=U!==v.lane;if(B?(Re&U)===U:(n&U)===U){U!==0&&U===vi&&(Oo=!0),q!==null&&(q=q.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ae=e,ye=v;U=t;var Ke=a;switch(ye.tag){case 1:if(ae=ye.payload,typeof ae=="function"){J=ae.call(Ke,J,U);break e}J=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ye.payload,U=typeof ae=="function"?ae.call(Ke,J,U):ae,U==null)break e;J=b({},J,U);break e;case 2:sn=!0}}U=v.callback,U!==null&&(e.flags|=64,B&&(e.flags|=8192),B=r.callbacks,B===null?r.callbacks=[U]:B.push(U))}else B={lane:U,tag:v.tag,payload:v.payload,callback:v.callback,next:null},q===null?(D=q=B,_=J):q=q.next=B,h|=U;if(v=v.next,v===null){if(v=r.shared.pending,v===null)break;B=v,v=B.next,B.next=null,r.lastBaseUpdate=B,r.shared.pending=null}}while(!0);q===null&&(_=J),r.baseState=_,r.firstBaseUpdate=D,r.lastBaseUpdate=q,c===null&&(r.shared.lanes=0),fn|=h,e.lanes=h,e.memoizedState=J}}function Zd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Kd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zd(a[e],t)}var Ti=E(null),Ol=E(0);function Wd(e,t){e=Va,$(Ol,e),$(Ti,t),Va=e|t.baseLanes}function Mo(){$(Ol,Va),$(Ti,Ti.current)}function Ro(){Va=Ol.current,N(Ti),N(Ol)}var Zt=E(null),ua=null;function on(e){var t=e.alternate;$(ft,ft.current&1),$(Zt,e),ua===null&&(t===null||Ti.current!==null||t.memoizedState!==null)&&(ua=e)}function Do(e){$(ft,ft.current),$(Zt,e),ua===null&&(ua=e)}function Pd(e){e.tag===22?($(ft,ft.current),$(Zt,e),ua===null&&(ua=e)):cn()}function cn(){$(ft,ft.current),$(Zt,Zt.current)}function Kt(e){N(Zt),ua===e&&(ua=null),N(ft)}var ft=E(0);function Ml(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ic(a)||kc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=0,Ee=null,Qe=null,gt=null,Rl=!1,Ei=!1,Hn=!1,Dl=0,ms=0,wi=null,dy=0;function ot(){throw Error(l(321))}function No(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Xt(e[a],t[a]))return!1;return!0}function Uo(e,t,a,n,r,c){return La=c,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?If:Xo,Hn=!1,c=a(n,r),Hn=!1,Ei&&(c=tf(t,a,n,r)),ef(e),c}function ef(e){O.H=vs;var t=Qe!==null&&Qe.next!==null;if(La=0,gt=Qe=Ee=null,Rl=!1,ms=0,wi=null,t)throw Error(l(300));e===null||yt||(e=e.dependencies,e!==null&&_l(e)&&(yt=!0))}function tf(e,t,a,n){Ee=e;var r=0;do{if(Ei&&(wi=null),ms=0,Ei=!1,25<=r)throw Error(l(301));if(r+=1,gt=Qe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}O.H=kf,c=t(a,n)}while(Ei);return c}function fy(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?gs(t):t,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Ee.flags|=1024),t}function jo(){var e=Dl!==0;return Dl=0,e}function Lo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function zo(e){if(Rl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rl=!1}La=0,gt=Qe=Ee=null,Ei=!1,ms=Dl=0,wi=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ee.memoizedState=gt=e:gt=gt.next=e,gt}function ht(){if(Qe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=gt===null?Ee.memoizedState:gt.next;if(t!==null)gt=t,Qe=e;else{if(e===null)throw Ee.alternate===null?Error(l(467)):Error(l(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},gt===null?Ee.memoizedState=gt=e:gt=gt.next=e}return gt}function Nl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gs(e){var t=ms;return ms+=1,wi===null&&(wi=[]),e=Jd(wi,e,t),t=Ee,(gt===null?t.memoizedState:gt.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?If:Xo),e}function Ul(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gs(e);if(e.$$typeof===M)return xt(e)}throw Error(l(438,String(e)))}function Io(e){var t=null,a=Ee.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Ee.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Nl(),Ee.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=me;return t.index++,a}function za(e,t){return typeof t=="function"?t(e):t}function jl(e){var t=ht();return ko(t,Qe,e)}function ko(e,t,a){var n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=a;var r=e.baseQueue,c=n.pending;if(c!==null){if(r!==null){var h=r.next;r.next=c.next,c.next=h}t.baseQueue=r=c,n.pending=null}if(c=e.baseState,r===null)e.memoizedState=c;else{t=r.next;var v=h=null,_=null,D=t,q=!1;do{var J=D.lane&-536870913;if(J!==D.lane?(Re&J)===J:(La&J)===J){var U=D.revertLane;if(U===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),J===vi&&(q=!0);else if((La&U)===U){D=D.next,U===vi&&(q=!0);continue}else J={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(v=_=J,h=c):_=_.next=J,Ee.lanes|=U,fn|=U;J=D.action,Hn&&a(c,J),c=D.hasEagerState?D.eagerState:a(c,J)}else U={lane:J,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(v=_=U,h=c):_=_.next=U,Ee.lanes|=J,fn|=J;D=D.next}while(D!==null&&D!==t);if(_===null?h=c:_.next=v,!Xt(c,e.memoizedState)&&(yt=!0,q&&(a=bi,a!==null)))throw a;e.memoizedState=c,e.baseState=h,e.baseQueue=_,n.lastRenderedState=c}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Bo(e){var t=ht(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,c=t.memoizedState;if(r!==null){a.pending=null;var h=r=r.next;do c=e(c,h.action),h=h.next;while(h!==r);Xt(c,t.memoizedState)||(yt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,n]}function af(e,t,a){var n=Ee,r=ht(),c=Ne;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=t();var h=!Xt((Qe||r).memoizedState,a);if(h&&(r.memoizedState=a,yt=!0),r=r.queue,qo(lf.bind(null,n,r,e),[e]),r.getSnapshot!==t||h||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Ai(9,{destroy:void 0},sf.bind(null,n,r,a,t),null),We===null)throw Error(l(349));c||(La&127)!==0||nf(n,t,a)}return a}function nf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ee.updateQueue,t===null?(t=Nl(),Ee.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function sf(e,t,a,n){t.value=a,t.getSnapshot=n,rf(t)&&of(e)}function lf(e,t,a){return a(function(){rf(t)&&of(e)})}function rf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Xt(e,a)}catch{return!0}}function of(e){var t=Nn(e,2);t!==null&&Gt(t,e,2)}function $o(e){var t=zt();if(typeof e=="function"){var a=e;if(e=a(),Hn){se(!0);try{a()}finally{se(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:e},t}function cf(e,t,a,n){return e.baseState=a,ko(e,Qe,typeof n=="function"?n:za)}function hy(e,t,a,n,r){if(Il(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};O.T!==null?a(!0):c.isTransition=!1,n(c),a=t.pending,a===null?(c.next=t.pending=c,uf(t,c)):(c.next=a.next,t.pending=a.next=c)}}function uf(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var c=O.T,h={};O.T=h;try{var v=a(r,n),_=O.S;_!==null&&_(h,v),df(e,t,v)}catch(D){Ho(e,t,D)}finally{c!==null&&h.types!==null&&(c.types=h.types),O.T=c}}else try{c=a(r,n),df(e,t,c)}catch(D){Ho(e,t,D)}}function df(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){ff(e,t,n)},function(n){return Ho(e,t,n)}):ff(e,t,a)}function ff(e,t,a){t.status="fulfilled",t.value=a,hf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,uf(e,a)))}function Ho(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,hf(t),t=t.next;while(t!==n)}e.action=null}function hf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function pf(e,t){return t}function mf(e,t){if(Ne){var a=We.formState;if(a!==null){e:{var n=Ee;if(Ne){if(tt){t:{for(var r=tt,c=ca;r.nodeType!==8;){if(!c){r=null;break t}if(r=da(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){tt=da(r.nextSibling),n=r.data==="F!";break e}}an(n)}n=!1}n&&(t=a[0])}}return a=zt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:t},a.queue=n,a=jf.bind(null,Ee,n),n.dispatch=a,n=$o(!1),c=Yo.bind(null,Ee,!1,n.queue),n=zt(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=hy.bind(null,Ee,r,c,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function gf(e){var t=ht();return yf(t,Qe,e)}function yf(e,t,a){if(t=ko(e,t,pf)[0],e=jl(za)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=gs(t)}catch(h){throw h===Si?wl:h}else n=t;t=ht();var r=t.queue,c=r.dispatch;return a!==t.memoizedState&&(Ee.flags|=2048,Ai(9,{destroy:void 0},py.bind(null,r,a),null)),[n,c,e]}function py(e,t){e.action=t}function vf(e){var t=ht(),a=Qe;if(a!==null)return yf(t,a,e);ht(),t=t.memoizedState,a=ht();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Ai(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=Nl(),Ee.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function bf(){return ht().memoizedState}function Ll(e,t,a,n){var r=zt();Ee.flags|=e,r.memoizedState=Ai(1|t,{destroy:void 0},a,n===void 0?null:n)}function zl(e,t,a,n){var r=ht();n=n===void 0?null:n;var c=r.memoizedState.inst;Qe!==null&&n!==null&&No(n,Qe.memoizedState.deps)?r.memoizedState=Ai(t,c,a,n):(Ee.flags|=e,r.memoizedState=Ai(1|t,c,a,n))}function Sf(e,t){Ll(8390656,8,e,t)}function qo(e,t){zl(2048,8,e,t)}function my(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=Nl(),Ee.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function _f(e){var t=ht().memoizedState;return my({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Tf(e,t){return zl(4,2,e,t)}function Ef(e,t){return zl(4,4,e,t)}function wf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Af(e,t,a){a=a!=null?a.concat([e]):null,zl(4,4,wf.bind(null,t,e),a)}function Vo(){}function Cf(e,t){var a=ht();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&No(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function xf(e,t){var a=ht();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&No(t,n[1]))return n[0];if(n=e(),Hn){se(!0);try{e()}finally{se(!1)}}return a.memoizedState=[n,t],n}function Go(e,t,a){return a===void 0||(La&1073741824)!==0&&(Re&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Oh(),Ee.lanes|=e,fn|=e,a)}function Of(e,t,a,n){return Xt(a,t)?a:Ti.current!==null?(e=Go(e,a,n),Xt(e,t)||(yt=!0),e):(La&42)===0||(La&1073741824)!==0&&(Re&261930)===0?(yt=!0,e.memoizedState=a):(e=Oh(),Ee.lanes|=e,fn|=e,t)}function Mf(e,t,a,n,r){var c=I.p;I.p=c!==0&&8>c?c:8;var h=O.T,v={};O.T=v,Yo(e,!1,t,a);try{var _=r(),D=O.S;if(D!==null&&D(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var q=uy(_,n);ys(e,t,q,ea(e))}else ys(e,t,n,ea(e))}catch(J){ys(e,t,{then:function(){},status:"rejected",reason:J},ea())}finally{I.p=c,h!==null&&v.types!==null&&(h.types=v.types),O.T=h}}function gy(){}function Jo(e,t,a,n){if(e.tag!==5)throw Error(l(476));var r=Rf(e).queue;Mf(e,r,t,W,a===null?gy:function(){return Df(e),a(n)})}function Rf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:W},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Df(e){var t=Rf(e);t.next===null&&(t=e.alternate.memoizedState),ys(e,t.next.queue,{},ea())}function Fo(){return xt(js)}function Nf(){return ht().memoizedState}function Uf(){return ht().memoizedState}function yy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ea();e=ln(a);var n=rn(t,e,a);n!==null&&(Gt(n,t,a),fs(n,t,a)),t={cache:_o()},e.payload=t;return}t=t.return}}function vy(e,t,a){var n=ea();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Il(e)?Lf(t,a):(a=co(e,t,a,n),a!==null&&(Gt(a,e,n),zf(a,t,n)))}function jf(e,t,a){var n=ea();ys(e,t,a,n)}function ys(e,t,a,n){var r={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Il(e))Lf(t,r);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,v=c(h,a);if(r.hasEagerState=!0,r.eagerState=v,Xt(v,h))return yl(e,t,r,0),We===null&&gl(),!1}catch{}finally{}if(a=co(e,t,r,n),a!==null)return Gt(a,e,n),zf(a,t,n),!0}return!1}function Yo(e,t,a,n){if(n={lane:2,revertLane:Ac(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Il(e)){if(t)throw Error(l(479))}else t=co(e,a,n,2),t!==null&&Gt(t,e,2)}function Il(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Lf(e,t){Ei=Rl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function zf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,va(e,a)}}var vs={readContext:xt,use:Ul,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};vs.useEffectEvent=ot;var If={readContext:xt,use:Ul,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:Sf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ll(4194308,4,wf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ll(4194308,4,e,t)},useInsertionEffect:function(e,t){Ll(4,2,e,t)},useMemo:function(e,t){var a=zt();t=t===void 0?null:t;var n=e();if(Hn){se(!0);try{e()}finally{se(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=zt();if(a!==void 0){var r=a(t);if(Hn){se(!0);try{a(t)}finally{se(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=vy.bind(null,Ee,e),[n.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=$o(e);var t=e.queue,a=jf.bind(null,Ee,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Vo,useDeferredValue:function(e,t){var a=zt();return Go(a,e,t)},useTransition:function(){var e=$o(!1);return e=Mf.bind(null,Ee,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Ee,r=zt();if(Ne){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),We===null)throw Error(l(349));(Re&127)!==0||nf(n,t,a)}r.memoizedState=a;var c={value:a,getSnapshot:t};return r.queue=c,Sf(lf.bind(null,n,c,e),[e]),n.flags|=2048,Ai(9,{destroy:void 0},sf.bind(null,n,c,a,t),null),a},useId:function(){var e=zt(),t=We.identifierPrefix;if(Ne){var a=Sa,n=ba;a=(n&~(1<<32-_e(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Dl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=dy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fo,useFormState:mf,useActionState:mf,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Yo.bind(null,Ee,!0,a),a.dispatch=t,[e,t]},useMemoCache:Io,useCacheRefresh:function(){return zt().memoizedState=yy.bind(null,Ee)},useEffectEvent:function(e){var t=zt(),a={impl:e};return t.memoizedState=a,function(){if(($e&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Xo={readContext:xt,use:Ul,useCallback:Cf,useContext:xt,useEffect:qo,useImperativeHandle:Af,useInsertionEffect:Tf,useLayoutEffect:Ef,useMemo:xf,useReducer:jl,useRef:bf,useState:function(){return jl(za)},useDebugValue:Vo,useDeferredValue:function(e,t){var a=ht();return Of(a,Qe.memoizedState,e,t)},useTransition:function(){var e=jl(za)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:gs(e),t]},useSyncExternalStore:af,useId:Nf,useHostTransitionStatus:Fo,useFormState:gf,useActionState:gf,useOptimistic:function(e,t){var a=ht();return cf(a,Qe,e,t)},useMemoCache:Io,useCacheRefresh:Uf};Xo.useEffectEvent=_f;var kf={readContext:xt,use:Ul,useCallback:Cf,useContext:xt,useEffect:qo,useImperativeHandle:Af,useInsertionEffect:Tf,useLayoutEffect:Ef,useMemo:xf,useReducer:Bo,useRef:bf,useState:function(){return Bo(za)},useDebugValue:Vo,useDeferredValue:function(e,t){var a=ht();return Qe===null?Go(a,e,t):Of(a,Qe.memoizedState,e,t)},useTransition:function(){var e=Bo(za)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:gs(e),t]},useSyncExternalStore:af,useId:Nf,useHostTransitionStatus:Fo,useFormState:vf,useActionState:vf,useOptimistic:function(e,t){var a=ht();return Qe!==null?cf(a,Qe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Io,useCacheRefresh:Uf};kf.useEffectEvent=_f;function Qo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Zo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ea(),r=ln(n);r.payload=t,a!=null&&(r.callback=a),t=rn(e,r,n),t!==null&&(Gt(t,e,n),fs(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ea(),r=ln(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=rn(e,r,n),t!==null&&(Gt(t,e,n),fs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ea(),n=ln(a);n.tag=2,t!=null&&(n.callback=t),t=rn(e,n,a),t!==null&&(Gt(t,e,a),fs(t,e,a))}};function Bf(e,t,a,n,r,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,h):t.prototype&&t.prototype.isPureReactComponent?!is(a,n)||!is(r,c):!0}function $f(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Zo.enqueueReplaceState(t,t.state,null)}function qn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}function Hf(e){ml(e)}function qf(e){console.error(e)}function Vf(e){ml(e)}function kl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Gf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ko(e,t,a){return a=ln(a),a.tag=3,a.payload={element:null},a.callback=function(){kl(e,t)},a}function Jf(e){return e=ln(e),e.tag=3,e}function Ff(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var c=n.value;e.payload=function(){return r(c)},e.callback=function(){Gf(t,a,n)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Gf(t,a,n),typeof r!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})})}function by(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&yi(t,a,r,!0),a=Zt.current,a!==null){switch(a.tag){case 31:case 13:return ua===null?Zl():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===Al?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Tc(e,n,r)),!1;case 22:return a.flags|=65536,n===Al?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Tc(e,n,r)),!1}throw Error(l(435,a.tag))}return Tc(e,n,r),Zl(),!1}if(Ne)return t=Zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==go&&(e=Error(l(422),{cause:n}),rs(la(e,a)))):(n!==go&&(t=Error(l(423),{cause:n}),rs(la(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=la(n,a),r=Ko(e.stateNode,n,r),xo(e,r),ct!==4&&(ct=2)),!1;var c=Error(l(520),{cause:n});if(c=la(c,a),Cs===null?Cs=[c]:Cs.push(c),ct!==4&&(ct=2),t===null)return!0;n=la(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=Ko(a.stateNode,n,e),xo(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(hn===null||!hn.has(c))))return a.flags|=65536,r&=-r,a.lanes|=r,r=Jf(r),Ff(r,e,a,n),xo(a,r),!1}a=a.return}while(a!==null);return!1}var Wo=Error(l(461)),yt=!1;function Ot(e,t,a,n){t.child=e===null?Qd(t,null,a,n):$n(t,e.child,a,n)}function Yf(e,t,a,n,r){a=a.render;var c=t.ref;if("ref"in n){var h={};for(var v in n)v!=="ref"&&(h[v]=n[v])}else h=n;return zn(t),n=Uo(e,t,a,h,c,r),v=jo(),e!==null&&!yt?(Lo(e,t,r),Ia(e,t,r)):(Ne&&v&&po(t),t.flags|=1,Ot(e,t,n,r),t.child)}function Xf(e,t,a,n,r){if(e===null){var c=a.type;return typeof c=="function"&&!uo(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Qf(e,t,c,n,r)):(e=bl(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!lc(e,r)){var h=c.memoizedProps;if(a=a.compare,a=a!==null?a:is,a(h,n)&&e.ref===t.ref)return Ia(e,t,r)}return t.flags|=1,e=Da(c,n),e.ref=t.ref,e.return=t,t.child=e}function Qf(e,t,a,n,r){if(e!==null){var c=e.memoizedProps;if(is(c,n)&&e.ref===t.ref)if(yt=!1,t.pendingProps=n=c,lc(e,r))(e.flags&131072)!==0&&(yt=!0);else return t.lanes=e.lanes,Ia(e,t,r)}return Po(e,t,a,n,r)}function Zf(e,t,a,n){var r=n.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;n=r&~c}else n=0,t.child=null;return Kf(e,t,c,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&El(t,c!==null?c.cachePool:null),c!==null?Wd(t,c):Mo(),Pd(t);else return n=t.lanes=536870912,Kf(e,t,c!==null?c.baseLanes|a:a,a,n)}else c!==null?(El(t,c.cachePool),Wd(t,c),cn(),t.memoizedState=null):(e!==null&&El(t,null),Mo(),cn());return Ot(e,t,r,a),t.child}function bs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Kf(e,t,a,n,r){var c=Eo();return c=c===null?null:{parent:mt._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&El(t,null),Mo(),Pd(t),e!==null&&yi(e,t,n,!0),t.childLanes=r,null}function Bl(e,t){return t=Hl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wf(e,t,a){return $n(t,e.child,null,a),e=Bl(t,t.pendingProps),e.flags|=2,Kt(t),t.memoizedState=null,e}function Sy(e,t,a){var n=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(n.mode==="hidden")return e=Bl(t,n),t.lanes=536870912,bs(null,e);if(Do(t),(e=tt)?(e=up(e,ca),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:en!==null?{id:ba,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},a=jd(e),a.return=t,t.child=a,Ct=t,tt=null)):e=null,e===null)throw an(t);return t.lanes=536870912,null}return Bl(t,n)}var c=e.memoizedState;if(c!==null){var h=c.dehydrated;if(Do(t),r)if(t.flags&256)t.flags&=-257,t=Wf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(yt||yi(e,t,a,!1),r=(a&e.childLanes)!==0,yt||r){if(n=We,n!==null&&(h=Hu(n,a),h!==0&&h!==c.retryLane))throw c.retryLane=h,Nn(e,h),Gt(n,e,h),Wo;Zl(),t=Wf(e,t,a)}else e=c.treeContext,tt=da(h.nextSibling),Ct=t,Ne=!0,tn=null,ca=!1,e!==null&&Id(t,e),t=Bl(t,n),t.flags|=4096;return t}return e=Da(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $l(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Po(e,t,a,n,r){return zn(t),a=Uo(e,t,a,n,void 0,r),n=jo(),e!==null&&!yt?(Lo(e,t,r),Ia(e,t,r)):(Ne&&n&&po(t),t.flags|=1,Ot(e,t,a,r),t.child)}function Pf(e,t,a,n,r,c){return zn(t),t.updateQueue=null,a=tf(t,n,a,r),ef(e),n=jo(),e!==null&&!yt?(Lo(e,t,c),Ia(e,t,c)):(Ne&&n&&po(t),t.flags|=1,Ot(e,t,a,c),t.child)}function eh(e,t,a,n,r){if(zn(t),t.stateNode===null){var c=hi,h=a.contextType;typeof h=="object"&&h!==null&&(c=xt(h)),c=new a(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Zo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},Ao(t),h=a.contextType,c.context=typeof h=="object"&&h!==null?xt(h):hi,c.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Qo(t,a,h,n),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&Zo.enqueueReplaceState(c,c.state,null),ps(t,n,c,r),hs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var v=t.memoizedProps,_=qn(a,v);c.props=_;var D=c.context,q=a.contextType;h=hi,typeof q=="object"&&q!==null&&(h=xt(q));var J=a.getDerivedStateFromProps;q=typeof J=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,q||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||D!==h)&&$f(t,c,n,h),sn=!1;var U=t.memoizedState;c.state=U,ps(t,n,c,r),hs(),D=t.memoizedState,v||U!==D||sn?(typeof J=="function"&&(Qo(t,a,J,n),D=t.memoizedState),(_=sn||Bf(t,a,_,n,U,D,h))?(q||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=D),c.props=n,c.state=D,c.context=h,n=_):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,Co(e,t),h=t.memoizedProps,q=qn(a,h),c.props=q,J=t.pendingProps,U=c.context,D=a.contextType,_=hi,typeof D=="object"&&D!==null&&(_=xt(D)),v=a.getDerivedStateFromProps,(D=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==J||U!==_)&&$f(t,c,n,_),sn=!1,U=t.memoizedState,c.state=U,ps(t,n,c,r),hs();var B=t.memoizedState;h!==J||U!==B||sn||e!==null&&e.dependencies!==null&&_l(e.dependencies)?(typeof v=="function"&&(Qo(t,a,v,n),B=t.memoizedState),(q=sn||Bf(t,a,q,n,U,B,_)||e!==null&&e.dependencies!==null&&_l(e.dependencies))?(D||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,B,_),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,B,_)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=B),c.props=n,c.state=B,c.context=_,n=q):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,$l(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=$n(t,e.child,null,r),t.child=$n(t,null,a,r)):Ot(e,t,a,r),t.memoizedState=c.state,e=t.child):e=Ia(e,t,r),e}function th(e,t,a,n){return jn(),t.flags|=256,Ot(e,t,a,n),t.child}var ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tc(e){return{baseLanes:e,cachePool:Vd()}}function ac(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Pt),e}function ah(e,t,a){var n=t.pendingProps,r=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),h&&(r=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(r?on(t):cn(),(e=tt)?(e=up(e,ca),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:en!==null?{id:ba,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},a=jd(e),a.return=t,t.child=a,Ct=t,tt=null)):e=null,e===null)throw an(t);return kc(e)?t.lanes=32:t.lanes=536870912,null}var v=n.children;return n=n.fallback,r?(cn(),r=t.mode,v=Hl({mode:"hidden",children:v},r),n=Un(n,r,a,null),v.return=t,n.return=t,v.sibling=n,t.child=v,n=t.child,n.memoizedState=tc(a),n.childLanes=ac(e,h,a),t.memoizedState=ec,bs(null,n)):(on(t),nc(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(c)t.flags&256?(on(t),t.flags&=-257,t=ic(e,t,a)):t.memoizedState!==null?(cn(),t.child=e.child,t.flags|=128,t=null):(cn(),v=n.fallback,r=t.mode,n=Hl({mode:"visible",children:n.children},r),v=Un(v,r,a,null),v.flags|=2,n.return=t,v.return=t,n.sibling=v,t.child=n,$n(t,e.child,null,a),n=t.child,n.memoizedState=tc(a),n.childLanes=ac(e,h,a),t.memoizedState=ec,t=bs(null,n));else if(on(t),kc(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var D=h.dgst;h=D,n=Error(l(419)),n.stack="",n.digest=h,rs({value:n,source:null,stack:null}),t=ic(e,t,a)}else if(yt||yi(e,t,a,!1),h=(a&e.childLanes)!==0,yt||h){if(h=We,h!==null&&(n=Hu(h,a),n!==0&&n!==_.retryLane))throw _.retryLane=n,Nn(e,n),Gt(h,e,n),Wo;Ic(v)||Zl(),t=ic(e,t,a)}else Ic(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,tt=da(v.nextSibling),Ct=t,Ne=!0,tn=null,ca=!1,e!==null&&Id(t,e),t=nc(t,n.children),t.flags|=4096);return t}return r?(cn(),v=n.fallback,r=t.mode,_=e.child,D=_.sibling,n=Da(_,{mode:"hidden",children:n.children}),n.subtreeFlags=_.subtreeFlags&65011712,D!==null?v=Da(D,v):(v=Un(v,r,a,null),v.flags|=2),v.return=t,n.return=t,n.sibling=v,t.child=n,bs(null,n),n=t.child,v=e.child.memoizedState,v===null?v=tc(a):(r=v.cachePool,r!==null?(_=mt._currentValue,r=r.parent!==_?{parent:_,pool:_}:r):r=Vd(),v={baseLanes:v.baseLanes|a,cachePool:r}),n.memoizedState=v,n.childLanes=ac(e,h,a),t.memoizedState=ec,bs(e.child,n)):(on(t),a=e.child,e=a.sibling,a=Da(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function nc(e,t){return t=Hl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Hl(e,t){return e=Qt(22,e,null,t),e.lanes=0,e}function ic(e,t,a){return $n(t,e.child,null,a),e=nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nh(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bo(e.return,t,a)}function sc(e,t,a,n,r,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r,treeForkCount:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=n,h.tail=a,h.tailMode=r,h.treeForkCount=c)}function ih(e,t,a){var n=t.pendingProps,r=n.revealOrder,c=n.tail;n=n.children;var h=ft.current,v=(h&2)!==0;if(v?(h=h&1|2,t.flags|=128):h&=1,$(ft,h),Ot(e,t,n,a),n=Ne?ls:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nh(e,a,t);else if(e.tag===19)nh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&Ml(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),sc(t,!1,r,a,c,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ml(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}sc(t,!0,a,null,c,n);break;case"together":sc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ia(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),fn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(yi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=Da(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Da(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function lc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_l(e)))}function _y(e,t,a){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),nn(t,mt,e.memoizedState.cache),jn();break;case 27:case 5:He(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:nn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Do(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(on(t),t.flags|=128,null):(a&t.child.childLanes)!==0?ah(e,t,a):(on(t),e=Ia(e,t,a),e!==null?e.sibling:null);on(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(yi(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return ih(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),$(ft,ft.current),n)break;return null;case 22:return t.lanes=0,Zf(e,t,a,t.pendingProps);case 24:nn(t,mt,e.memoizedState.cache)}return Ia(e,t,a)}function sh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)yt=!0;else{if(!lc(e,a)&&(t.flags&128)===0)return yt=!1,_y(e,t,a);yt=(e.flags&131072)!==0}else yt=!1,Ne&&(t.flags&1048576)!==0&&zd(t,ls,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=kn(t.elementType),t.type=e,typeof e=="function")uo(e)?(n=qn(e,n),t.tag=1,t=eh(null,t,e,n,a)):(t.tag=0,t=Po(null,t,e,n,a));else{if(e!=null){var r=e.$$typeof;if(r===Y){t.tag=11,t=Yf(null,t,e,n,a);break e}else if(r===V){t.tag=14,t=Xf(null,t,e,n,a);break e}}throw t=Ue(e)||e,Error(l(306,t,""))}}return t;case 0:return Po(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=qn(n,t.pendingProps),eh(e,t,n,r,a);case 3:e:{if(Z(t,t.stateNode.containerInfo),e===null)throw Error(l(387));n=t.pendingProps;var c=t.memoizedState;r=c.element,Co(e,t),ps(t,n,null,a);var h=t.memoizedState;if(n=h.cache,nn(t,mt,n),n!==c.cache&&So(t,[mt],a,!0),hs(),n=h.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=th(e,t,n,a);break e}else if(n!==r){r=la(Error(l(424)),t),rs(r),t=th(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=da(e.firstChild),Ct=t,Ne=!0,tn=null,ca=!0,a=Qd(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jn(),n===r){t=Ia(e,t,a);break e}Ot(e,t,n,a)}t=t.child}return t;case 26:return $l(e,t),e===null?(a=gp(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,n=nr(te.current).createElement(a),n[At]=t,n[kt]=e,Mt(n,a,e),Et(n),t.stateNode=n):t.memoizedState=gp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return He(t),e===null&&Ne&&(n=t.stateNode=hp(t.type,t.pendingProps,te.current),Ct=t,ca=!0,r=tt,yn(t.type)?(Bc=r,tt=da(n.firstChild)):tt=r),Ot(e,t,t.pendingProps.children,a),$l(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((r=n=tt)&&(n=Ky(n,t.type,t.pendingProps,ca),n!==null?(t.stateNode=n,Ct=t,tt=da(n.firstChild),ca=!1,r=!0):r=!1),r||an(t)),He(t),r=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,n=c.children,jc(r,c)?n=null:h!==null&&jc(r,h)&&(t.flags|=32),t.memoizedState!==null&&(r=Uo(e,t,fy,null,null,a),js._currentValue=r),$l(e,t),Ot(e,t,n,a),t.child;case 6:return e===null&&Ne&&((e=a=tt)&&(a=Wy(a,t.pendingProps,ca),a!==null?(t.stateNode=a,Ct=t,tt=null,e=!0):e=!1),e||an(t)),null;case 13:return ah(e,t,a);case 4:return Z(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$n(t,null,n,a):Ot(e,t,n,a),t.child;case 11:return Yf(e,t,t.type,t.pendingProps,a);case 7:return Ot(e,t,t.pendingProps,a),t.child;case 8:return Ot(e,t,t.pendingProps.children,a),t.child;case 12:return Ot(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,nn(t,t.type,n.value),Ot(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,zn(t),r=xt(r),n=n(r),t.flags|=1,Ot(e,t,n,a),t.child;case 14:return Xf(e,t,t.type,t.pendingProps,a);case 15:return Qf(e,t,t.type,t.pendingProps,a);case 19:return ih(e,t,a);case 31:return Sy(e,t,a);case 22:return Zf(e,t,a,t.pendingProps);case 24:return zn(t),n=xt(mt),e===null?(r=Eo(),r===null&&(r=We,c=_o(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=a),r=c),t.memoizedState={parent:n,cache:r},Ao(t),nn(t,mt,r)):((e.lanes&a)!==0&&(Co(e,t),ps(t,null,null,a),hs()),r=e.memoizedState,c=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),nn(t,mt,n)):(n=c.cache,nn(t,mt,n),n!==r.cache&&So(t,[mt],a,!0))),Ot(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ka(e){e.flags|=4}function rc(e,t,a,n,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Nh())e.flags|=8192;else throw Bn=Al,wo}else e.flags&=-16777217}function lh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_p(t))if(Nh())e.flags|=8192;else throw Bn=Al,wo}function ql(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?aa():536870912,e.lanes|=t,Mi|=t)}function Ss(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Ty(e,t,a){var n=t.pendingProps;switch(mo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return at(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ja(mt),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gi(t)?ka(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yo())),at(t),null;case 26:var r=t.type,c=t.memoizedState;return e===null?(ka(t),c!==null?(at(t),lh(t,c)):(at(t),rc(t,r,null,n,a))):c?c!==e.memoizedState?(ka(t),at(t),lh(t,c)):(at(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ka(t),at(t),rc(t,r,e,n,a)),null;case 27:if(Tt(t),a=te.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ka(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return at(t),null}e=Q.current,gi(t)?kd(t):(e=hp(r,n,a),t.stateNode=e,ka(t))}return at(t),null;case 5:if(Tt(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ka(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return at(t),null}if(c=Q.current,gi(t))kd(t);else{var h=nr(te.current);switch(c){case 1:c=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:c=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":c=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":c=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":c=h.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof n.is=="string"?h.createElement("select",{is:n.is}):h.createElement("select"),n.multiple?c.multiple=!0:n.size&&(c.size=n.size);break;default:c=typeof n.is=="string"?h.createElement(r,{is:n.is}):h.createElement(r)}}c[At]=t,c[kt]=n;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)c.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=c;e:switch(Mt(c,r,n),r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ka(t)}}return at(t),rc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ka(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(l(166));if(e=te.current,gi(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=Ct,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[At]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||ap(e.nodeValue,a)),e||an(t,!0)}else e=nr(e).createTextNode(n),e[At]=t,t.stateNode=e}return at(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=gi(t),a!==null){if(e===null){if(!n)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[At]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),e=!1}else a=yo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Kt(t),t):(Kt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return at(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=gi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(l(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(317));r[At]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),r=!1}else r=yo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Kt(t),t):(Kt(t),null)}return Kt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ql(t,t.updateQueue),at(t),null);case 4:return Se(),e===null&&Mc(t.stateNode.containerInfo),at(t),null;case 10:return ja(t.type),at(t),null;case 19:if(N(ft),n=t.memoizedState,n===null)return at(t),null;if(r=(t.flags&128)!==0,c=n.rendering,c===null)if(r)Ss(n,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Ml(e),c!==null){for(t.flags|=128,Ss(n,!1),e=c.updateQueue,t.updateQueue=e,ql(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ud(a,e),a=a.sibling;return $(ft,ft.current&1|2),Ne&&Na(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Le()>Yl&&(t.flags|=128,r=!0,Ss(n,!1),t.lanes=4194304)}else{if(!r)if(e=Ml(c),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ql(t,e),Ss(n,!0),n.tail===null&&n.tailMode==="hidden"&&!c.alternate&&!Ne)return at(t),null}else 2*Le()-n.renderingStartTime>Yl&&a!==536870912&&(t.flags|=128,r=!0,Ss(n,!1),t.lanes=4194304);n.isBackwards?(c.sibling=t.child,t.child=c):(e=n.last,e!==null?e.sibling=c:t.child=c,n.last=c)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Le(),e.sibling=null,a=ft.current,$(ft,r?a&1|2:a&1),Ne&&Na(t,n.treeForkCount),e):(at(t),null);case 22:case 23:return Kt(t),Ro(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),a=t.updateQueue,a!==null&&ql(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&N(In),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ja(mt),at(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Ey(e,t){switch(mo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ja(mt),Se(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Tt(t),null;case 31:if(t.memoizedState!==null){if(Kt(t),t.alternate===null)throw Error(l(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return N(ft),null;case 4:return Se(),null;case 10:return ja(t.type),null;case 22:case 23:return Kt(t),Ro(),e!==null&&N(In),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ja(mt),null;case 25:return null;default:return null}}function rh(e,t){switch(mo(t),t.tag){case 3:ja(mt),Se();break;case 26:case 27:case 5:Tt(t);break;case 4:Se();break;case 31:t.memoizedState!==null&&Kt(t);break;case 13:Kt(t);break;case 19:N(ft);break;case 10:ja(t.type);break;case 22:case 23:Kt(t),Ro(),e!==null&&N(In);break;case 24:ja(mt)}}function _s(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var c=a.create,h=a.inst;n=c(),h.destroy=n}a=a.next}while(a!==r)}}catch(v){Fe(t,t.return,v)}}function un(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){var h=n.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,r=t;var _=a,D=v;try{D()}catch(q){Fe(r,_,q)}}}n=n.next}while(n!==c)}}catch(q){Fe(t,t.return,q)}}function oh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Kd(t,a)}catch(n){Fe(e,e.return,n)}}}function ch(e,t,a){a.props=qn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Fe(e,t,n)}}function Ts(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){Fe(e,t,r)}}function _a(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){Fe(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Fe(e,t,r)}else a.current=null}function uh(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){Fe(e,e.return,r)}}function oc(e,t,a){try{var n=e.stateNode;Jy(n,e.type,a,t),n[kt]=t}catch(r){Fe(e,e.return,r)}}function dh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yn(e.type)||e.tag===4}function cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uc(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ma));else if(n!==4&&(n===27&&yn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(uc(e,t,a),e=e.sibling;e!==null;)uc(e,t,a),e=e.sibling}function Vl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&yn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Vl(e,t,a),e=e.sibling;e!==null;)Vl(e,t,a),e=e.sibling}function fh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Mt(t,n,a),t[At]=e,t[kt]=a}catch(c){Fe(e,e.return,c)}}var Ba=!1,vt=!1,dc=!1,hh=typeof WeakSet=="function"?WeakSet:Set,wt=null;function wy(e,t){if(e=e.containerInfo,Nc=ur,e=wd(e),no(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var h=0,v=-1,_=-1,D=0,q=0,J=e,U=null;t:for(;;){for(var B;J!==a||r!==0&&J.nodeType!==3||(v=h+r),J!==c||n!==0&&J.nodeType!==3||(_=h+n),J.nodeType===3&&(h+=J.nodeValue.length),(B=J.firstChild)!==null;)U=J,J=B;for(;;){if(J===e)break t;if(U===a&&++D===r&&(v=h),U===c&&++q===n&&(_=h),(B=J.nextSibling)!==null)break;J=U,U=J.parentNode}J=B}a=v===-1||_===-1?null:{start:v,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uc={focusedElem:e,selectionRange:a},ur=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){switch(t=wt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)r=e[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,r=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var ae=qn(a.type,r);e=n.getSnapshotBeforeUpdate(ae,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Fe(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)zc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}}function ph(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ha(e,a),n&4&&_s(5,a);break;case 1:if(Ha(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){Fe(a,a.return,h)}else{var r=qn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Fe(a,a.return,h)}}n&64&&oh(a),n&512&&Ts(a,a.return);break;case 3:if(Ha(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Kd(e,t)}catch(h){Fe(a,a.return,h)}}break;case 27:t===null&&n&4&&fh(a);case 26:case 5:Ha(e,a),t===null&&n&4&&uh(a),n&512&&Ts(a,a.return);break;case 12:Ha(e,a);break;case 31:Ha(e,a),n&4&&yh(e,a);break;case 13:Ha(e,a),n&4&&vh(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Uy.bind(null,a),Py(e,a))));break;case 22:if(n=a.memoizedState!==null||Ba,!n){t=t!==null&&t.memoizedState!==null||vt,r=Ba;var c=vt;Ba=n,(vt=t)&&!c?qa(e,a,(a.subtreeFlags&8772)!==0):Ha(e,a),Ba=r,vt=c}break;case 30:break;default:Ha(e,a)}}function mh(e){var t=e.alternate;t!==null&&(e.alternate=null,mh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$r(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,$t=!1;function $a(e,t,a){for(a=a.child;a!==null;)gh(e,t,a),a=a.sibling}function gh(e,t,a){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(ge,a)}catch{}switch(a.tag){case 26:vt||_a(a,t),$a(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||_a(a,t);var n=nt,r=$t;yn(a.type)&&(nt=a.stateNode,$t=!1),$a(e,t,a),Ds(a.stateNode),nt=n,$t=r;break;case 5:vt||_a(a,t);case 6:if(n=nt,r=$t,nt=null,$a(e,t,a),nt=n,$t=r,nt!==null)if($t)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(c){Fe(a,t,c)}else try{nt.removeChild(a.stateNode)}catch(c){Fe(a,t,c)}break;case 18:nt!==null&&($t?(e=nt,op(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ii(e)):op(nt,a.stateNode));break;case 4:n=nt,r=$t,nt=a.stateNode.containerInfo,$t=!0,$a(e,t,a),nt=n,$t=r;break;case 0:case 11:case 14:case 15:un(2,a,t),vt||un(4,a,t),$a(e,t,a);break;case 1:vt||(_a(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&ch(a,t,n)),$a(e,t,a);break;case 21:$a(e,t,a);break;case 22:vt=(n=vt)||a.memoizedState!==null,$a(e,t,a),vt=n;break;default:$a(e,t,a)}}function yh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ii(e)}catch(a){Fe(t,t.return,a)}}}function vh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ii(e)}catch(a){Fe(t,t.return,a)}}function Ay(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hh),t;default:throw Error(l(435,e.tag))}}function Gl(e,t){var a=Ay(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var r=jy.bind(null,e,n);n.then(r,r)}})}function Ht(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],c=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(yn(v.type)){nt=v.stateNode,$t=!1;break e}break;case 5:nt=v.stateNode,$t=!1;break e;case 3:case 4:nt=v.stateNode.containerInfo,$t=!0;break e}v=v.return}if(nt===null)throw Error(l(160));gh(c,h,r),nt=null,$t=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bh(t,e),t=t.sibling}var pa=null;function bh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(t,e),qt(e),n&4&&(un(3,e,e.return),_s(3,e),un(5,e,e.return));break;case 1:Ht(t,e),qt(e),n&512&&(vt||a===null||_a(a,a.return)),n&64&&Ba&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=pa;if(Ht(t,e),qt(e),n&512&&(vt||a===null||_a(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":c=r.getElementsByTagName("title")[0],(!c||c[Qi]||c[At]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(n),r.head.insertBefore(c,r.querySelector("head > title"))),Mt(c,n,a),c[At]=e,Et(c),n=c;break e;case"link":var h=bp("link","href",r).get(n+(a.href||""));if(h){for(var v=0;v<h.length;v++)if(c=h[v],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(v,1);break t}}c=r.createElement(n),Mt(c,n,a),r.head.appendChild(c);break;case"meta":if(h=bp("meta","content",r).get(n+(a.content||""))){for(v=0;v<h.length;v++)if(c=h[v],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(v,1);break t}}c=r.createElement(n),Mt(c,n,a),r.head.appendChild(c);break;default:throw Error(l(468,n))}c[At]=e,Et(c),n=c}e.stateNode=n}else Sp(r,e.type,e.stateNode);else e.stateNode=vp(r,n,e.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?Sp(r,e.type,e.stateNode):vp(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&oc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ht(t,e),qt(e),n&512&&(vt||a===null||_a(a,a.return)),a!==null&&n&4&&oc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ht(t,e),qt(e),n&512&&(vt||a===null||_a(a,a.return)),e.flags&32){r=e.stateNode;try{li(r,"")}catch(ae){Fe(e,e.return,ae)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,oc(e,r,a!==null?a.memoizedProps:r)),n&1024&&(dc=!0);break;case 6:if(Ht(t,e),qt(e),n&4){if(e.stateNode===null)throw Error(l(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(ae){Fe(e,e.return,ae)}}break;case 3:if(lr=null,r=pa,pa=ir(t.containerInfo),Ht(t,e),pa=r,qt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(ae){Fe(e,e.return,ae)}dc&&(dc=!1,Sh(e));break;case 4:n=pa,pa=ir(e.stateNode.containerInfo),Ht(t,e),qt(e),pa=n;break;case 12:Ht(t,e),qt(e);break;case 31:Ht(t,e),qt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Gl(e,n)));break;case 13:Ht(t,e),qt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fl=Le()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Gl(e,n)));break;case 22:r=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,D=Ba,q=vt;if(Ba=D||r,vt=q||_,Ht(t,e),vt=q,Ba=D,qt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||_||Ba||vt||Vn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(c=_.stateNode,r)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=_.stateNode;var J=_.memoizedProps.style,U=J!=null&&J.hasOwnProperty("display")?J.display:null;v.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ae){Fe(_,_.return,ae)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=r?"":_.memoizedProps}catch(ae){Fe(_,_.return,ae)}}}else if(t.tag===18){if(a===null){_=t;try{var B=_.stateNode;r?cp(B,!0):cp(_.stateNode,!1)}catch(ae){Fe(_,_.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Gl(e,a))));break;case 19:Ht(t,e),qt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Gl(e,n)));break;case 30:break;case 21:break;default:Ht(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(dh(n)){a=n;break}n=n.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var r=a.stateNode,c=cc(e);Vl(e,c,r);break;case 5:var h=a.stateNode;a.flags&32&&(li(h,""),a.flags&=-33);var v=cc(e);Vl(e,v,h);break;case 3:case 4:var _=a.stateNode.containerInfo,D=cc(e);uc(e,D,_);break;default:throw Error(l(161))}}catch(q){Fe(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ph(e,t.alternate,t),t=t.sibling}function Vn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:un(4,t,t.return),Vn(t);break;case 1:_a(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ch(t,t.return,a),Vn(t);break;case 27:Ds(t.stateNode);case 26:case 5:_a(t,t.return),Vn(t);break;case 22:t.memoizedState===null&&Vn(t);break;case 30:Vn(t);break;default:Vn(t)}e=e.sibling}}function qa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:qa(r,c,a),_s(4,c);break;case 1:if(qa(r,c,a),n=c,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(D){Fe(n,n.return,D)}if(n=c,r=n.updateQueue,r!==null){var v=n.stateNode;try{var _=r.shared.hiddenCallbacks;if(_!==null)for(r.shared.hiddenCallbacks=null,r=0;r<_.length;r++)Zd(_[r],v)}catch(D){Fe(n,n.return,D)}}a&&h&64&&oh(c),Ts(c,c.return);break;case 27:fh(c);case 26:case 5:qa(r,c,a),a&&n===null&&h&4&&uh(c),Ts(c,c.return);break;case 12:qa(r,c,a);break;case 31:qa(r,c,a),a&&h&4&&yh(r,c);break;case 13:qa(r,c,a),a&&h&4&&vh(r,c);break;case 22:c.memoizedState===null&&qa(r,c,a),Ts(c,c.return);break;case 30:break;default:qa(r,c,a)}t=t.sibling}}function fc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&os(a))}function hc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&os(e))}function ma(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_h(e,t,a,n),t=t.sibling}function _h(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ma(e,t,a,n),r&2048&&_s(9,t);break;case 1:ma(e,t,a,n);break;case 3:ma(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&os(e)));break;case 12:if(r&2048){ma(e,t,a,n),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,v=c.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Fe(t,t.return,_)}}else ma(e,t,a,n);break;case 31:ma(e,t,a,n);break;case 13:ma(e,t,a,n);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?ma(e,t,a,n):Es(e,t):c._visibility&2?ma(e,t,a,n):(c._visibility|=2,Ci(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),r&2048&&fc(h,t);break;case 24:ma(e,t,a,n),r&2048&&hc(t.alternate,t);break;default:ma(e,t,a,n)}}function Ci(e,t,a,n,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,h=t,v=a,_=n,D=h.flags;switch(h.tag){case 0:case 11:case 15:Ci(c,h,v,_,r),_s(8,h);break;case 23:break;case 22:var q=h.stateNode;h.memoizedState!==null?q._visibility&2?Ci(c,h,v,_,r):Es(c,h):(q._visibility|=2,Ci(c,h,v,_,r)),r&&D&2048&&fc(h.alternate,h);break;case 24:Ci(c,h,v,_,r),r&&D&2048&&hc(h.alternate,h);break;default:Ci(c,h,v,_,r)}t=t.sibling}}function Es(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:Es(a,n),r&2048&&fc(n.alternate,n);break;case 24:Es(a,n),r&2048&&hc(n.alternate,n);break;default:Es(a,n)}t=t.sibling}}var ws=8192;function xi(e,t,a){if(e.subtreeFlags&ws)for(e=e.child;e!==null;)Th(e,t,a),e=e.sibling}function Th(e,t,a){switch(e.tag){case 26:xi(e,t,a),e.flags&ws&&e.memoizedState!==null&&dv(a,pa,e.memoizedState,e.memoizedProps);break;case 5:xi(e,t,a);break;case 3:case 4:var n=pa;pa=ir(e.stateNode.containerInfo),xi(e,t,a),pa=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ws,ws=16777216,xi(e,t,a),ws=n):xi(e,t,a));break;default:xi(e,t,a)}}function Eh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function As(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];wt=n,Ah(n,e)}Eh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wh(e),e=e.sibling}function wh(e){switch(e.tag){case 0:case 11:case 15:As(e),e.flags&2048&&un(9,e,e.return);break;case 3:As(e);break;case 12:As(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Jl(e)):As(e);break;default:As(e)}}function Jl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];wt=n,Ah(n,e)}Eh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:un(8,t,t.return),Jl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Ah(e,t){for(;wt!==null;){var a=wt;switch(a.tag){case 0:case 11:case 15:un(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:os(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,wt=n;else e:for(a=e;wt!==null;){n=wt;var r=n.sibling,c=n.return;if(mh(n),n===a){wt=null;break e}if(r!==null){r.return=c,wt=r;break e}wt=c}}}var Cy={getCacheForType:function(e){var t=xt(mt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return xt(mt).controller.signal}},xy=typeof WeakMap=="function"?WeakMap:Map,$e=0,We=null,Oe=null,Re=0,Je=0,Wt=null,dn=!1,Oi=!1,pc=!1,Va=0,ct=0,fn=0,Gn=0,mc=0,Pt=0,Mi=0,Cs=null,Vt=null,gc=!1,Fl=0,Ch=0,Yl=1/0,Xl=null,hn=null,_t=0,pn=null,Ri=null,Ga=0,yc=0,vc=null,xh=null,xs=0,bc=null;function ea(){return($e&2)!==0&&Re!==0?Re&-Re:O.T!==null?Ac():qu()}function Oh(){if(Pt===0)if((Re&536870912)===0||Ne){var e=Za;Za<<=1,(Za&3932160)===0&&(Za=262144),Pt=e}else Pt=536870912;return e=Zt.current,e!==null&&(e.flags|=32),Pt}function Gt(e,t,a){(e===We&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(Di(e,0),mn(e,Re,Pt,!1)),xa(e,a),(($e&2)===0||e!==We)&&(e===We&&(($e&2)===0&&(Gn|=a),ct===4&&mn(e,Re,Pt,!1)),Ta(e))}function Mh(e,t,a){if(($e&6)!==0)throw Error(l(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ge(e,t),r=n?Ry(e,t):_c(e,t,!0),c=n;do{if(r===0){Oi&&!n&&mn(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Oy(a)){r=_c(e,t,!1),c=!1;continue}if(r===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;r=Cs;var _=v.current.memoizedState.isDehydrated;if(_&&(Di(v,h).flags|=256),h=_c(v,h,!1),h!==2){if(pc&&!_){v.errorRecoveryDisabledLanes|=c,Gn|=c,r=4;break e}c=Vt,Vt=r,c!==null&&(Vt===null?Vt=c:Vt.push.apply(Vt,c))}r=h}if(c=!1,r!==2)continue}}if(r===1){Di(e,0),mn(e,t,0,!0);break}e:{switch(n=e,c=r,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:mn(n,t,Pt,!dn);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(r=Fl+300-Le(),10<r)){if(mn(n,t,Pt,!dn),Xe(n,0,!0)!==0)break e;Ga=t,n.timeoutHandle=lp(Rh.bind(null,n,a,Vt,Xl,gc,t,Pt,Gn,Mi,dn,c,"Throttled",-0,0),r);break e}Rh(n,a,Vt,Xl,gc,t,Pt,Gn,Mi,dn,c,null,-0,0)}}break}while(!0);Ta(e)}function Rh(e,t,a,n,r,c,h,v,_,D,q,J,U,B){if(e.timeoutHandle=-1,J=t.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ma},Th(t,c,J);var ae=(c&62914560)===c?Fl-Le():(c&4194048)===c?Ch-Le():0;if(ae=fv(J,ae),ae!==null){Ga=c,e.cancelPendingCommit=ae(kh.bind(null,e,t,c,a,n,r,h,v,_,q,J,null,U,B)),mn(e,c,h,!D);return}}kh(e,t,c,a,n,r,h,v,_)}function Oy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],c=r.getSnapshot;r=r.value;try{if(!Xt(c(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t,a,n){t&=~mc,t&=~Gn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var c=31-_e(r),h=1<<c;n[c]=-1,r&=~h}a!==0&&pt(e,a,t)}function Ql(){return($e&6)===0?(Os(0),!1):!0}function Sc(){if(Oe!==null){if(Je===0)var e=Oe.return;else e=Oe,Ua=Ln=null,zo(e),_i=null,us=0,e=Oe;for(;e!==null;)rh(e.alternate,e),e=e.return;Oe=null}}function Di(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Xy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ga=0,Sc(),We=e,Oe=a=Da(e.current,null),Re=t,Je=0,Wt=null,dn=!1,Oi=Ge(e,t),pc=!1,Mi=Pt=mc=Gn=fn=ct=0,Vt=Cs=null,gc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-_e(n),c=1<<r;t|=e[r],n&=~c}return Va=t,gl(),a}function Dh(e,t){Ee=null,O.H=vs,t===Si||t===wl?(t=Fd(),Je=3):t===wo?(t=Fd(),Je=4):Je=t===Wo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Wt=t,Oe===null&&(ct=1,kl(e,la(t,e.current)))}function Nh(){var e=Zt.current;return e===null?!0:(Re&4194048)===Re?ua===null:(Re&62914560)===Re||(Re&536870912)!==0?e===ua:!1}function Uh(){var e=O.H;return O.H=vs,e===null?vs:e}function jh(){var e=O.A;return O.A=Cy,e}function Zl(){ct=4,dn||(Re&4194048)!==Re&&Zt.current!==null||(Oi=!0),(fn&134217727)===0&&(Gn&134217727)===0||We===null||mn(We,Re,Pt,!1)}function _c(e,t,a){var n=$e;$e|=2;var r=Uh(),c=jh();(We!==e||Re!==t)&&(Xl=null,Di(e,t)),t=!1;var h=ct;e:do try{if(Je!==0&&Oe!==null){var v=Oe,_=Wt;switch(Je){case 8:Sc(),h=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(t=!0);var D=Je;if(Je=0,Wt=null,Ni(e,v,_,D),a&&Oi){h=0;break e}break;default:D=Je,Je=0,Wt=null,Ni(e,v,_,D)}}My(),h=ct;break}catch(q){Dh(e,q)}while(!0);return t&&e.shellSuspendCounter++,Ua=Ln=null,$e=n,O.H=r,O.A=c,Oe===null&&(We=null,Re=0,gl()),h}function My(){for(;Oe!==null;)Lh(Oe)}function Ry(e,t){var a=$e;$e|=2;var n=Uh(),r=jh();We!==e||Re!==t?(Xl=null,Yl=Le()+500,Di(e,t)):Oi=Ge(e,t);e:do try{if(Je!==0&&Oe!==null){t=Oe;var c=Wt;t:switch(Je){case 1:Je=0,Wt=null,Ni(e,t,c,1);break;case 2:case 9:if(Gd(c)){Je=0,Wt=null,zh(t);break}t=function(){Je!==2&&Je!==9||We!==e||(Je=7),Ta(e)},c.then(t,t);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Gd(c)?(Je=0,Wt=null,zh(t)):(Je=0,Wt=null,Ni(e,t,c,7));break;case 5:var h=null;switch(Oe.tag){case 26:h=Oe.memoizedState;case 5:case 27:var v=Oe;if(h?_p(h):v.stateNode.complete){Je=0,Wt=null;var _=v.sibling;if(_!==null)Oe=_;else{var D=v.return;D!==null?(Oe=D,Kl(D)):Oe=null}break t}}Je=0,Wt=null,Ni(e,t,c,5);break;case 6:Je=0,Wt=null,Ni(e,t,c,6);break;case 8:Sc(),ct=6;break e;default:throw Error(l(462))}}Dy();break}catch(q){Dh(e,q)}while(!0);return Ua=Ln=null,O.H=n,O.A=r,$e=a,Oe!==null?0:(We=null,Re=0,gl(),ct)}function Dy(){for(;Oe!==null&&!rt();)Lh(Oe)}function Lh(e){var t=sh(e.alternate,e,Va);e.memoizedProps=e.pendingProps,t===null?Kl(e):Oe=t}function zh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Pf(a,t,t.pendingProps,t.type,void 0,Re);break;case 11:t=Pf(a,t,t.pendingProps,t.type.render,t.ref,Re);break;case 5:zo(t);default:rh(a,t),t=Oe=Ud(t,Va),t=sh(a,t,Va)}e.memoizedProps=e.pendingProps,t===null?Kl(e):Oe=t}function Ni(e,t,a,n){Ua=Ln=null,zo(t),_i=null,us=0;var r=t.return;try{if(by(e,r,t,a,Re)){ct=1,kl(e,la(a,e.current)),Oe=null;return}}catch(c){if(r!==null)throw Oe=r,c;ct=1,kl(e,la(a,e.current)),Oe=null;return}t.flags&32768?(Ne||n===1?e=!0:Oi||(Re&536870912)!==0?e=!1:(dn=e=!0,(n===2||n===9||n===3||n===6)&&(n=Zt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Ih(t,e)):Kl(t)}function Kl(e){var t=e;do{if((t.flags&32768)!==0){Ih(t,dn);return}e=t.return;var a=Ty(t.alternate,t,Va);if(a!==null){Oe=a;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);ct===0&&(ct=5)}function Ih(e,t){do{var a=Ey(e.alternate,e);if(a!==null){a.flags&=32767,Oe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=a}while(e!==null);ct=6,Oe=null}function kh(e,t,a,n,r,c,h,v,_){e.cancelPendingCommit=null;do Wl();while(_t!==0);if(($e&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=oo,St(e,a,c,h,v,_),e===We&&(Oe=We=null,Re=0),Ri=t,pn=e,Ga=a,yc=c,vc=r,xh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ly(Pn,function(){return Vh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null,r=I.p,I.p=2,h=$e,$e|=4;try{wy(e,t,a)}finally{$e=h,I.p=r,O.T=n}}_t=1,Bh(),$h(),Hh()}}function Bh(){if(_t===1){_t=0;var e=pn,t=Ri,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var n=I.p;I.p=2;var r=$e;$e|=4;try{bh(t,e);var c=Uc,h=wd(e.containerInfo),v=c.focusedElem,_=c.selectionRange;if(h!==v&&v&&v.ownerDocument&&Ed(v.ownerDocument.documentElement,v)){if(_!==null&&no(v)){var D=_.start,q=_.end;if(q===void 0&&(q=D),"selectionStart"in v)v.selectionStart=D,v.selectionEnd=Math.min(q,v.value.length);else{var J=v.ownerDocument||document,U=J&&J.defaultView||window;if(U.getSelection){var B=U.getSelection(),ae=v.textContent.length,ye=Math.min(_.start,ae),Ke=_.end===void 0?ye:Math.min(_.end,ae);!B.extend&&ye>Ke&&(h=Ke,Ke=ye,ye=h);var x=Td(v,ye),A=Td(v,Ke);if(x&&A&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var R=J.createRange();R.setStart(x.node,x.offset),B.removeAllRanges(),ye>Ke?(B.addRange(R),B.extend(A.node,A.offset)):(R.setEnd(A.node,A.offset),B.addRange(R))}}}}for(J=[],B=v;B=B.parentNode;)B.nodeType===1&&J.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<J.length;v++){var G=J[v];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ur=!!Nc,Uc=Nc=null}finally{$e=r,I.p=n,O.T=a}}e.current=t,_t=2}}function $h(){if(_t===2){_t=0;var e=pn,t=Ri,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var n=I.p;I.p=2;var r=$e;$e|=4;try{ph(e,t.alternate,t)}finally{$e=r,I.p=n,O.T=a}}_t=3}}function Hh(){if(_t===4||_t===3){_t=0,Nt();var e=pn,t=Ri,a=Ga,n=xh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?_t=5:(_t=0,Ri=pn=null,qh(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(hn=null),kr(a),t=t.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(ge,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=O.T,r=I.p,I.p=2,O.T=null;try{for(var c=e.onRecoverableError,h=0;h<n.length;h++){var v=n[h];c(v.value,{componentStack:v.stack})}}finally{O.T=t,I.p=r}}(Ga&3)!==0&&Wl(),Ta(e),r=e.pendingLanes,(a&261930)!==0&&(r&42)!==0?e===bc?xs++:(xs=0,bc=e):xs=0,Os(0)}}function qh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,os(t)))}function Wl(){return Bh(),$h(),Hh(),Vh()}function Vh(){if(_t!==5)return!1;var e=pn,t=yc;yc=0;var a=kr(Ga),n=O.T,r=I.p;try{I.p=32>a?32:a,O.T=null,a=vc,vc=null;var c=pn,h=Ga;if(_t=0,Ri=pn=null,Ga=0,($e&6)!==0)throw Error(l(331));var v=$e;if($e|=4,wh(c.current),_h(c,c.current,h,a),$e=v,Os(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(ge,c)}catch{}return!0}finally{I.p=r,O.T=n,qh(e,t)}}function Gh(e,t,a){t=la(a,t),t=Ko(e.stateNode,t,2),e=rn(e,t,2),e!==null&&(xa(e,2),Ta(e))}function Fe(e,t,a){if(e.tag===3)Gh(e,e,a);else for(;t!==null;){if(t.tag===3){Gh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hn===null||!hn.has(n))){e=la(a,e),a=Jf(2),n=rn(t,a,2),n!==null&&(Ff(a,n,t,e),xa(n,2),Ta(n));break}}t=t.return}}function Tc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new xy;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(pc=!0,r.add(a),e=Ny.bind(null,e,t,a),t.then(e,e))}function Ny(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,We===e&&(Re&a)===a&&(ct===4||ct===3&&(Re&62914560)===Re&&300>Le()-Fl?($e&2)===0&&Di(e,0):mc|=a,Mi===Re&&(Mi=0)),Ta(e)}function Jh(e,t){t===0&&(t=aa()),e=Nn(e,t),e!==null&&(xa(e,t),Ta(e))}function Uy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Jh(e,a)}function jy(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(t),Jh(e,a)}function Ly(e,t){return ze(e,t)}var Pl=null,Ui=null,Ec=!1,er=!1,wc=!1,gn=0;function Ta(e){e!==Ui&&e.next===null&&(Ui===null?Pl=Ui=e:Ui=Ui.next=e),er=!0,Ec||(Ec=!0,Iy())}function Os(e,t){if(!wc&&er){wc=!0;do for(var a=!1,n=Pl;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var c=0;else{var h=n.suspendedLanes,v=n.pingedLanes;c=(1<<31-_e(42|e)+1)-1,c&=r&~(h&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Qh(n,c))}else c=Re,c=Xe(n,n===We?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||Ge(n,c)||(a=!0,Qh(n,c));n=n.next}while(a);wc=!1}}function zy(){Fh()}function Fh(){er=Ec=!1;var e=0;gn!==0&&Yy()&&(e=gn);for(var t=Le(),a=null,n=Pl;n!==null;){var r=n.next,c=Yh(n,t);c===0?(n.next=null,a===null?Pl=r:a.next=r,r===null&&(Ui=a)):(a=n,(e!==0||(c&3)!==0)&&(er=!0)),n=r}_t!==0&&_t!==5||Os(e),gn!==0&&(gn=0)}function Yh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-_e(c),v=1<<h,_=r[h];_===-1?((v&a)===0||(v&n)!==0)&&(r[h]=dt(v,t)):_<=t&&(e.expiredLanes|=v),c&=~v}if(t=We,a=Re,a=Xe(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&qe(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ge(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&qe(n),kr(a)){case 2:case 8:a=Qa;break;case 32:a=Pn;break;case 268435456:a=Ye;break;default:a=Pn}return n=Xh.bind(null,e),a=ze(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&qe(n),e.callbackPriority=2,e.callbackNode=null,2}function Xh(e,t){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wl()&&e.callbackNode!==a)return null;var n=Re;return n=Xe(e,e===We?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Mh(e,n,t),Yh(e,Le()),e.callbackNode!=null&&e.callbackNode===a?Xh.bind(null,e):null)}function Qh(e,t){if(Wl())return null;Mh(e,t,!0)}function Iy(){Qy(function(){($e&6)!==0?ze(Aa,zy):Fh()})}function Ac(){if(gn===0){var e=vi;e===0&&(e=It,It<<=1,(It&261888)===0&&(It=256)),gn=e}return gn}function Zh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ol(""+e)}function Kh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ky(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var c=Zh((r[kt]||null).action),h=n.submitter;h&&(t=(t=h[kt]||null)?Zh(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var v=new fl("action","action",null,n,r);e.push({event:v,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(gn!==0){var _=h?Kh(r,h):new FormData(r);Jo(a,{pending:!0,data:_,method:r.method,action:c},null,_)}}else typeof c=="function"&&(v.preventDefault(),_=h?Kh(r,h):new FormData(r),Jo(a,{pending:!0,data:_,method:r.method,action:c},c,_))},currentTarget:r}]})}}for(var Cc=0;Cc<ro.length;Cc++){var xc=ro[Cc],By=xc.toLowerCase(),$y=xc[0].toUpperCase()+xc.slice(1);ha(By,"on"+$y)}ha(xd,"onAnimationEnd"),ha(Od,"onAnimationIteration"),ha(Md,"onAnimationStart"),ha("dblclick","onDoubleClick"),ha("focusin","onFocus"),ha("focusout","onBlur"),ha(ay,"onTransitionRun"),ha(ny,"onTransitionStart"),ha(iy,"onTransitionCancel"),ha(Rd,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ms));function Wh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var h=n.length-1;0<=h;h--){var v=n[h],_=v.instance,D=v.currentTarget;if(v=v.listener,_!==c&&r.isPropagationStopped())break e;c=v,r.currentTarget=D;try{c(r)}catch(q){ml(q)}r.currentTarget=null,c=_}else for(h=0;h<n.length;h++){if(v=n[h],_=v.instance,D=v.currentTarget,v=v.listener,_!==c&&r.isPropagationStopped())break e;c=v,r.currentTarget=D;try{c(r)}catch(q){ml(q)}r.currentTarget=null,c=_}}}}function Me(e,t){var a=t[Br];a===void 0&&(a=t[Br]=new Set);var n=e+"__bubble";a.has(n)||(Ph(t,e,2,!1),a.add(n))}function Oc(e,t,a){var n=0;t&&(n|=4),Ph(a,e,n,t)}var tr="_reactListening"+Math.random().toString(36).slice(2);function Mc(e){if(!e[tr]){e[tr]=!0,Ju.forEach(function(a){a!=="selectionchange"&&(Hy.has(a)||Oc(a,!1,e),Oc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tr]||(t[tr]=!0,Oc("selectionchange",!1,t))}}function Ph(e,t,a,n){switch(Op(t)){case 2:var r=mv;break;case 8:r=gv;break;default:r=Gc}a=r.bind(null,t,a,e),r=void 0,!Xr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Rc(e,t,a,n,r){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var h=n.tag;if(h===3||h===4){var v=n.stateNode.containerInfo;if(v===r)break;if(h===4)for(h=n.return;h!==null;){var _=h.tag;if((_===3||_===4)&&h.stateNode.containerInfo===r)return;h=h.return}for(;v!==null;){if(h=ti(v),h===null)return;if(_=h.tag,_===5||_===6||_===26||_===27){n=c=h;continue e}v=v.parentNode}}n=n.return}nd(function(){var D=c,q=Fr(a),J=[];e:{var U=Dd.get(e);if(U!==void 0){var B=fl,ae=e;switch(e){case"keypress":if(ul(a)===0)break e;case"keydown":case"keyup":B=jg;break;case"focusin":ae="focus",B=Wr;break;case"focusout":ae="blur",B=Wr;break;case"beforeblur":case"afterblur":B=Wr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Ig;break;case xd:case Od:case Md:B=Ag;break;case Rd:B=Bg;break;case"scroll":case"scrollend":B=Sg;break;case"wheel":B=Hg;break;case"copy":case"cut":case"paste":B=xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=od;break;case"toggle":case"beforetoggle":B=Vg}var ye=(t&4)!==0,Ke=!ye&&(e==="scroll"||e==="scrollend"),x=ye?U!==null?U+"Capture":null:U;ye=[];for(var A=D,R;A!==null;){var G=A;if(R=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||R===null||x===null||(G=Ki(A,x),G!=null&&ye.push(Rs(A,G,R))),Ke)break;A=A.return}0<ye.length&&(U=new B(U,ae,null,a,q),J.push({event:U,listeners:ye}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",U&&a!==Jr&&(ae=a.relatedTarget||a.fromElement)&&(ti(ae)||ae[ei]))break e;if((B||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,B?(ae=a.relatedTarget||a.toElement,B=D,ae=ae?ti(ae):null,ae!==null&&(Ke=d(ae),ye=ae.tag,ae!==Ke||ye!==5&&ye!==27&&ye!==6)&&(ae=null)):(B=null,ae=D),B!==ae)){if(ye=ld,G="onMouseLeave",x="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ye=od,G="onPointerLeave",x="onPointerEnter",A="pointer"),Ke=B==null?U:Zi(B),R=ae==null?U:Zi(ae),U=new ye(G,A+"leave",B,a,q),U.target=Ke,U.relatedTarget=R,G=null,ti(q)===D&&(ye=new ye(x,A+"enter",ae,a,q),ye.target=R,ye.relatedTarget=Ke,G=ye),Ke=G,B&&ae)t:{for(ye=qy,x=B,A=ae,R=0,G=x;G;G=ye(G))R++;G=0;for(var fe=A;fe;fe=ye(fe))G++;for(;0<R-G;)x=ye(x),R--;for(;0<G-R;)A=ye(A),G--;for(;R--;){if(x===A||A!==null&&x===A.alternate){ye=x;break t}x=ye(x),A=ye(A)}ye=null}else ye=null;B!==null&&ep(J,U,B,ye,!1),ae!==null&&Ke!==null&&ep(J,Ke,ae,ye,!0)}}e:{if(U=D?Zi(D):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var ke=gd;else if(pd(U))if(yd)ke=Pg;else{ke=Kg;var ce=Zg}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&Gr(D.elementType)&&(ke=gd):ke=Wg;if(ke&&(ke=ke(e,D))){md(J,ke,a,q);break e}ce&&ce(e,U,D),e==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&Vr(U,"number",U.value)}switch(ce=D?Zi(D):window,e){case"focusin":(pd(ce)||ce.contentEditable==="true")&&(ui=ce,io=D,ss=null);break;case"focusout":ss=io=ui=null;break;case"mousedown":so=!0;break;case"contextmenu":case"mouseup":case"dragend":so=!1,Ad(J,a,q);break;case"selectionchange":if(ty)break;case"keydown":case"keyup":Ad(J,a,q)}var we;if(eo)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ci?fd(e,a)&&(De="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(cd&&a.locale!=="ko"&&(ci||De!=="onCompositionStart"?De==="onCompositionEnd"&&ci&&(we=id()):(Pa=q,Qr="value"in Pa?Pa.value:Pa.textContent,ci=!0)),ce=ar(D,De),0<ce.length&&(De=new rd(De,e,null,a,q),J.push({event:De,listeners:ce}),we?De.data=we:(we=hd(a),we!==null&&(De.data=we)))),(we=Jg?Fg(e,a):Yg(e,a))&&(De=ar(D,"onBeforeInput"),0<De.length&&(ce=new rd("onBeforeInput","beforeinput",null,a,q),J.push({event:ce,listeners:De}),ce.data=we)),ky(J,e,D,a,q)}Wh(J,t)})}function Rs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ar(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=Ki(e,a),r!=null&&n.unshift(Rs(e,r,c)),r=Ki(e,t),r!=null&&n.push(Rs(e,r,c))),e.tag===3)return n;e=e.return}return[]}function qy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ep(e,t,a,n,r){for(var c=t._reactName,h=[];a!==null&&a!==n;){var v=a,_=v.alternate,D=v.stateNode;if(v=v.tag,_!==null&&_===n)break;v!==5&&v!==26&&v!==27||D===null||(_=D,r?(D=Ki(a,c),D!=null&&h.unshift(Rs(a,D,_))):r||(D=Ki(a,c),D!=null&&h.push(Rs(a,D,_)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var Vy=/\r\n?/g,Gy=/\u0000|\uFFFD/g;function tp(e){return(typeof e=="string"?e:""+e).replace(Vy,`
`).replace(Gy,"")}function ap(e,t){return t=tp(t),tp(e)===t}function Ze(e,t,a,n,r,c){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||li(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&li(e,""+n);break;case"className":ll(e,"class",n);break;case"tabIndex":ll(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ll(e,a,n);break;case"style":td(e,n,c);break;case"data":if(t!=="object"){ll(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=ol(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Ze(e,t,"name",r.name,r,null),Ze(e,t,"formEncType",r.formEncType,r,null),Ze(e,t,"formMethod",r.formMethod,r,null),Ze(e,t,"formTarget",r.formTarget,r,null)):(Ze(e,t,"encType",r.encType,r,null),Ze(e,t,"method",r.method,r,null),Ze(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=ol(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ma);break;case"onScroll":n!=null&&Me("scroll",e);break;case"onScrollEnd":n!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=ol(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Me("beforetoggle",e),Me("toggle",e),sl(e,"popover",n);break;case"xlinkActuate":Oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Oa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Oa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Oa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Oa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":sl(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vg.get(a)||a,sl(e,a,n))}}function Dc(e,t,a,n,r,c){switch(a){case"style":td(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof n=="string"?li(e,n):(typeof n=="number"||typeof n=="bigint")&&li(e,""+n);break;case"onScroll":n!=null&&Me("scroll",e);break;case"onScrollEnd":n!=null&&Me("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),c=e[kt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,r),typeof n=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):sl(e,a,n)}}}function Mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var n=!1,r=!1,c;for(c in a)if(a.hasOwnProperty(c)){var h=a[c];if(h!=null)switch(c){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ze(e,t,c,h,a,null)}}r&&Ze(e,t,"srcSet",a.srcSet,a,null),n&&Ze(e,t,"src",a.src,a,null);return;case"input":Me("invalid",e);var v=c=h=r=null,_=null,D=null;for(n in a)if(a.hasOwnProperty(n)){var q=a[n];if(q!=null)switch(n){case"name":r=q;break;case"type":h=q;break;case"checked":_=q;break;case"defaultChecked":D=q;break;case"value":c=q;break;case"defaultValue":v=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:Ze(e,t,n,q,a,null)}}Ku(e,c,v,_,D,h,r,!1);return;case"select":Me("invalid",e),n=h=c=null;for(r in a)if(a.hasOwnProperty(r)&&(v=a[r],v!=null))switch(r){case"value":c=v;break;case"defaultValue":h=v;break;case"multiple":n=v;default:Ze(e,t,r,v,a,null)}t=c,a=h,e.multiple=!!n,t!=null?si(e,!!n,t,!1):a!=null&&si(e,!!n,a,!0);return;case"textarea":Me("invalid",e),c=r=n=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":n=v;break;case"defaultValue":r=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ze(e,t,h,v,a,null)}Pu(e,n,r,c);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(n=a[_],n!=null))switch(_){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ze(e,t,_,n,a,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(n=0;n<Ms.length;n++)Me(Ms[n],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(n=a[D],n!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ze(e,t,D,n,a,null)}return;default:if(Gr(t)){for(q in a)a.hasOwnProperty(q)&&(n=a[q],n!==void 0&&Dc(e,t,q,n,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(n=a[v],n!=null&&Ze(e,t,v,n,a,null))}function Jy(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,h=null,v=null,_=null,D=null,q=null;for(B in a){var J=a[B];if(a.hasOwnProperty(B)&&J!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":_=J;default:n.hasOwnProperty(B)||Ze(e,t,B,null,n,J)}}for(var U in n){var B=n[U];if(J=a[U],n.hasOwnProperty(U)&&(B!=null||J!=null))switch(U){case"type":c=B;break;case"name":r=B;break;case"checked":D=B;break;case"defaultChecked":q=B;break;case"value":h=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==J&&Ze(e,t,U,B,n,J)}}qr(e,h,v,_,D,q,c,r);return;case"select":B=h=v=U=null;for(c in a)if(_=a[c],a.hasOwnProperty(c)&&_!=null)switch(c){case"value":break;case"multiple":B=_;default:n.hasOwnProperty(c)||Ze(e,t,c,null,n,_)}for(r in n)if(c=n[r],_=a[r],n.hasOwnProperty(r)&&(c!=null||_!=null))switch(r){case"value":U=c;break;case"defaultValue":v=c;break;case"multiple":h=c;default:c!==_&&Ze(e,t,r,c,n,_)}t=v,a=h,n=B,U!=null?si(e,!!a,U,!1):!!n!=!!a&&(t!=null?si(e,!!a,t,!0):si(e,!!a,a?[]:"",!1));return;case"textarea":B=U=null;for(v in a)if(r=a[v],a.hasOwnProperty(v)&&r!=null&&!n.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ze(e,t,v,null,n,r)}for(h in n)if(r=n[h],c=a[h],n.hasOwnProperty(h)&&(r!=null||c!=null))switch(h){case"value":U=r;break;case"defaultValue":B=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(l(91));break;default:r!==c&&Ze(e,t,h,r,n,c)}Wu(e,U,B);return;case"option":for(var ae in a)if(U=a[ae],a.hasOwnProperty(ae)&&U!=null&&!n.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Ze(e,t,ae,null,n,U)}for(_ in n)if(U=n[_],B=a[_],n.hasOwnProperty(_)&&U!==B&&(U!=null||B!=null))switch(_){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ze(e,t,_,U,n,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)U=a[ye],a.hasOwnProperty(ye)&&U!=null&&!n.hasOwnProperty(ye)&&Ze(e,t,ye,null,n,U);for(D in n)if(U=n[D],B=a[D],n.hasOwnProperty(D)&&U!==B&&(U!=null||B!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:Ze(e,t,D,U,n,B)}return;default:if(Gr(t)){for(var Ke in a)U=a[Ke],a.hasOwnProperty(Ke)&&U!==void 0&&!n.hasOwnProperty(Ke)&&Dc(e,t,Ke,void 0,n,U);for(q in n)U=n[q],B=a[q],!n.hasOwnProperty(q)||U===B||U===void 0&&B===void 0||Dc(e,t,q,U,n,B);return}}for(var x in a)U=a[x],a.hasOwnProperty(x)&&U!=null&&!n.hasOwnProperty(x)&&Ze(e,t,x,null,n,U);for(J in n)U=n[J],B=a[J],!n.hasOwnProperty(J)||U===B||U==null&&B==null||Ze(e,t,J,U,n,B)}function np(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var r=a[n],c=r.transferSize,h=r.initiatorType,v=r.duration;if(c&&v&&np(h)){for(h=0,v=r.responseEnd,n+=1;n<a.length;n++){var _=a[n],D=_.startTime;if(D>v)break;var q=_.transferSize,J=_.initiatorType;q&&np(J)&&(_=_.responseEnd,h+=q*(_<v?1:(v-D)/(_-D)))}if(--n,t+=8*(c+h)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nc=null,Uc=null;function nr(e){return e.nodeType===9?e:e.ownerDocument}function ip(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lc=null;function Yy(){var e=window.event;return e&&e.type==="popstate"?e===Lc?!1:(Lc=e,!0):(Lc=null,!1)}var lp=typeof setTimeout=="function"?setTimeout:void 0,Xy=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,Qy=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(e){return rp.resolve(null).then(e).catch(Zy)}:lp;function Zy(e){setTimeout(function(){throw e})}function yn(e){return e==="head"}function op(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(r),Ii(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Ds(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ds(a);for(var c=a.firstChild;c;){var h=c.nextSibling,v=c.nodeName;c[Qi]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=h}}else a==="body"&&Ds(e.ownerDocument.body);a=r}while(a);Ii(t)}function cp(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function zc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zc(a),$r(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ky(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Qi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=da(e.nextSibling),e===null)break}return null}function Wy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=da(e.nextSibling),e===null))return null;return e}function up(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=da(e.nextSibling),e===null))return null;return e}function Ic(e){return e.data==="$?"||e.data==="$~"}function kc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Py(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Bc=null;function dp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return da(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function fp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function hp(e,t,a){switch(t=nr(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ds(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$r(e)}var fa=new Map,pp=new Set;function ir(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ja=I.d;I.d={f:ev,r:tv,D:av,C:nv,L:iv,m:sv,X:rv,S:lv,M:ov};function ev(){var e=Ja.f(),t=Ql();return e||t}function tv(e){var t=ai(e);t!==null&&t.tag===5&&t.type==="form"?Df(t):Ja.r(e)}var ji=typeof document>"u"?null:document;function mp(e,t,a){var n=ji;if(n&&typeof t=="string"&&t){var r=ia(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),pp.has(r)||(pp.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),Mt(t,"link",e),Et(t),n.head.appendChild(t)))}}function av(e){Ja.D(e),mp("dns-prefetch",e,null)}function nv(e,t){Ja.C(e,t),mp("preconnect",e,t)}function iv(e,t,a){Ja.L(e,t,a);var n=ji;if(n&&e&&t){var r='link[rel="preload"][as="'+ia(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+ia(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+ia(a.imageSizes)+'"]')):r+='[href="'+ia(e)+'"]';var c=r;switch(t){case"style":c=Li(e);break;case"script":c=zi(e)}fa.has(c)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),fa.set(c,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(Ns(c))||t==="script"&&n.querySelector(Us(c))||(t=n.createElement("link"),Mt(t,"link",e),Et(t),n.head.appendChild(t)))}}function sv(e,t){Ja.m(e,t);var a=ji;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+ia(n)+'"][href="'+ia(e)+'"]',c=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=zi(e)}if(!fa.has(c)&&(e=b({rel:"modulepreload",href:e},t),fa.set(c,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Us(c)))return}n=a.createElement("link"),Mt(n,"link",e),Et(n),a.head.appendChild(n)}}}function lv(e,t,a){Ja.S(e,t,a);var n=ji;if(n&&e){var r=ni(n).hoistableStyles,c=Li(e);t=t||"default";var h=r.get(c);if(!h){var v={loading:0,preload:null};if(h=n.querySelector(Ns(c)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=fa.get(c))&&$c(e,a);var _=h=n.createElement("link");Et(_),Mt(_,"link",e),_._p=new Promise(function(D,q){_.onload=D,_.onerror=q}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,sr(h,t,n)}h={type:"stylesheet",instance:h,count:1,state:v},r.set(c,h)}}}function rv(e,t){Ja.X(e,t);var a=ji;if(a&&e){var n=ni(a).hoistableScripts,r=zi(e),c=n.get(r);c||(c=a.querySelector(Us(r)),c||(e=b({src:e,async:!0},t),(t=fa.get(r))&&Hc(e,t),c=a.createElement("script"),Et(c),Mt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function ov(e,t){Ja.M(e,t);var a=ji;if(a&&e){var n=ni(a).hoistableScripts,r=zi(e),c=n.get(r);c||(c=a.querySelector(Us(r)),c||(e=b({src:e,async:!0,type:"module"},t),(t=fa.get(r))&&Hc(e,t),c=a.createElement("script"),Et(c),Mt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function gp(e,t,a,n){var r=(r=te.current)?ir(r):null;if(!r)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Li(a.href),a=ni(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Li(a.href);var c=ni(r).hoistableStyles,h=c.get(e);if(h||(r=r.ownerDocument||r,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=r.querySelector(Ns(e)))&&!c._p&&(h.instance=c,h.state.loading=5),fa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fa.set(e,a),c||cv(r,e,a,h.state))),t&&n===null)throw Error(l(528,""));return h}if(t&&n!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zi(a),a=ni(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Li(e){return'href="'+ia(e)+'"'}function Ns(e){return'link[rel="stylesheet"]['+e+"]"}function yp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function cv(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Mt(t,"link",a),Et(t),e.head.appendChild(t))}function zi(e){return'[src="'+ia(e)+'"]'}function Us(e){return"script[async]"+e}function vp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ia(a.href)+'"]');if(n)return t.instance=n,Et(n),n;var r=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Et(n),Mt(n,"style",r),sr(n,a.precedence,e),t.instance=n;case"stylesheet":r=Li(a.href);var c=e.querySelector(Ns(r));if(c)return t.state.loading|=4,t.instance=c,Et(c),c;n=yp(a),(r=fa.get(r))&&$c(n,r),c=(e.ownerDocument||e).createElement("link"),Et(c);var h=c;return h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),Mt(c,"link",n),t.state.loading|=4,sr(c,a.precedence,e),t.instance=c;case"script":return c=zi(a.src),(r=e.querySelector(Us(c)))?(t.instance=r,Et(r),r):(n=a,(r=fa.get(c))&&(n=b({},a),Hc(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),Et(r),Mt(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,sr(n,a.precedence,e));return t.instance}function sr(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,c=r,h=0;h<n.length;h++){var v=n[h];if(v.dataset.precedence===t)c=v;else if(c!==r)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function $c(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Hc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var lr=null;function bp(e,t,a){if(lr===null){var n=new Map,r=lr=new Map;r.set(a,n)}else r=lr,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var c=a[r];if(!(c[Qi]||c[At]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var v=n.get(h);v?v.push(c):n.set(h,[c])}}return n}function Sp(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function uv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _p(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dv(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var r=Li(n.href),c=t.querySelector(Ns(r));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=rr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,Et(c);return}c=t.ownerDocument||t,n=yp(n),(r=fa.get(r))&&$c(n,r),c=c.createElement("link"),Et(c);var h=c;h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),Mt(c,"link",n),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=rr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var qc=0;function fv(e,t){return e.stylesheets&&e.count===0&&cr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&cr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&qc===0&&(qc=62500*Fy());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>qc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(r)}}:null}function rr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var or=null;function cr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,or=new Map,t.forEach(hv,e),or=null,rr.call(e))}function hv(e,t){if(!(t.state.loading&4)){var a=or.get(e);if(a)var n=a.get(null);else{a=new Map,or.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var h=r[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),n=h)}n&&a.set(null,n)}r=t.instance,h=r.getAttribute("data-precedence"),c=a.get(h)||n,c===n&&a.set(null,r),a.set(h,r),this.count++,n=rr.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),c?c.parentNode.insertBefore(r,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var js={$$typeof:M,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function pv(e,t,a,n,r,c,h,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.hiddenUpdates=Ca(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Tp(e,t,a,n,r,c,h,v,_,D,q,J){return e=new pv(e,t,a,h,_,D,q,J,v),t=1,c===!0&&(t|=24),c=Qt(3,null,null,t),e.current=c,c.stateNode=e,t=_o(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:t},Ao(c),e}function Ep(e){return e?(e=hi,e):hi}function wp(e,t,a,n,r,c){r=Ep(r),n.context===null?n.context=r:n.pendingContext=r,n=ln(t),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=rn(e,n,t),a!==null&&(Gt(a,e,t),fs(a,e,t))}function Ap(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Vc(e,t){Ap(e,t),(e=e.alternate)&&Ap(e,t)}function Cp(e){if(e.tag===13||e.tag===31){var t=Nn(e,67108864);t!==null&&Gt(t,e,67108864),Vc(e,67108864)}}function xp(e){if(e.tag===13||e.tag===31){var t=ea();t=Ir(t);var a=Nn(e,t);a!==null&&Gt(a,e,t),Vc(e,t)}}var ur=!0;function mv(e,t,a,n){var r=O.T;O.T=null;var c=I.p;try{I.p=2,Gc(e,t,a,n)}finally{I.p=c,O.T=r}}function gv(e,t,a,n){var r=O.T;O.T=null;var c=I.p;try{I.p=8,Gc(e,t,a,n)}finally{I.p=c,O.T=r}}function Gc(e,t,a,n){if(ur){var r=Jc(n);if(r===null)Rc(e,t,n,dr,a),Mp(e,n);else if(vv(r,e,t,a,n))n.stopPropagation();else if(Mp(e,n),t&4&&-1<yv.indexOf(e)){for(;r!==null;){var c=ai(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=st(c.pendingLanes);if(h!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var _=1<<31-_e(h);v.entanglements[1]|=_,h&=~_}Ta(c),($e&6)===0&&(Yl=Le()+500,Os(0))}}break;case 31:case 13:v=Nn(c,2),v!==null&&Gt(v,c,2),Ql(),Vc(c,2)}if(c=Jc(n),c===null&&Rc(e,t,n,dr,a),c===r)break;r=c}r!==null&&n.stopPropagation()}else Rc(e,t,n,null,a)}}function Jc(e){return e=Fr(e),Fc(e)}var dr=null;function Fc(e){if(dr=null,e=ti(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dr=e,null}function Op(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Aa:return 2;case Qa:return 8;case Pn:case il:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Yc=!1,vn=null,bn=null,Sn=null,Ls=new Map,zs=new Map,_n=[],yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mp(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function Is(e,t,a,n,r,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[r]},t!==null&&(t=ai(t),t!==null&&Cp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function vv(e,t,a,n,r){switch(t){case"focusin":return vn=Is(vn,e,t,a,n,r),!0;case"dragenter":return bn=Is(bn,e,t,a,n,r),!0;case"mouseover":return Sn=Is(Sn,e,t,a,n,r),!0;case"pointerover":var c=r.pointerId;return Ls.set(c,Is(Ls.get(c)||null,e,t,a,n,r)),!0;case"gotpointercapture":return c=r.pointerId,zs.set(c,Is(zs.get(c)||null,e,t,a,n,r)),!0}return!1}function Rp(e){var t=ti(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Vu(e.priority,function(){xp(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,Vu(e.priority,function(){xp(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Jc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Jr=n,a.target.dispatchEvent(n),Jr=null}else return t=ai(a),t!==null&&Cp(t),e.blockedOn=a,!1;t.shift()}return!0}function Dp(e,t,a){fr(e)&&a.delete(t)}function bv(){Yc=!1,vn!==null&&fr(vn)&&(vn=null),bn!==null&&fr(bn)&&(bn=null),Sn!==null&&fr(Sn)&&(Sn=null),Ls.forEach(Dp),zs.forEach(Dp)}function hr(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,bv)))}var pr=null;function Np(e){pr!==e&&(pr=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){pr===e&&(pr=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(Fc(n||a)===null)continue;break}var c=ai(a);c!==null&&(e.splice(t,3),t-=3,Jo(c,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function Ii(e){function t(_){return hr(_,e)}vn!==null&&hr(vn,e),bn!==null&&hr(bn,e),Sn!==null&&hr(Sn,e),Ls.forEach(t),zs.forEach(t);for(var a=0;a<_n.length;a++){var n=_n[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<_n.length&&(a=_n[0],a.blockedOn===null);)Rp(a),a.blockedOn===null&&_n.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],c=a[n+1],h=r[kt]||null;if(typeof c=="function")h||Np(a);else if(h){var v=null;if(c&&c.hasAttribute("formAction")){if(r=c,h=c[kt]||null)v=h.formAction;else if(Fc(r)!==null)continue}else v=h.action;typeof v=="function"?a[n+1]=v:(a.splice(n,3),n-=3),Np(a)}}}function Up(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(h){return r=h})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Xc(e){this._internalRoot=e}mr.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,n=ea();wp(a,n,e,t,null,null)},mr.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wp(e.current,2,null,e,null,null),Ql(),t[ei]=null}};function mr(e){this._internalRoot=e}mr.prototype.unstable_scheduleHydration=function(e){if(e){var t=qu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<_n.length&&t!==0&&t<_n[a].priority;a++);_n.splice(a,0,e),a===0&&Rp(e)}};var jp=i.version;if(jp!=="19.2.0")throw Error(l(527,jp,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Sv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gr.isDisabled&&gr.supportsFiber)try{ge=gr.inject(Sv),ve=gr}catch{}}return Hs.createRoot=function(e,t){if(!o(e))throw Error(l(299));var a=!1,n="",r=Hf,c=qf,h=Vf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Tp(e,1,!1,null,null,a,n,null,r,c,h,Up),e[ei]=t.current,Mc(e),new Xc(t)},Hs.hydrateRoot=function(e,t,a){if(!o(e))throw Error(l(299));var n=!1,r="",c=Hf,h=qf,v=Vf,_=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=Tp(e,1,!0,t,a??null,n,r,_,c,h,v,Up),t.context=Ep(null),a=t.current,n=ea(),n=Ir(n),r=ln(n),r.callback=null,rn(a,r,n),a=n,t.current.lanes=a,xa(t,a),Ta(t),e[ei]=t.current,Mc(e),new mr(t)},Hs.version="19.2.0",Hs}var cm;function Jb(){if(cm)return eu.exports;cm=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),eu.exports=Gb(),eu.exports}var Fb=Jb();var yu=function(u,i){return yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var o in l)l.hasOwnProperty(o)&&(s[o]=l[o])},yu(u,i)};function Yb(u,i){yu(u,i);function s(){this.constructor=u}u.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}var Pe=function(){return Pe=Object.assign||function(i){for(var s,l=1,o=arguments.length;l<o;l++){s=arguments[l];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(i[d]=s[d])}return i},Pe.apply(this,arguments)};function Qm(u){return Object.keys(u).some(function(i){var s=u[i];if(!s)return!1;s&&s.toParam&&(s=s.toParam());var l=s.constructor.name;switch(l){case"Array":return!1;case"Object":return!1;case"Date":return!1;case"Function":return!1;case"Boolean":return!1;case"String":return!1;case"Number":return!1;default:return!0}})}function Zm(u){var i={};return Object.keys(u).forEach(function(s){var l,o,d=u[s];if(d&&d.toParam&&(d=d.toParam()),!(!d&&d!==0&&typeof d!="boolean"&&typeof d!="string")){var f=d.constructor.name,p;switch(f){case"Array":var g=(o=(l=d[0])===null||l===void 0?void 0:l.constructor)===null||o===void 0?void 0:o.name;p=g==="Array"?d:g==="Object"?JSON.stringify(d):d.join(",");break;case"Object":p=JSON.stringify(d);break;case"Date":p=d.valueOf();break;case"Function":p=null;break;case"Boolean":p=d+"";break;default:p=d;break}(p||p===0||typeof p=="string"||Array.isArray(p))&&(i[s]=p)}}),i}function Km(u,i){return Array.isArray(i)&&i[0]&&Array.isArray(i[0])?i.map(function(s){return Km(u,s)}).join("&"):encodeURIComponent(u)+"="+encodeURIComponent(i)}function wr(u){var i=Zm(u);return Object.keys(i).map(function(s){return Km(s,i[s])}).join("&")}function Xb(u,i){var s=Qm(u)||i,l=Zm(u);if(s){var o=new FormData;return Object.keys(l).forEach(function(d){if(typeof Blob<"u"&&l[d]instanceof Blob){var f=l.fileName||l[d].name||d;o.append(d,l[d],f)}else l[d].constructor&&l[d].constructor.name==="ReadStream"&&Number.isInteger(l.dataSize)?o.append(d,l[d],{knownLength:l.dataSize}):o.append(d,l[d])}),o}else return wr(u)}var Cn=(function(){function u(i,s,l,o,d){i=i||"UNKNOWN_ERROR",s=s||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message=s==="UNKNOWN_ERROR_CODE"?i:s+": "+i,this.originalMessage=i,this.code=s,this.response=l,this.url=o,this.options=d}return u})();Cn.prototype=Object.create(Error.prototype);Cn.prototype.constructor=Cn;var Qb={noCorsDomains:[],crossOriginNoCorsDomains:{},pendingNoCorsRequests:{}},vu="ARCGIS_REST_JS_NO_CORS";globalThis[vu]||(globalThis[vu]=Pe({},Qb));var Ft=globalThis[vu];function Zb(u){var i=new URL(u);u=i.origin+i.pathname,i.search.includes("f=json")&&(u+="?f=json");var s=i.origin;return Ft.pendingNoCorsRequests[s]||(Ft.pendingNoCorsRequests[s]=fetch(u,{mode:"no-cors",credentials:"include"}).then(function(l){Ft.noCorsDomains.indexOf(s)===-1&&Ft.noCorsDomains.push(s),Ft.crossOriginNoCorsDomains[s.toLowerCase()]=Date.now(),delete Ft.pendingNoCorsRequests[s]}).catch(function(l){return delete Ft.pendingNoCorsRequests[s],Promise.reject(new Error("no-cors request to "+s+" failed"))})),Ft.pendingNoCorsRequests[s]}function Kb(u){u.forEach(function(i){i=i.toLowerCase(),/^https?:\/\//.test(i)?iu(i):(iu("http://"+i),iu("https://"+i))})}function iu(u){var i=new URL(u),s=i.origin;Ft.noCorsDomains.indexOf(s)===-1&&Ft.noCorsDomains.push(s)}function zu(u){var i=!1;if(Ft.noCorsDomains.length){var s=new URL(u).origin.toLowerCase();i=Ft.noCorsDomains.some(function(l){return s.includes(l)})}return i}function Wb(u){var i=!1;if(zu(u)){var s=new URL(u).origin.toLowerCase(),l=Ft.crossOriginNoCorsDomains[s]||0;Date.now()-60*6e4>l&&(i=!0)}return i}function Pb(u,i){var s;if(!i&&!window)return!1;i=i||window;var l=(s=i.location)===null||s===void 0?void 0:s.origin;return u.startsWith(l)}var Wm="@esri/arcgis-rest-js",su={httpMethod:"POST",params:{f:"json"}},Yn=(function(u){Yb(i,u);function i(s,l,o,d,f){s===void 0&&(s="AUTHENTICATION_ERROR"),l===void 0&&(l="AUTHENTICATION_ERROR_CODE");var p=u.call(this,s,l,o,d,f)||this;return p.name="ArcGISAuthError",p.message=l==="AUTHENTICATION_ERROR_CODE"?s:l+": "+s,p}return i.prototype.retry=function(s,l){var o=this;l===void 0&&(l=3);var d=0,f=function(p,g){s(o.url,o.options).then(function(y){var m=Pe(Pe({},o.options),{authentication:y});return d=d+1,An(o.url,m)}).then(function(y){p(y)}).catch(function(y){y.name==="ArcGISAuthError"&&d<l?f(p,g):y.name==="ArcGISAuthError"&&d>=l?g(o):g(y)})};return new Promise(function(p,g){f(p,g)})},i})(Cn);function e0(u,i,s,l,o){if(u.code>=400){var d=u.message,f=u.code;throw new Cn(d,f,u,i,l)}if(u.error){var p=u.error,d=p.message,f=p.code,g=p.messageCode,y=g||f||"UNKNOWN_ERROR_CODE";throw f===498||f===499||g==="GWM_0003"||f===400&&d==="Unable to generate token."?o||new Yn(d,y,u,i,l):new Cn(d,y,u,i,l)}if(u.status==="failed"||u.status==="failure"){var d=void 0,f="UNKNOWN_ERROR_CODE";try{d=JSON.parse(u.statusMessage).message,f=JSON.parse(u.statusMessage).code}catch{d=u.statusMessage||u.message}throw new Cn(d,f,u,i,l)}return u}function An(u,i){i===void 0&&(i={params:{f:"json"}});var s=Pe(Pe(Pe({httpMethod:"POST"},su),i),{params:Pe(Pe({},su.params),i.params),headers:Pe(Pe({},su.headers),i.headers)}),l=[],o=[];if(!s.fetch&&typeof fetch<"u"?s.fetch=fetch.bind(Function("return this")()):(l.push("`fetch`"),o.push("`node-fetch`")),typeof Promise>"u"&&(l.push("`Promise`"),o.push("`es6-promise`")),typeof FormData>"u"&&(l.push("`FormData`"),o.push("`isomorphic-form-data`")),!s.fetch||typeof Promise>"u"||typeof FormData>"u")throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+l.join(", ")+". We recommend installing the "+o.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var d=s.httpMethod,f=s.authentication,p=s.rawResponse,g=Pe({f:"json"},s.params),y=null,m={method:d,credentials:s.credentials||"same-origin"};zu(u)&&(m.credentials="include");var b=!1;typeof window<"u"&&(b=Pb(u));var S=!b&&Wb(u);s.headers&&s.headers["X-Esri-Auth-Client-Id"]&&u.indexOf("/oauth2/platformSelf")>-1&&(m.credentials="include");var w=Promise.resolve();return S&&(m.credentials="include",w=Zb(u)),w.then(function(){return f?f.getToken(u,{fetch:s.fetch}).catch(function(T){return T.url=u,T.options=s,y=T,Promise.resolve("")}):Promise.resolve("")}).then(function(T){T.length&&(g.token=T),f&&f.getDomainCredentials&&(m.credentials=f.getDomainCredentials(u));var z={};if(m.method==="GET"){g.token&&s.hideToken&&typeof window>"u"&&(z["X-Esri-Authorization"]="Bearer "+g.token,delete g.token);var k=wr(g),C=k===""?u:u+"?"+wr(g);s.maxUrlLength&&C.length>s.maxUrlLength||g.token&&s.hideToken?(m.method="POST",T.length&&s.hideToken&&(g.token=T,delete z["X-Esri-Authorization"])):u=C}var L=new RegExp("/items/.+/updateResources").test(u);return m.method==="POST"&&(m.body=Xb(g,L)),m.headers=Pe(Pe({},z),s.headers),typeof window>"u"&&!m.headers.referer&&(m.headers.referer=Wm),!Qm(g)&&!L&&(m.headers["Content-Type"]="application/x-www-form-urlencoded"),s.fetch(u,m)}).then(function(T){if(!T.ok){var z=T.status,k=T.statusText;throw new Cn(k,"HTTP "+z,T,u,s)}if(p)return T;switch(g.f){case"json":return T.json();case"geojson":return T.json();case"html":return T.text();case"text":return T.text();default:return T.blob()}}).then(function(T){if((g.f==="json"||g.f==="geojson")&&!p){var z=e0(T,u,g,s,y);if(T&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(u)&&Array.isArray(T.authorizedCrossOriginNoCorsDomains)&&Kb(T.authorizedCrossOriginNoCorsDomains),y){var k=u.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];s.authentication.federatedServers[k]={token:[],expires:new Date(Date.now()+86400*1e3)},y=null}return z}else return T})}function Ar(u){return typeof u!="string"||(u=u.trim(),u[u.length-1]==="/"&&(u=u.slice(0,-1))),u}function t0(u){var i=u.split("="),s=i[0],l=i[1];return{key:decodeURIComponent(s),value:decodeURIComponent(l)}}function a0(u){return u.replace(/^#/,"").split("&").reduce(function(i,s){var l=t0(s),o=l.key,d=l.value;return i[o]=d,i},{})}function lu(u,i){var s=i;return s.rawResponse=!1,An(u,s).then(function(l){var o={token:l.access_token,username:l.username,expires:new Date(Date.now()+(l.expires_in*1e3-1e3)),ssl:l.ssl===!0};return l.refresh_token&&(o.refreshToken=l.refresh_token),o})}function ru(u,i){var s=i;return typeof window<"u"&&window.location&&window.location.host?s.params.referer=window.location.host:s.params.referer=Wm,An(u,s)}var Cr=/^https?:\/\/(\S+)\.arcgis\.com.+/;function um(u){return Cr.test(u)}function n0(u){if(!Cr.test(u))return u;switch(bu(u)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}function bu(u){if(!Cr.test(u))return null;var i=u.match(Cr),s=i[1].split(".").pop();return s.includes("dev")?"dev":s.includes("qa")?"qa":"production"}function i0(u,i){var s=Ar(n0(i)).replace(/https?:\/\//,""),l=Ar(u).replace(/https?:\/\//,"");return new RegExp(l,"i").test(s)}function s0(u,i){var s=um(u),l=um(i),o=bu(u),d=bu(i);return!!(s&&l&&o===d)}function l0(u,i,s){s===void 0&&(s="https://www.arcgis.com/sharing/rest");var l=s+"/oauth2/validateAppAccess",o={method:"POST",params:{f:"json",client_id:i,token:u}};return An(l,o)}function r0(){var u={promise:null,resolve:null,reject:null};return u.promise=new Promise(function(i,s){u.resolve=i,u.reject=s}),u}var Su=(function(){function u(i){if(this.clientId=i.clientId,this._refreshToken=i.refreshToken,this._refreshTokenExpires=i.refreshTokenExpires,this.username=i.username,this.password=i.password,this._token=i.token,this._tokenExpires=i.tokenExpires,this.portal=i.portal?Ar(i.portal):"https://www.arcgis.com/sharing/rest",this.ssl=i.ssl,this.provider=i.provider||"arcgis",this.tokenDuration=i.tokenDuration||20160,this.redirectUri=i.redirectUri,this.refreshTokenTTL=i.refreshTokenTTL||20160,this.server=i.server,this.federatedServers={},this.trustedDomains=[],i.server){var s=this.getServerRootUrl(i.server);this.federatedServers[s]={token:i.token,expires:i.tokenExpires}}this._pendingTokenRequests={}}return Object.defineProperty(u.prototype,"token",{get:function(){return this._token},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tokenExpires",{get:function(){return this._tokenExpires},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"refreshToken",{get:function(){return this._refreshToken},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"refreshTokenExpires",{get:function(){return this._refreshTokenExpires},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"trustedServers",{get:function(){return console.log("DEPRECATED: use federatedServers instead"),this.federatedServers},enumerable:!1,configurable:!0}),u.beginOAuth2=function(i,s){s===void 0&&(s=window),i.duration&&console.log("DEPRECATED: 'duration' is deprecated - use 'expiration' instead");var l=Pe({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",expiration:20160,popup:!0,popupWindowFeatures:"height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes",state:i.clientId,locale:""},i),o=l.portal,d=l.provider,f=l.clientId,p=l.expiration,g=l.redirectUri,y=l.popup,m=l.popupWindowFeatures,b=l.state,S=l.locale,w=l.params,T;if(d==="arcgis"?T=o+"/oauth2/authorize?client_id="+f+"&response_type=token&expiration="+(i.duration||p)+"&redirect_uri="+encodeURIComponent(g)+"&state="+b+"&locale="+S:T=o+"/oauth2/social/authorize?client_id="+f+"&socialLoginProviderName="+d+"&autoAccountCreateForSocial=true&response_type=token&expiration="+(i.duration||p)+"&redirect_uri="+encodeURIComponent(g)+"&state="+b+"&locale="+S,w&&(T=T+"&"+wr(w)),!y){s.location.href=T;return}var z=r0();return s["__ESRI_REST_AUTH_HANDLER_"+f]=function(k,C){if(k){var L=JSON.parse(k);z.reject(new Yn(L.errorMessage,L.error));return}if(C){var M=JSON.parse(C);z.resolve(new u({clientId:f,portal:o,ssl:M.ssl,token:M.token,tokenExpires:new Date(M.expires),username:M.username}))}},s.open(T,"oauth-window",m),z.promise},u.completeOAuth2=function(i,s){s===void 0&&(s=window);var l=Pe({portal:"https://www.arcgis.com/sharing/rest",popup:!0},i),o=l.portal,d=l.clientId,f=l.popup;function p(z,k){try{var C=void 0,L="__ESRI_REST_AUTH_HANDLER_"+d;if(f&&(s.opener?s.opener.parent&&s.opener.parent[L]?C=s.opener.parent[L]:s.opener&&s.opener[L]&&(C=s.opener[L]):s!==s.parent&&s.parent&&s.parent[L]&&(C=s.parent[L]),C)){C(z?JSON.stringify(z):void 0,JSON.stringify(k)),s.close();return}}catch{throw new Yn(`Unable to complete authentication. It's possible you specified popup based oAuth2 but no handler from "beginOAuth2()" present. This generally happens because the "popup" option differs between "beginOAuth2()" and "completeOAuth2()".`)}if(z)throw new Yn(z.errorMessage,z.error);return new u({clientId:d,portal:o,ssl:k.ssl,token:k.token,tokenExpires:k.expires,username:k.username})}var g=a0(s.location.hash);if(!g.access_token){var y=void 0,m="Unknown error";return g.error&&(y=g.error,m=g.error_description),p({error:y,errorMessage:m})}var b=g.access_token,S=new Date(Date.now()+parseInt(g.expires_in,10)*1e3-60*1e3),w=g.username,T=g.ssl==="true";return p(void 0,{token:b,expires:S,ssl:T,username:w})},u.fromParent=function(i,s){!s&&window&&(s=window);var l;return new Promise(function(o,d){l=function(f){if(f.source===s.parent&&f.data)try{return o(u.parentMessageHandler(f))}catch(p){return d(p)}},s.addEventListener("message",l,!1),s.parent.postMessage({type:"arcgis:auth:requestCredential"},i)}).then(function(o){return s.removeEventListener("message",l,!1),o})},u.authorize=function(i,s){i.duration&&console.log("DEPRECATED: 'duration' is deprecated - use 'expiration' instead");var l=Pe({portal:"https://arcgis.com/sharing/rest",expiration:20160},i),o=l.portal,d=l.clientId,f=l.expiration,p=l.redirectUri;s.writeHead(301,{Location:o+"/oauth2/authorize?client_id="+d+"&expiration="+(i.duration||f)+"&response_type=code&redirect_uri="+encodeURIComponent(p)}),s.end()},u.exchangeAuthorizationCode=function(i,s){var l=Pe({portal:"https://www.arcgis.com/sharing/rest",refreshTokenTTL:20160},i),o=l.portal,d=l.clientId,f=l.redirectUri,p=l.refreshTokenTTL;return lu(o+"/oauth2/token",{params:{grant_type:"authorization_code",client_id:d,redirect_uri:f,code:s}}).then(function(g){return new u({clientId:d,portal:o,ssl:g.ssl,redirectUri:f,refreshToken:g.refreshToken,refreshTokenTTL:p,refreshTokenExpires:new Date(Date.now()+(p-1)*60*1e3),token:g.token,tokenExpires:g.expires,username:g.username})})},u.deserialize=function(i){var s=JSON.parse(i);return new u({clientId:s.clientId,refreshToken:s.refreshToken,refreshTokenExpires:new Date(s.refreshTokenExpires),username:s.username,password:s.password,token:s.token,tokenExpires:new Date(s.tokenExpires),portal:s.portal,ssl:s.ssl,tokenDuration:s.tokenDuration,redirectUri:s.redirectUri,refreshTokenTTL:s.refreshTokenTTL})},u.fromCredential=function(i){var s=typeof i.ssl<"u"?i.ssl:!0,l=i.expires||Date.now()+72e5;return new u({portal:i.server.includes("sharing/rest")?i.server:i.server+"/sharing/rest",ssl:s,token:i.token,username:i.userId,tokenExpires:new Date(l)})},u.parentMessageHandler=function(i){if(i.data.type==="arcgis:auth:credential")return u.fromCredential(i.data.credential);if(i.data.type==="arcgis:auth:error"){var s=new Error(i.data.error.message);throw s.name=i.data.error.name,s}else throw new Error("Unknown message type.")},u.prototype.toCredential=function(){return{expires:this.tokenExpires.getTime(),server:this.portal,ssl:this.ssl,token:this.token,userId:this.username}},u.prototype.getUser=function(i){var s=this;if(this._pendingUserRequest)return this._pendingUserRequest;if(this._user)return Promise.resolve(this._user);var l=this.portal+"/community/self",o=Pe(Pe({httpMethod:"GET",authentication:this},i),{rawResponse:!1});return this._pendingUserRequest=An(l,o).then(function(d){return s._user=d,s._pendingUserRequest=null,d}),this._pendingUserRequest},u.prototype.getPortal=function(i){var s=this;if(this._pendingPortalRequest)return this._pendingPortalRequest;if(this._portalInfo)return Promise.resolve(this._portalInfo);var l=this.portal+"/portals/self",o=Pe(Pe({httpMethod:"GET",authentication:this},i),{rawResponse:!1});return this._pendingPortalRequest=An(l,o).then(function(d){return s._portalInfo=d,s._pendingPortalRequest=null,d}),this._pendingPortalRequest},u.prototype.getUsername=function(){return this.username?Promise.resolve(this.username):this._user?Promise.resolve(this._user.username):this.getUser().then(function(i){return i.username})},u.prototype.getToken=function(i,s){return s0(this.portal,i)?this.getFreshToken(s):new RegExp(this.portal,"i").test(i)?this.getFreshToken(s):this.getTokenForServer(i,s)},u.prototype.validateAppAccess=function(i){return this.getToken(this.portal).then(function(s){return l0(s,i)})},u.prototype.toJSON=function(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,refreshTokenTTL:this.refreshTokenTTL}},u.prototype.serialize=function(){return JSON.stringify(this)},u.prototype.enablePostMessageAuth=function(i,s){!s&&window&&(s=window),this._hostHandler=this.createPostMessageHandler(i),s.addEventListener("message",this._hostHandler,!1)},u.prototype.disablePostMessageAuth=function(i){!i&&window&&(i=window),i.removeEventListener("message",this._hostHandler,!1)},u.prototype.refreshSession=function(i){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(i):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new Yn("Unable to refresh token."))},u.prototype.getServerRootUrl=function(i){var s=Ar(i).split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/)[0],l=s.match(/(https?:\/\/)(.+)/);l[0];var o=l[1],d=l[2],f=d.split("/"),p=f[0],g=f.slice(1);return""+o+p.toLowerCase()+"/"+g.join("/")},u.prototype.getDomainCredentials=function(i){var s=zu(i);return s?"include":!this.trustedDomains||!this.trustedDomains.length?"same-origin":this.trustedDomains.some(function(l){return i.startsWith(l)})?"include":"same-origin"},u.prototype.createPostMessageHandler=function(i){var s=this;return function(l){var o=i.indexOf(l.origin)>-1,d=l.data.type==="arcgis:auth:requestCredential",f=s.tokenExpires.getTime()>Date.now();if(o&&d){var p={};if(f){var g=s.toCredential();g.server=g.server.replace("/sharing/rest",""),p={type:"arcgis:auth:credential",credential:g}}else p={type:"arcgis:auth:error",error:{name:"tokenExpiredError",message:"Session token was expired, and not returned to the child application"}};l.source.postMessage(p,l.origin)}}},u.prototype.getTokenForServer=function(i,s){var l=this,o=this.getServerRootUrl(i),d=this.federatedServers[o];return d&&d.expires&&d.expires.getTime()>Date.now()?Promise.resolve(d.token):this._pendingTokenRequests[o]?this._pendingTokenRequests[o]:(this._pendingTokenRequests[o]=this.fetchAuthorizedDomains().then(function(){return An(o+"/rest/info",{credentials:l.getDomainCredentials(i)}).then(function(f){if(f.owningSystemUrl){if(i0(f.owningSystemUrl,l.portal))return An(f.owningSystemUrl+"/sharing/rest/info",s);throw new Yn(i+" is not federated with "+l.portal+".","NOT_FEDERATED")}else{if(f.authInfo&&l.federatedServers[o]!==void 0)return Promise.resolve({authInfo:f.authInfo});throw new Yn(i+" is not federated with any portal and is not explicitly trusted.","NOT_FEDERATED")}}).then(function(f){return f.authInfo.tokenServicesUrl}).then(function(f){return l.token&&l.tokenExpires.getTime()>Date.now()?ru(f,{params:{token:l.token,serverUrl:i,expiration:l.tokenDuration,client:"referer"}}):ru(f,{params:{username:l.username,password:l.password,expiration:l.tokenDuration,client:"referer"}}).then(function(p){return l._token=p.token,l._tokenExpires=new Date(p.expires),p})}).then(function(f){return l.federatedServers[o]={expires:new Date(f.expires),token:f.token},delete l._pendingTokenRequests[o],f.token})}),this._pendingTokenRequests[o])},u.prototype.getFreshToken=function(i){var s=this;return this.token&&!this.tokenExpires?Promise.resolve(this.token):this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshSession(i).then(function(l){return s._pendingTokenRequests[s.portal]=null,l.token})),this._pendingTokenRequests[this.portal])},u.prototype.refreshWithUsernameAndPassword=function(i){var s=this,l=Pe({params:{username:this.username,password:this.password,expiration:this.tokenDuration}},i);return ru(this.portal+"/generateToken",l).then(function(o){return s._token=o.token,s._tokenExpires=new Date(o.expires),s})},u.prototype.refreshWithRefreshToken=function(i){var s=this;if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()<Date.now())return this.refreshRefreshToken(i);var l=Pe({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},i);return lu(this.portal+"/oauth2/token",l).then(function(o){return s._token=o.token,s._tokenExpires=o.expires,s})},u.prototype.refreshRefreshToken=function(i){var s=this,l=Pe({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},i);return lu(this.portal+"/oauth2/token",l).then(function(o){return s._token=o.token,s._tokenExpires=o.expires,s._refreshToken=o.refreshToken,s._refreshTokenExpires=new Date(Date.now()+(s.refreshTokenTTL-1)*60*1e3),s})},u.prototype.fetchAuthorizedDomains=function(){var i=this;return this.server||!this.portal?Promise.resolve(this):this.getPortal().then(function(s){return s.authorizedCrossOriginDomains&&s.authorizedCrossOriginDomains.length&&(i.trustedDomains=s.authorizedCrossOriginDomains.filter(function(l){return!l.startsWith("http://")}).map(function(l){return l.startsWith("https://")?l:"https://"+l})),i})},u})();const dm="wJK4zhJHaHyFzyQ2",fm="https://regal-sable-0a6dde.netlify.app/",xr="arcgis_session",_u="arcgis_user_info";function o0(u){try{const i=u.serialize();sessionStorage.setItem(xr,i)}catch(i){console.warn("Could not serialize session:",i)}}function c0(){const u=sessionStorage.getItem(xr);if(u)try{return Su.deserialize(u)}catch{sessionStorage.removeItem(xr)}return null}function ou(u){try{sessionStorage.setItem(_u,JSON.stringify(u))}catch(i){console.warn("Could not persist userInfo",i)}}function u0(){const u=sessionStorage.getItem(_u);if(!u)return null;try{return JSON.parse(u)}catch{return sessionStorage.removeItem(_u),null}}function d0(){const u=window.location.hash.substring(1),i=new URLSearchParams(u),s=i.get("access_token")||i.get("token"),l=i.get("expires_in");return{token:s,expires:l?Date.now()+parseInt(l,10)*1e3:null}}async function hm(u){const s=await(await fetch(`https://www.arcgis.com/sharing/rest/community/self?f=json&token=${u}`)).json();return{username:s.username,role:s.role,userLicenseTypeId:s.userLicenseTypeId}}const Tu="refactor-flag-updated";function pm(){return new URLSearchParams(window.location.search).get("refactor")==="1"}function Pm(){const[u,i]=he.useState(()=>pm());return he.useEffect(()=>{const s=()=>i(pm());return window.addEventListener("popstate",s),window.addEventListener(Tu,s),()=>{window.removeEventListener("popstate",s),window.removeEventListener(Tu,s)}},[]),u}function f0(){new URLSearchParams(window.location.search).get("refactor")==="1"&&sessionStorage.setItem("refactorFlag","1")}function h0(){const u=sessionStorage.getItem("refactorFlag")==="1",i=new URLSearchParams(window.location.search);if(u&&i.get("refactor")!=="1"){i.set("refactor","1");const s=`${window.location.pathname}?${i.toString()}`;window.history.replaceState({},"",s)}u&&sessionStorage.removeItem("refactorFlag"),window.dispatchEvent(new Event(Tu))}const eg=he.createContext({session:null,token:null,signIn:()=>{},signOut:()=>{},loading:!1,userInfo:null,setUserInfo:()=>{}}),p0=({children:u})=>{const[i,s]=he.useState(c0()),[l,o]=he.useState(!0),[d,f]=he.useState(u0()),[p]=he.useState(()=>new URLSearchParams(window.location.search).get("refactor")==="1");he.useEffect(()=>{const{token:m,expires:b}=d0();if(!m){setTimeout(()=>o(!1),0);return}const S=sessionStorage.getItem("refactorFlag")==="1"||p,w=new Su({clientId:dm,redirectUri:fm,token:m,tokenExpires:b?new Date(b):new Date(Date.now()+1e3*60*60*24*14),portal:"https://www.arcgis.com/sharing/rest"});s(w),o0(w);try{if(window.location.hash&&/access_token=/.test(window.location.hash)){const T=window.location.pathname+window.location.search;window.history.replaceState({},"",T)}}catch{}hm(m).then(T=>{const z=w.portal.replace(/\/$/,""),k=`${z}/community/users/${T.username}?f=json&token=${m}`;return fetch(k).then(C=>C.ok?C.json():Promise.reject(C.status)).then(C=>{const L=C?.thumbnail?`${z}/community/users/${T.username}/info/${C.thumbnail}?token=${m}`:void 0,M={username:T.username,role:T.role,userType:T.userLicenseTypeId,fullName:C?.fullName||T.username,thumbnailUrl:L};f(M),ou(M)}).catch(()=>{const C={username:T.username,role:T.role,userType:T.userLicenseTypeId};f(C),ou(C)})}).catch(()=>f(null)).finally(()=>{S?h0():sessionStorage.removeItem("refactorFlag"),o(!1)})},[p]),he.useEffect(()=>{if(i&&!d&&!l){const m=i.token;hm(m).then(b=>{const S=i.portal.replace(/\/$/,""),w=`${S}/community/users/${b.username}?f=json&token=${m}`;return fetch(w).then(T=>T.ok?T.json():Promise.reject(T.status)).then(T=>{const z=T?.thumbnail?`${S}/community/users/${b.username}/info/${T.thumbnail}?token=${m}`:void 0,k={username:b.username,role:b.role,userType:b.userLicenseTypeId,fullName:T?.fullName||b.username,thumbnailUrl:z};f(k),ou(k)})}).catch(()=>{})}},[i,d,l]),he.useEffect(()=>{i&&console.log("Session token (updated):",i.token)},[i]);const g=()=>{f0(),Su.beginOAuth2({clientId:dm,redirectUri:fm,responseType:"token",popup:!1})},y=()=>{i&&(s(null),sessionStorage.removeItem(xr))};return j.jsx(eg.Provider,{value:{session:i,token:i?.token??null,signIn:g,signOut:y,loading:l,userInfo:d,setUserInfo:f},children:u})},Lr=()=>he.useContext(eg),m0="0.4.0-alpha.3";function g0(){const{userInfo:u,token:i,signIn:s,signOut:l}=Lr(),[o,d]=he.useState(!1),f=he.useRef(null);he.useEffect(()=>{function w(z){o&&f.current&&!f.current.contains(z.target)&&d(!1)}function T(z){z.key==="Escape"&&d(!1)}return document.addEventListener("mousedown",w),document.addEventListener("keydown",T),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("keydown",T)}},[o]);const p=!!i&&!!u,g=u?.username?.charAt(0).toUpperCase()||"?",y=u?.username?`https://www.arcgis.com/home/user.html?user=${u.username}`:void 0,m=u?.thumbnailUrl||null,b=u?.fullName||u?.username||"",S=Pm();return j.jsx("header",{className:"top-nav",children:j.jsxs("div",{className:"top-nav-inner",children:[j.jsxs("div",{className:"top-nav-titles",children:[j.jsx("div",{className:"top-nav-title",children:"Classic StoryMap Converter"}),j.jsxs("div",{className:"top-nav-subtitle",children:["Alpha | v",m0,S&&j.jsx("span",{className:"refactor-badge",role:"status","aria-label":"Refactor mode active",title:"Refactor pipeline active",children:"Refactor"})]})]}),j.jsx("nav",{className:"top-nav-list","aria-label":"Main navigation"}),j.jsxs("div",{className:"top-nav-actions",children:[!p&&j.jsx("button",{className:"account-btn",onClick:s,"data-testid":"sign-in-btn",children:"Sign In"}),p&&j.jsxs("div",{className:"account-control",ref:f,children:[j.jsxs("button",{type:"button",className:"account-trigger","aria-haspopup":"true","aria-label":"Account menu",onClick:()=>d(w=>!w),children:[j.jsx("svg",{className:"account-trigger-icon",width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:j.jsx("path",{fill:"currentColor",d:"M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v2h20v-2c0-3.3-6.7-5-10-5z"})}),j.jsx("svg",{className:"account-caret",width:"12",height:"12",viewBox:"0 0 24 24","aria-hidden":"true",children:j.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),o&&j.jsxs("div",{className:"account-menu",role:"group","aria-label":"Account menu",children:[j.jsxs("div",{className:"account-menu-header",children:[m?j.jsx("img",{src:m,alt:"","aria-hidden":"true",className:"account-menu-avatar"}):j.jsx("span",{className:"account-menu-avatar fallback","aria-hidden":"true",children:g}),j.jsxs("div",{className:"account-menu-names",children:[j.jsx("div",{className:"account-full-name",children:b||(profileLoading?"Loading":u?.username)}),j.jsx("div",{className:"account-username-sub",children:u?.username})]})]}),j.jsx("div",{className:"account-menu-divider"}),y&&j.jsx("a",{href:y,target:"_blank",rel:"noopener",className:"account-menu-item",children:"View Profile"}),j.jsx("button",{className:"account-menu-item",onClick:()=>{d(!1),l()},children:"Sign Out"})]})]})]})]})})}const y0=new Set(["children","localName","ref","style","className"]),mm=new WeakMap,gm=(u,i,s,l,o)=>{const d=o?.[i];d===void 0?(u[i]=s,s==null&&i in HTMLElement.prototype&&u.removeAttribute(i)):s!==l&&((f,p,g)=>{let y=mm.get(f);y===void 0&&mm.set(f,y=new Map);let m=y.get(p);g!==void 0?m===void 0?(y.set(p,m={handleEvent:g}),f.addEventListener(p,m)):m.handleEvent=g:m!==void 0&&(y.delete(p),f.removeEventListener(p,m))})(u,d,s)},v0=({react:u,tagName:i,elementClass:s,events:l,displayName:o})=>{const d=new Set(Object.keys(l??{})),f=u.forwardRef(((p,g)=>{const y=u.useRef(new Map),m=u.useRef(null),b={},S={};for(const[w,T]of Object.entries(p))y0.has(w)?b[w==="className"?"class":w]=T:d.has(w)||w in s.prototype?S[w]=T:b[w]=T;return u.useLayoutEffect((()=>{if(m.current===null)return;const w=new Map;for(const T in S)gm(m.current,T,p[T],y.current.get(T),l),y.current.delete(T),w.set(T,p[T]);for(const[T,z]of y.current)gm(m.current,T,void 0,z,l);y.current=w})),u.useLayoutEffect((()=>{m.current?.removeAttribute("defer-hydration")}),[]),b.suppressHydrationWarning=!0,u.createElement(i,{...b,ref:u.useCallback((w=>{m.current=w,typeof g=="function"?g(w):g!==null&&(g.current=w)}),[g])})}));return f.displayName=o??s.name,f},Xa=Nb(Bb,v0),ym=Xa(Ya("calcite-button",{})),b0=Xa(Ya("calcite-dialog",{onCalciteDialogBeforeClose:"calciteDialogBeforeClose",onCalciteDialogBeforeOpen:"calciteDialogBeforeOpen",onCalciteDialogClose:"calciteDialogClose",onCalciteDialogOpen:"calciteDialogOpen",onCalciteDialogScroll:"calciteDialogScroll"})),vm=Xa(Ya("calcite-input",{onCalciteInputChange:"calciteInputChange",onCalciteInputInput:"calciteInputInput"})),bm=Xa(Ya("calcite-input-message",{})),Sm=Xa(Ya("calcite-label",{})),S0=Xa(Ya("calcite-tab",{})),_0=Xa(Ya("calcite-tab-nav",{onCalciteTabChange:"calciteTabChange"})),T0=Xa(Ya("calcite-tab-title",{onCalciteTabsActivate:"calciteTabsActivate",onCalciteTabsClose:"calciteTabsClose"})),E0=Xa(Ya("calcite-tabs",{}));function w0({open:u,onCancel:i,onContinue:s}){const[l,o]=he.useState(""),[d,f]=he.useState(""),[p,g]=he.useState(!1),y=he.useRef(null);he.useEffect(()=>{u&&setTimeout(()=>{g(!1),y.current?.focus()},0)},[u]);const m=S=>{if(!S)return!1;try{const w=new URL(S);return!!w.protocol&&!!w.host}catch{return!1}},b=()=>{const S=m(l);g(!S),S&&s(l.trim(),d.trim()||void 0)};return j.jsxs(b0,{open:u,heading:"Sign in with ArcGIS Enterprise",label:"Enterprise sign-in dialog",onCalciteDialogClose:i,children:[j.jsxs("div",{children:[j.jsxs(Sm,{children:["URL",j.jsx(vm,{ref:y,required:!0,id:"enterprise_portal_url",name:"enterprise_portal_url",placeholder:"e.g. https://myportal.mydomain.com/portal",type:"text",value:l,onCalciteInputChange:S=>{const w=S.target;o(w.value)}}),j.jsx(bm,{status:"invalid",active:p,children:"Enter a valid organization url"})]}),j.jsxs(E0,{layout:"inline",position:"above",children:[j.jsx(_0,{slot:"tab-nav",children:j.jsx(T0,{active:!0,children:"OAuth Login"})}),j.jsx(S0,{active:!0,style:{width:"100%",marginTop:"1rem"},children:j.jsxs(Sm,{children:["App ID",j.jsx(vm,{id:"enterprise_client_id",name:"app_client_id",placeholder:"e.g. aBcDeFgHi1j2K3L4",type:"text",value:d,onCalciteInputChange:S=>{const w=S.target;f(w.value)}}),j.jsx(bm,{status:"invalid",active:!1,children:"Enter a valid registered App ID"})]})})]}),j.jsxs("details",{className:"enterprise-details",children:[j.jsx("summary",{children:"More Details"}),j.jsxs("p",{className:"enterprise-details-text",children:["In order to log in to a Portal for ArcGIS instance using a SAML-based Identity Provider, you will need to Register the Classic StoryMap Converter as an application in your Portal, and generate an AppID that can identify this app as an allowed client of the Portal. To do so, follow the instructions "," ",j.jsx("a",{href:"https://enterprise.arcgis.com/en/portal/latest/use/add-app-url.htm#REG_APP",target:"_blank",rel:"noopener",children:"here"}),", using ",j.jsx("strong",{children:"Other Application"})," as the ",j.jsx("em",{children:"Type of App"})," and",j.jsx("code",{className:"enterprise-details-code",children:"https://url-for-this-app.com/"}),"as the Redirect URI."]})]})]}),j.jsxs("div",{slot:"footer",children:[j.jsx(ym,{color:"blue",onClick:b,children:"Continue"}),j.jsx(ym,{appearance:"outline",color:"blue",onClick:i,children:"Cancel"})]})]})}const A0="/assets/storymap-map-tour-CbGOcXZK.png",C0="/assets/storymap-map-journal-B6_zTpqe.png",x0="/assets/storymap-series-tabbed-I93IZkLj.png",O0="/assets/storymap-cascade-Dxb7EL3J.png",M0="/assets/storymap-shortlist-C-e80pOE.png",R0="/assets/storymap-crowdsource-CiU2l24Z.png",D0="/assets/storymap-swipe-DCnpLp2Y.png",N0="/assets/storymap-basic-DyApzf39.png",U0=[{key:"mapTour",title:"Map Tour",description:"Presented a sequential, place-based narrative with geotagged photos linked to an interactive map.",image:A0,status:"disabled",alt:"Map Tour Thumbnail"},{key:"mapJournal",title:"Map Journal",description:"Presented a compelling map-based narrative presented as a set of journal entries.",image:C0,status:"active",alt:"Map Journal Thumbnail"},{key:"mapSeries",title:"Map Series",description:"Presented a series of maps via a set of tabs, bullets or expanding side panel.",image:x0,status:"disabled",alt:"Map Series - Tabbed Thumbnail"},{key:"cascade",title:"Cascade",description:"Combined text with maps, images, and multimedia in an engaging, full-screen scrolling experience.",image:O0,status:"disabled",alt:"Cascade Thumbnail"},{key:"shortlist",title:"Shortlist",description:"Presented a set of places organized into a set of tabs based on themes.",image:M0,status:"disabled",alt:"Shortlist Thumbnail"},{key:"crowdsource",title:"Crowdsource",description:"Displayed crowdsourced photos with captions. The conversion will be view-only.",image:R0,status:"disabled",alt:"Crowdsource Thumbnail"},{key:"swipe",title:"Swipe",description:"Displayed two layers or two maps side by side for comparison.",image:D0,status:"active",alt:"Swipe Thumbnail"},{key:"basic",title:"Basic",description:"Presented a map via a minimalist interface. Converted to an ArcGIS Instant App.",image:N0,status:"disabled",alt:"Story Map Basic Thumbnail"}],j0=()=>{const{signIn:u}=Lr(),[i,s]=he.useState(!1);return j.jsxs(j.Fragment,{children:[j.jsxs("div",{id:"splashContainer",className:"splash-container",children:[j.jsxs("div",{className:"jumbotron",children:[j.jsx("h2",{children:"Classic StoryMap Converter"}),j.jsx("p",{className:"lead",children:"Convert Classic Esri Story Maps to ArcGIS StoryMaps"}),j.jsx("div",{className:"loginButtons",children:j.jsxs("p",{children:[j.jsx("button",{type:"button",className:"btn btn-lg btn-block btn-success login-btn",onClick:u,children:"Log in to ArcGIS Online"}),j.jsx("button",{type:"button",className:"btn btn-lg btn-block btn-default",onClick:()=>s(!0),children:"Log in to Portal for ArcGIS"})]})})]}),j.jsx("div",{className:"row marketing marketing-row",children:U0.map(l=>{const o=l.status!=="active";return j.jsxs("div",{className:`marketing-col${o?" disabled":""}`,"data-disabled":o?"true":"false",children:[j.jsx("h4",{children:l.title}),j.jsxs("div",{className:"marketing-img-container",children:[j.jsx("img",{src:l.image,alt:l.alt,className:"marketing-img"}),o&&j.jsx("div",{className:"disabled-overlay",children:"Coming Soon"})]}),j.jsx("p",{children:l.description})]},l.key)})})]}),j.jsx(w0,{open:i,onCancel:()=>s(!1),onContinue:(l,o)=>{s(!1),console.info("[EnterpriseSignInModal] continue",{url:l,appId:o})}})]})};class Iu{classicJson;themeId;progress;storyId;username;token;uploader;inlineUpload;constructor(i){this.classicJson=i.classicJson,this.themeId=i.themeId,this.progress=i.progress,this.storyId=i.storyId,this.username=i.username,this.token=i.token,this.uploader=i.uploader,this.inlineUpload=i.inlineUpload}emit(i){this.progress({stage:"convert",message:i})}convert(){this.emit("Beginning conversion"),this.extractStructure(),this.convertContent(),this.applyTheme();const i=this.collectMedia();return{storymapJson:this.getStoryMapJson(),mediaUrls:i}}}function br(u){return u.trim().length>0}function tg(u){const i=u.values||{};let s=i.template||i.templateName||i.name||"";typeof s!="string"&&(s=String(s));const l=s.toLowerCase();if(l.includes("map tour"))return"maptour";if(l.includes("journal"))return"mapjournal";if(l.includes("series"))return"mapseries";if(l.includes("cascade"))return"cascade";if(l.includes("swipe"))return"swipe";if(l.includes("shortlist"))return"shortlist";if(l.includes("crowdsource"))return"crowdsource";if(l.includes("basic"))return"basic";if(i.story?.sections)return"mapjournal";if(i.story?.entries)return"mapseries";if(i.sections)return"cascade";if(i.webmaps&&Array.isArray(i.webmaps))return"swipe";if(i.tabs&&Array.isArray(i.tabs))return"shortlist";if(i.dataModel==="TWO_LAYERS"||i.layout&&typeof i.layout=="string"&&i.layout.toLowerCase().includes("swipe"))return"swipe";if(i.dataModel==="CROWD")return"crowdsource";if(i.colors&&typeof i.colors=="string"&&i.order)return"maptour";if(i.settings?.theme?.colors&&i.settings?.theme?.colors?.themeMajor){const o=i.settings.theme.colors.themeMajor.toLowerCase();if(o==="dark"||o==="light")return"cascade"}return"unknown"}function ag(u,i){const s=u.values||{};let l={};if(i==="mapjournal"||i==="mapseries"||i==="cascade"){const o=s.settings?.theme?.colors;o&&(l.themeMajor=o.themeMajor,l.headerColor=o.header,l.backgroundColor=o.panel||o.bgMain,l.textColor=o.text,l.linkColor=o.textLink)}else if(i==="maptour"){const d=(s.colors||"").split(";");l.headerColor=d[0]||void 0,l.backgroundColor=d[1]||void 0,l.carouselColor=d[2]||void 0}else if(i==="swipe"){const d=(s.colors||"").split(";");l.headerColor=d[0]||void 0,l.backgroundColor=d[1]||void 0}else if(i==="crowdsource")l=s.settings.layout.theme||void 0;else if(i==="shortlist"){const o=s.settings?.themeOptions?.headerColor;o&&(l.headerColor=o);const d=s.tabs||{};l.tabColors=[];for(const f of Object.keys(d)){const p=d[f];p&&p.color&&l.tabColors.push(p.color)}if(!l.headerColor){const f=s.colors||"";if(f){const p=f.split(";");l.headerColor=p[0]||void 0,l.backgroundColor=p[1]||void 0}else{const p=s.settings?.theme?.colors;p&&(l.headerColor=p.header,l.backgroundColor=p.panel||p.bgMain)}}}else i==="basic"&&(l.backgroundColor=s.background||void 0,l.textColor=s.color||void 0);return l}async function L0(u){let i=u;u.startsWith("//")?i="https:"+u:u.startsWith("http")||(i="https://"+u);const l=await fetch(`/.netlify/functions/image-dimensions?url=${encodeURIComponent(i)}`);if(!l.ok)throw new Error("Failed to get image dimensions");return await l.json()}function Or(u){const i=["strong","em","ol","li","ul","a","img"];if(typeof u=="string"){const s=`<div>${u}</div>`,d=new DOMParser().parseFromString(s,"text/html").body.firstElementChild;if(!d)return u;const f=Array.from(d.querySelectorAll("*"));for(let p=f.length-1;p>=0;p--){const g=f[p];if(!i.includes(g.tagName.toLowerCase())){const y=g.parentNode;if(y){for(;g.firstChild;)y.insertBefore(g.firstChild,g);y.removeChild(g)}}}return d.innerHTML.replace(/\n/g,"")}else if(typeof u=="object"&&u!==null){if(Array.isArray(u))return u.map(s=>Or(s));{const s={};for(const[l,o]of Object.entries(u))s[l]=Or(o);return s}}return u}const cu=[{scale:591657527,zoom:0},{scale:295828763,zoom:1},{scale:147914381,zoom:2},{scale:73957190,zoom:3},{scale:36978595,zoom:4},{scale:18489297,zoom:5},{scale:9244648,zoom:6},{scale:4622324,zoom:7},{scale:2311162,zoom:8},{scale:1155581,zoom:9},{scale:577790,zoom:10},{scale:288895,zoom:11},{scale:144447,zoom:12},{scale:72223,zoom:13},{scale:36111,zoom:14},{scale:18055,zoom:15},{scale:9027,zoom:16},{scale:4513,zoom:17},{scale:2256,zoom:18},{scale:1128,zoom:19},{scale:564,zoom:20},{scale:282,zoom:21},{scale:141,zoom:22},{scale:70,zoom:23}];function ta(u,i=4.4){if(!u||!u.ymax||!u.ymin)return null;const s=u.ymax,l=u.ymin,o=(s-l)*i;let d=cu[0].scale,f=cu[0].zoom;for(const p of cu)if(o<p.scale)d=p.scale,f=p.zoom;else return{scale:d,zoom:f};return{scale:d,zoom:f}}function wa(u){return u.startsWith("https://")?u:u.startsWith("//")?"https:"+u:u.startsWith("/")?"https://www.example.com/":u.startsWith("http")?u:"https://"+u}function Lt(){return"n-"+Math.random().toString(36).substring(2,8)}function ng(){return"r-"+Math.random().toString(36).substring(2,8)}function z0(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,u=>{const i=Math.random()*16|0;return(u==="x"?i:i&3|8).toString(16)})}function ki(u,i,s=""){for(const l of i)if(u[l]!==void 0&&u[l]!==null&&String(u[l]).trim()!=="")return String(u[l]).trim();return s}function I0(u){return new DOMParser().parseFromString(u,"text/html").body.textContent||""}function Ys(u){try{const i=new URL(u);return`${i.protocol}//${i.hostname}`}catch{return""}}const _m={variables:{headerFooterBackgroundColor:"#ffffff",backgroundColor:"#ffffff",titleFontId:"avenirNext",titleColor:"#002625",titleColorDark:"#002625",titleColorLight:"#ffffff",bodyFontId:"notoSerif",bodyColor:"#304e4e",bodyColorDark:"#002625",bodyColorLight:"#ffffff",bodyMutedColor:"#3d6665",themeColor1:"#087f9b",themeColor2:"#fc3b36",themeColor3:"#126057",borderRadius:0,shape:"hexagon",colorRamps:["seq-single-blues","seq-multi-ylgn","seq-orange-red-light","seq-yellow-darkblue-bright-reversed"],basemapPrimary:"humanGeographyLight",basemapAlt:"lightGrayCanvas",basemapImagery:"worldImagery"}},Tm={variables:{headerFooterBackgroundColor:"#000000",backgroundColor:"#0e1116",titleFontId:"charterBT",titleColor:"#f3f3f3",titleColorDark:"#0E1116",titleColorLight:"#f3f3f3",bodyFontId:"arial",bodyColor:"#e6f2f2",bodyColorDark:"#0E1116",bodyColorLight:"#E6F2F2",bodyMutedColor:"#809e9d",themeColor1:"#ea5b41",themeColor2:"#4d6aff",themeColor3:"#0ec2db",borderRadius:9999,colorRamps:["seq-blue-bright-5","seq-yellow-bright-3","seq-green-bright-3","seq-red-bright-4"],basemapPrimary:"darkGrayCanvas",basemapAlt:"humanGeographyDark",basemapImagery:"worldImagery"}};function Em(u,i){if(!u||!u.includes("font-family"))return i;let s=u;const l=/font-family:\s*'([^']+)'/.exec(u)||/font-family:\s*"([^"]+)"/.exec(u);if(l)s=l[1];else{const f=/font-family:\s*([^;]+);?/.exec(u);f&&(s=f[1].split(",")[0].trim().replace(/["']/g,""))}const o=s.toLowerCase().replace(/\s+/g,"");return{open_sansregular:"openSans",opensans:"openSans",roboto:"roboto",noto:"notoSerif",notoserif:"notoSerif",lato:"lato",sourcesanspro:"sourceSansPro",avenirnext:"avenirNext",charterbt:"charterBT",arial:"arial"}[o]||i}function k0(u){const i=u.values||{},l=(i.settings||{}).theme||{},o=l.colors||{},d=l.fonts||{},f=(i.title||"").trim()+" (Theme)",g=(o.themeMajor||"").toLowerCase()==="black"?"obsidian":"summit",m={...(g==="obsidian"?Tm:_m).variables},b=g==="obsidian"?Tm.variables:_m.variables;for(const[Y,K]of Object.entries(b))Y in m||(m[Y]=K);const S=[];let w;o.panel&&(m.backgroundColor=o.panel,S.push("backgroundColor")),o.dotNav&&(m.headerFooterBackgroundColor=o.dotNav,S.push("headerFooterBackgroundColor")),o.text&&(m.bodyColor=o.text,S.push("bodyColor"),w="text"),!m.bodyColorDark&&b.bodyColorDark&&(m.bodyColorDark=b.bodyColorDark),!m.bodyColorLight&&b.bodyColorLight&&(m.bodyColorLight=b.bodyColorLight),!m.titleColorDark&&b.titleColorDark&&(m.titleColorDark=b.titleColorDark),!m.titleColorLight&&b.titleColorLight&&(m.titleColorLight=b.titleColorLight),o.textLink&&(m.themeColor1=o.textLink,S.push("themeColor1")),!o.text&&o.textLink&&(m.bodyColor=o.textLink,S.push("bodyColor"),w="textLink"),o.softText&&(m.bodyMutedColor=o.softText,S.push("bodyMutedColor")),!m.colorRamps&&b.colorRamps&&(m.colorRamps=b.colorRamps),!m.basemapPrimary&&b.basemapPrimary&&(m.basemapPrimary=b.basemapPrimary),!m.basemapAlt&&b.basemapAlt&&(m.basemapAlt=b.basemapAlt),!m.basemapImagery&&b.basemapImagery&&(m.basemapImagery=b.basemapImagery),g==="summit"&&!m.shape&&b.shape&&(m.shape=b.shape);const T=d.sectionTitle?.value,z=d.sectionContent?.value,k=Em(T,m.titleFontId),C=Em(z,m.bodyFontId);k&&k!==m.titleFontId&&(m.titleFontId=k,S.push("titleFontId")),C&&C!==m.bodyFontId&&(m.bodyFontId=C,S.push("bodyFontId"));const L={title:f,baseThemeId:g,isFromOrgTheme:!1,variables:m,resources:{}},M={baseThemeId:g,colorMappings:{panelToBackgroundColor:o.panel,dotNavToHeaderFooterBackgroundColor:o.dotNav,textToBodyColor:o.text,textLinkToBodyColor:o.text?void 0:o.textLink,textLinkToThemeColor1:o.textLink,softTextToBodyMutedColor:o.softText,chosenBodyColorSource:w},fontMappings:{classicTitleFontValue:T,mappedTitleFontId:k,classicBodyFontValue:z,mappedBodyFontId:C},variableOverridesApplied:S};return{theme:L,decisions:M}}let ku=class{json;themeResourceId;constructor(i){this.themeResourceId=this.generateResourceId(),this.json={root:"",nodes:{},resources:{[this.themeResourceId]:{type:"story-theme",data:{themeId:i,themeBaseVariableOverrides:{}}}},actions:[]}}createStoryRoot(){const i=this.generateNodeId();return this.json.root=i,this.json.nodes[i]={type:"story",data:{storyTheme:this.themeResourceId},config:{coverDate:""},children:[]},i}addNode(i,s,l,o){const d=this.generateNodeId(),f={type:i};return s&&(f.data=s),l&&(f.config=l),o&&(f.children=o),this.json.nodes[d]=f,d}applyTheme(i){const s=this.json.resources[this.themeResourceId];s&&s.type==="story-theme"&&(s.data.themeId=i.themeId,i.variableOverrides&&Object.keys(i.variableOverrides).length&&(s.data.themeBaseVariableOverrides=i.variableOverrides))}addImageResource(i,s,l){const o=this.generateResourceId();return this.json.resources[o]={type:"image",data:{src:i,provider:"uri",width:s,height:l}},o}finalizeImageResourceAsItem(i,s,l,o){const d=this.json.resources[i];!d||d.type!=="image"||(delete d.data.src,d.data.resourceId=s,d.data.provider="item-resource",l&&(d.data.width=l),o&&(d.data.height=o))}addVideoResource(i,s="uri",l){const o=l??this.generateResourceId();return this.json.resources[o]={type:"video",data:{src:i,provider:s}},o}addTextBlock(i,s,l){const o=this.generateNodeId(),d={type:"text",data:{text:s,type:l}};return this.json.nodes[o]=d,this.appendChild(i,o),o}addImageNode(i,s,l,o,d="standard"){const f=this.generateNodeId(),p={type:"image",data:{image:s,caption:l,alt:o},config:{size:d}};return this.json.nodes[f]=p,this.appendChild(i,f),f}addVideoNode(i,s){const l=this.generateNodeId(),o={type:"video",data:{src:s.src,resourceId:s.resourceId,provider:s.provider,caption:s.caption,alt:s.alt}};return this.json.nodes[l]=o,this.appendChild(i,l),l}addWebMapResource(i,s="Web Map",l,o="minimal"){const d=this.generateResourceId(),f={type:o,itemId:i,itemType:s};return l&&(l.extent||l.mapLayers||l.overview||l.legend||l.geocoder||l.popup)&&(f.initialState={...l}),this.json.resources[d]={type:"webmap",data:f},d}addWebMapNode(i,s,l){const o=this.generateNodeId(),d={type:"webmap",data:{map:s,caption:l}};return this.json.nodes[o]=d,this.appendChild(i,o),o}addCoverNode(i,s,l){const o=this.generateNodeId();return this.json.nodes[o]={type:"storycover",data:{type:"minimal",title:i,summary:s||"",byline:l||"",titlePanelVerticalPosition:"top",titlePanelHorizontalPosition:"start",titlePanelStyle:"gradient"}},this.json.root&&this.json.nodes[this.json.root]&&this.appendChild(this.json.root,o),o}addNavigationHidden(){const i=this.generateNodeId();return this.json.nodes[i]={type:"navigation",data:{links:[]},config:{isHidden:!0}},this.json.root&&this.appendChild(this.json.root,i),i}addCreditsNode(){const i=this.generateNodeId(),s=this.generateNodeId();this.json.nodes[s]={type:"attribution",data:{content:"",attribution:""}};const l=this.generateNodeId();this.json.nodes[l]={type:"text",data:{text:"",type:"paragraph",textAlignment:"start"},config:{size:"wide"}};const o=this.generateNodeId();return this.json.nodes[o]={type:"text",data:{text:"",type:"paragraph",textAlignment:"start"},config:{size:"wide"}},this.json.nodes[i]={type:"credits",children:[l,o,s]},this.json.root&&this.appendChild(this.json.root,i),i}addSidecar(i="docked-panel",s="end",l="medium"){const o=this.generateNodeId(),d=this.generateNodeId(),f=this.generateNodeId();this.json.nodes[o]={type:"immersive",data:{type:"sidecar",subtype:i,narrativePanelPosition:s,narrativePanelSize:l},children:[d]},this.json.nodes[d]={type:"immersive-slide",data:{transition:"fade"},children:[f]},this.json.nodes[f]={type:"immersive-narrative-panel",data:{panelStyle:"themed"},children:[]};const p=this.json.nodes[this.json.root];if(p?.children){const g=p.children.findIndex(y=>this.json.nodes[y]?.type==="credits");g>-1?p.children.splice(g,0,o):p.children.push(o)}return{immersiveId:o,slideId:d,narrativeId:f}}addSection(i,s,l){const o=this.generateNodeId();if(this.json.nodes[o]={type:"slide",children:[]},this.appendChild(i,o),s&&this.addTextBlock(o,s,"h2"),l){const d=l.replace(/<[^>]+>/g,"").trim();d&&this.addTextBlock(o,d,"paragraph")}return o}appendChild(i,s){const l=this.json.nodes[i];l&&(l.children||(l.children=[]),l.children.push(s))}getJson(){for(const d of Object.values(this.json.nodes))d&&(d.type==="webmap"?(d.config?"size"in d.config||(d.config.size="standard"):d.config={size:"standard"},d.data&&"scale"in d.data&&delete d.data.scale):d.type==="text"&&d.data&&!("textAlignment"in d.data)&&(d.data.textAlignment="start"));if(this.json.root){const d=this.json.nodes[this.json.root];d?.type==="story"&&d.data&&"metaSettings"in d.data&&delete d.data.metaSettings}const i={};for(const[d,f]of Object.entries(this.json.nodes))d!==this.json.root&&(i[d]=f);this.json.root&&(i[this.json.root]=this.json.nodes[this.json.root]);const{root:s,resources:l,actions:o}=this.json;return{root:s,nodes:i,resources:l,actions:o}}updateNodeData(i,s){const l=this.json.nodes[i];l&&(l.data||(l.data={}),s(l.data,l))}updateNode(i,s){const l=this.json.nodes[i];l&&s(l)}removeNode(i){const s=this.json.nodes;if(!(!s||!s[i])){for(const l of Object.values(s))if(l?.children&&Array.isArray(l.children)){const o=l.children.indexOf(i);o>-1&&l.children.splice(o,1)}delete s[i]}}setStoryMeta(i,s,l){if(!this.json.root)return;const o=this.json.nodes[this.json.root];!o||o.type!=="story"||(o.data||(o.data={}),o.data.metaSettings={title:i,description:s||"",imageResourceId:l})}addConverterMetadata(i,s){const l=this.generateResourceId(),o={type:"converter-metadata",data:{type:"storymap",version:"1.0.0",classicType:i,...s}};this.json.resources[l]=o}generateNodeId(){return`n-${Math.random().toString(36).slice(2,8)}`}generateResourceId(){return`r-${Math.random().toString(36).slice(2,8)}`}createTextNode(i,s,l="wide"){const o=this.generateNodeId();return this.json.nodes[o]={type:"text",data:{text:i,type:s,textAlignment:"start"},config:{size:l}},o}createRichTextNode(i,s,l="wide"){const o=this.generateNodeId();return this.json.nodes[o]={type:"text",data:{text:i,type:s,preserveHtml:!0,textAlignment:"start"},config:{size:l}},o}createImageNode(i,s,l,o="wide"){const d=this.generateNodeId();return this.json.nodes[d]={type:"image",data:{image:i,caption:s,alt:l},config:{size:o}},d}createWebMapNode(i,s){const l=this.generateNodeId();return this.json.nodes[l]={type:"webmap",data:{map:i,caption:s},config:{size:"standard"}},l}createVideoNode(i,s,l){const o=this.generateNodeId();return this.json.nodes[o]={type:"video",data:{video:i,caption:s,alt:l}},o}createVideoEmbedNode(i,s,l,o,d,f,p,g="16:9"){const y=this.generateNodeId();let m=i;return s==="youtube"&&l?m=`https://www.youtube.com/embed/${l}`:s==="vimeo"&&l&&(m=`https://player.vimeo.com/video/${l}`),this.json.nodes[y]={type:"embed",data:{url:i,embedSrc:m,embedType:"video",provider:s,videoId:l,title:d||void 0,description:f||void 0,caption:o||void 0,alt:p||"",isEmbedSupported:!0,display:"inline",aspectRatio:g}},y}createEmbedNode(i,s,l,o,d){const f=this.generateNodeId();return this.json.nodes[f]={type:"embed",data:{url:i,embedType:"link",title:l,description:o,caption:s,alt:d||"",isEmbedSupported:!0,display:"inline",embedSrc:i}},f}createSwipeNode(i,s,l="extent",o){const d=this.generateNodeId();return this.json.nodes[d]={type:"swipe",data:{contents:{0:i,1:s},viewPlacement:l,caption:o},config:{size:"full"}},d}addSlideToSidecar(i,s,l){const o=this.json.nodes[i];if(!o||o.type!=="immersive")throw new Error("addSlideToSidecar: invalid sidecarId");const d=this.generateNodeId();this.json.nodes[d]={type:"immersive-narrative-panel",data:{panelStyle:"themed"},children:[...s]};const f=this.generateNodeId(),p=l?[d,l]:[d];return this.json.nodes[f]={type:"immersive-slide",data:{transition:"fade"},children:p},o.children||(o.children=[]),o.children.push(f),{slideId:f,narrativeId:d}}createActionButtonNode(i,s="wide"){const l=this.generateNodeId();return this.json.nodes[l]={type:"action-button",data:{text:i},config:{size:s}},l}addActionButton(i,s,l="wide"){const o=this.generateNodeId();return this.json.nodes[o]={type:"action-button",data:{text:s},config:{size:l}},this.appendChild(i,o),o}createButtonNode(i,s="wide",l){const o=this.generateNodeId();return this.json.nodes[o]={type:"button",data:{text:i,link:l},config:{size:s}},o}setButtonLink(i,s){const l=this.json.nodes[i];l&&l.type==="button"&&(l.data||(l.data={}),l.data.link=s)}addChild(i,s){this.appendChild(i,s)}getStoryRootId(){return this.json.root}newNodeId(){return this.generateNodeId()}createTourMapNode(i,s,l="2d"){const o=this.generateNodeId(),d={type:"name",value:"worldImagery"};if(s){const f=this.addWebMapResource(s,"Web Map",{},"minimal");d.type="resource",d.value=f}return this.json.nodes[o]={type:"tour-map",data:{geometries:i,mode:l,basemap:d}},o}createCarouselNode(i){const s=this.generateNodeId();return this.json.nodes[s]={type:"carousel",children:i.slice(0,5)},s}createTourNode(i,s,l,o="start",d="large",f="guided-tour",p="map-focused"){const g=this.generateNodeId();return this.json.nodes[g]={type:"tour",data:{type:f,subtype:p,narrativePanelPosition:o,map:s,places:i,narrativePanelSize:d,accentColor:l}},g}registerReplaceMediaAction(i,s,l){this.json.actions||(this.json.actions=[]),this.json.actions.push({origin:i,trigger:"ActionButton_Apply",target:s,event:"ImmersiveSlide_ReplaceMedia",data:{media:l}})}};function Sr(){throw new Error("execSync is not available in the browser environment")}let Gs=class En extends Iu{builder;model="TWO_WEBMAPS";layout="swipe";constructor(i){super(i),this.builder=new ku(i.themeId)}extractStructure(){const i=this.classicJson.values;(i.dataModel||"").toUpperCase()==="TWO_LAYERS"?this.model="TWO_LAYERS":this.model="TWO_WEBMAPS",(i.layout||"").toLowerCase().includes("spyglass")?this.layout="spyglass":this.layout="swipe",this.emit(`Swipe model=${this.model} layout=${this.layout}`)}convertContent(){const i=this.classicJson.values;this.builder.createStoryRoot();const s=i.title||i.name||this.fetchItemTitleFallback()||"Swipe";this.builder.addCoverNode(s,i.subtitle),this.builder.addNavigationHidden(),this.builder.addCreditsNode();let l,o;if(this.model==="TWO_WEBMAPS"){const m=[];if(Array.isArray(i.webmaps))for(const M of i.webmaps)typeof M=="string"?m.push(M):M&&typeof M=="object"&&"id"in M&&m.push(String(M.id));else i.webmap&&m.push(String(i.webmap));const[b,S]=m,w=b?En.fetchWebMapInfoSync(b,this.token):void 0,T=S?En.fetchWebMapInfoSync(S,this.token):void 0,z={},k={};if(w?.extent){z.extent=w.extent;const M=ta(w.extent);M&&(z.viewpoint={targetGeometry:w.center??w.extent,scale:M.scale},z.zoom=M.zoom)}if(T?.extent){k.extent=T.extent;const M=ta(T.extent);M&&(k.viewpoint={targetGeometry:T.center??T.extent,scale:M.scale},k.zoom=M.zoom)}const C=b?this.builder.addWebMapResource(b,"Web Map",z,"default"):void 0,L=S?this.builder.addWebMapResource(S,"Web Map",k,"default"):void 0;C&&(l=this.builder.createWebMapNode(C,void 0)),L&&(o=this.builder.createWebMapNode(L,void 0)),l&&w?.extent&&this.builder.updateNodeData(l,M=>{M.extent=w.extent;const Y=ta(w.extent);Y&&(M.viewpoint={targetGeometry:w.center??w.extent,scale:Y.scale})}),o&&T?.extent&&this.builder.updateNodeData(o,M=>{M.extent=T.extent;const Y=ta(T.extent);Y&&(M.viewpoint={targetGeometry:T.center??T.extent,scale:Y.scale})})}else{const m=String(i.webmap||"");if(m){const b=En.fetchWebMapInfoSync(m,this.token),S={};if(b?.extent){S.extent=b.extent;const L=ta(b.extent);L&&(S.viewpoint={targetGeometry:b.center??b.extent,scale:L.scale},S.zoom=L.zoom)}const w=this.builder.addWebMapResource(m,"Web Map",S,"default"),T=this.builder.addWebMapResource(m,"Web Map",S,"default");l=this.builder.createWebMapNode(w,void 0),o=this.builder.createWebMapNode(T,void 0);const k=(Array.isArray(i.layers)?i.layers:[]).map(L=>{if(L&&typeof L=="object"&&"id"in L){const M=L;return{id:M.id,title:M.title||M.id}}return{id:String(L),title:String(L)}}).filter(L=>L.id),C=(b?.operationalLayers||[]).map(L=>({id:L.id,title:L.title||L.id,visible:!!L.visibility}));if(l&&o){const L=[...C],M=[...C];k.map(Y=>Y.id);for(const Y of k){for(const K of[L,M]){const H=K.findIndex(V=>V.id===Y.id);H>-1&&K.splice(H,1)}L.unshift({id:Y.id,title:Y.title||Y.id,visible:!0}),M.unshift({id:Y.id,title:Y.title||Y.id,visible:!1})}this.builder.updateNodeData(l,Y=>{Y.mapLayers=L}),this.builder.updateNodeData(o,Y=>{Y.mapLayers=M})}}}const d=this.layout==="spyglass"?"center":"extent";let f,p;const g=Array.isArray(i.popupTitles)?i.popupTitles:[];if(g.length>=2)[p,f]=g;else{const m=Array.isArray(i.layers)?i.layers:[];m.length>=2&&(f=m[0]?.title||m[0]?.id,p=m[1]?.title||m[1]?.id)}const y=f&&p?`Left side${f}, Right side${p}`:void 0;if(l&&o){const m=this.builder.createSwipeNode(l,o,d,y);i.legend&&this.builder.updateNodeData(m,S=>{S.legendPinned=!0,S.legend=[l]});const b=this.builder.getStoryRootId();b&&this.builder.addChild(b,m)}this.builder.addConverterMetadata("Swipe",{classicMetadata:{layout:this.layout,model:this.model}}),this.emit("Built swipe block")}applyTheme(){}collectMedia(){return[]}getStoryMapJson(){return this.builder.getJson()}static convert(i){return new En(i).convert()}static buildInlineSwipeBlock(i,s,l="swipe",o){const d=String(s.dataModel||"").toUpperCase();let f,p;if(d==="TWO_WEBMAPS"){const y=[];if(Array.isArray(s.webmaps))for(const L of s.webmaps)typeof L=="string"?y.push(L):L&&typeof L=="object"&&"id"in L&&y.push(String(L.id));else s.webmap&&y.push(String(s.webmap));const[m,b]=y,S={},w={},T=m?En.fetchWebMapInfoSync(m,o):void 0,z=b?En.fetchWebMapInfoSync(b,o):void 0;if(T?.extent){S.extent=T.extent;const L=ta(T.extent);L&&(S.viewpoint={targetGeometry:T.center??T.extent,scale:L.scale},S.zoom=L.zoom)}if(z?.extent){w.extent=z.extent;const L=ta(z.extent);L&&(w.viewpoint={targetGeometry:z.center??z.extent,scale:L.scale},w.zoom=L.zoom)}const k=m?i.addWebMapResource(m,"Web Map",S,"default"):void 0,C=b?i.addWebMapResource(b,"Web Map",w,"default"):void 0;k&&(f=i.createWebMapNode(k,void 0)),C&&(p=i.createWebMapNode(C,void 0))}else{const y=String(s.webmap||""),m=y?En.fetchWebMapInfoSync(y,o):void 0,b={};if(m?.extent){b.extent=m.extent;const T=ta(m.extent);T&&(b.viewpoint={targetGeometry:m.center??m.extent,scale:T.scale},b.zoom=T.zoom)}const S=y?i.addWebMapResource(y,"Web Map",b,"default"):void 0,w=y?i.addWebMapResource(y,"Web Map",b,"default"):void 0;if(S&&w){f=i.createWebMapNode(S,void 0),p=i.createWebMapNode(w,void 0);const z=(Array.isArray(s.layers)?s.layers:[]).map(M=>{if(M&&typeof M=="object"&&"id"in M){const Y=M;return{id:Y.id,title:Y.title||Y.id}}return{id:String(M),title:String(M)}}).filter(M=>M.id),k=(m?.operationalLayers||[]).map(M=>({id:M.id,title:M.title||M.id,visible:!!M.visibility})),C=[...k],L=[...k];for(const M of z){for(const Y of[C,L]){const K=Y.findIndex(H=>H.id===M.id);K>-1&&Y.splice(K,1)}C.unshift({id:M.id,title:M.title||M.id,visible:!0}),L.unshift({id:M.id,title:M.title||M.id,visible:!1})}i.updateNodeData(f,M=>{M.mapLayers=C}),i.updateNodeData(p,M=>{M.mapLayers=L})}}const g=l==="spyglass"?"center":"extent";if(!f||!p)throw new Error("SwipeConverter.buildInlineSwipeBlock: missing content nodes");return i.createSwipeNode(f,p,g)}static fetchWebMapInfoSync(i,s){try{const l=`https://www.arcgis.com/sharing/rest/content/items/${i}/data?f=json`,o=s?`${l}&token=${encodeURIComponent(s)}`:l,d=Sr(`curl -sL '${o}'`,{encoding:"utf-8"}),f=JSON.parse(d),p=k=>k?.initialState?.view?.extent||k?.mapOptions?.extent||k?.extent||k?.mapOptions?.mapExtent||void 0,g=k=>k?.initialState?.view?.center||k?.mapOptions?.center||k?.center||void 0;let y=p(f),m=g(f);if(!y||typeof y!="object"&&!Array.isArray(y)){const k=`https://www.arcgis.com/sharing/rest/content/items/${i}?f=json`,C=Sr(`curl -sL '${k}'`,{encoding:"utf-8"}),L=JSON.parse(C);if(Array.isArray(L.extent)&&L.extent.length===2&&Array.isArray(L.extent[0])&&Array.isArray(L.extent[1])){const[[M,Y],[K,H]]=L.extent;y={xmin:M,ymin:Y,xmax:K,ymax:H,spatialReference:{wkid:4326}}}if(!m&&Array.isArray(L.center)&&L.center.length>=2){const[M,Y]=L.center;m={x:M,y:Y,spatialReference:{wkid:4326}}}}const b=k=>k*2003750834e-2/180,S=k=>Math.log(Math.tan((90+k)*Math.PI/360))/(Math.PI/180)*2003750834e-2/180;let w;y&&y.spatialReference&&(y.spatialReference.wkid===4326||y.spatialReference.latestWkid===4326)?w={xmin:b(y.xmin),ymin:S(y.ymin),xmax:b(y.xmax),ymax:S(y.ymax),spatialReference:{wkid:102100}}:y&&typeof y=="object"&&"xmin"in y&&(w=y);let T;m&&m.spatialReference&&m.spatialReference.wkid===4326?T={x:b(m.x),y:S(m.y),spatialReference:{wkid:102100}}:m&&m.spatialReference&&(m.spatialReference.wkid===102100||m.spatialReference.latestWkid===3857)&&(T=m);const z=Array.isArray(f.operationalLayers)?f.operationalLayers.filter(k=>k&&k.id).map(k=>({id:k.id,title:k.title,visibility:k.visibility})):[];return{extent:w,center:T,operationalLayers:z}}catch{return}}fetchItemTitleFallback(){try{const i=this.options.classicItemId;if(!i)return;const s=`https://www.arcgis.com/sharing/rest/content/items/${i}?f=json`,l=Sr(`curl -sL '${s}'`,{encoding:"utf-8"}),o=JSON.parse(l);if(o&&typeof o.title=="string"&&o.title.trim().length)return o.title.trim()}catch{}}},B0=class ig extends Iu{builder;sections=[];imageResourceMap=new Map;media=new Set;styleBlocks=[];videoEmbedCount=0;constructor(i){super(i),this.builder=new ku(i.themeId)}extractStructure(){const i=this.classicJson.values,s=i.story&&Array.isArray(i.story.sections)?i.story.sections:[],l=Array.isArray(i.sections)?i.sections:[];this.sections=s.length?s:l,this.emit(`Extracted ${this.sections.length} section(s)`)}convertContent(){this.builder.createStoryRoot();const i=this.classicJson.values;this.emit("Created story root node"),this.builder.addCoverNode(i.title||"Untitled Story",i.subtitle),this.builder.addNavigationHidden(),this.builder.addCreditsNode(),this.emit("Added cover/navigation/credits scaffold");const s=(i.description||i.subtitle||"")+"";this.builder.setStoryMeta(i.title||"Untitled Story",s.trim()||void 0,void 0);const o=i,d=o.settings?.layout?.id||"side",f=o.settings?.layoutOptions?.layoutCfg||{},p=f.size||"medium",g=f.position||"right",y=!!o.settings?.theme&&Object.keys(o.settings.theme||{}).length>0,m=d==="float"?"floating-panel":"docked-panel";let b="medium";(p==="small"||p==="medium"||p==="large")&&(b=p);const S=g==="left"?"start":"end",{immersiveId:w,slideId:T,narrativeId:z}=this.builder.addSidecar(m,S,b);if(this.builder.removeNode(T),this.builder.removeNode(z),this.builder.updateNode(w,le=>{le.children=[]}),i.description){const le=[this.builder.createTextNode(String(i.description),"paragraph")];this.builder.addSlideToSidecar(w,le,void 0)}const k=[],C=[],L=[];for(const le of this.sections){const ne=[],oe=[];let Ue;le.title&&(Ue=this.builder.createTextNode(le.title,"h3"),ne.push(Ue)),k.push(Ue||"");const Ce=(le.content||le.description||"")+"";if(Ce.trim())if(typeof globalThis.DOMParser<"u")try{const ue=new DOMParser().parseFromString(Ce,"text/html");for(const ee of Array.from(ue.body.children))this.handleElementOrdered(ee,ne,oe,C,L)}catch{this.parseOrderedFallback(Ce,ne,oe,C,L)}else this.parseOrderedFallback(Ce,ne,oe,C,L);let O;const I=le.media;if(I?.image?.url){const ue=this.builder.addImageResource(I.image.url);O=this.builder.createImageNode(ue,I.image.caption,I.image.altText,"wide"),this.media.add(I.image.url)}else if(I?.webmap?.id){const ue=I.webmap.itemType==="Web Scene"?"Web Scene":"Web Map",ee=I.webmap,E=I.webmap.extent?this.normalizeExtent(I.webmap.extent):void 0;let N,$;if(E){const te=ta(E);te&&(N={targetGeometry:E,scale:te.scale},$=te.zoom)}const Q={extent:E,mapLayers:Array.isArray(I.webmap.layers)?I.webmap.layers.map(te=>({id:te.id,title:te.title||te.id,visible:te.visibility})):void 0,overview:ee.overview?{enable:!!ee.overview.enable,openByDefault:!!ee.overview.openByDefault}:void 0,legend:ee.legend?{enable:!!ee.legend.enable,openByDefault:!!ee.legend.openByDefault}:void 0,geocoder:ee.geocoder?{enable:!!ee.geocoder.enable}:void 0,popup:ee.popup||void 0,viewpoint:N,zoom:$},ie=this.builder.addWebMapResource(I.webmap.id,ue,Q,"default");O=this.builder.createWebMapNode(ie,le.title?`${ue==="Web Scene"?"Scene":"Map"}: ${le.title}`:void 0),this.media.add(I.webmap.id),O&&this.builder.updateNodeData(O,te=>{E&&(te.extent=E),Array.isArray(I.webmap.layers)&&(te.mapLayers=I.webmap.layers.map(de=>({id:de.id,title:de.title||de.id,visible:de.visibility}))),N&&(te.viewpoint=N),typeof $=="number"&&(te.zoom=$),ee.overview&&ee.overview.enable&&(te.overview={openByDefault:!!ee.overview.openByDefault}),ee.legend&&ee.legend.enable&&(te.legend={openByDefault:!!ee.legend.openByDefault})})}else if(I?.video?.url){const ue=this.detectVideoProvider(I.video.url);if(ue.provider!=="unknown")O=this.builder.createVideoEmbedNode(I.video.url,ue.provider,ue.id,I.video.caption,I.video.caption,void 0,I.video.altText),this.videoEmbedCount++;else{const ee=this.builder.addVideoResource(I.video.url,"uri");O=this.builder.createVideoNode(ee,I.video.caption,I.video.altText),this.media.add(I.video.url)}}else if(I?.webpage?.url){const ue=this.tryBuildSwipeNodeFromUrl(I.webpage.url);ue?O=ue:O=this.builder.createEmbedNode(I.webpage.url,I.webpage.caption,I.webpage.title,I.webpage.description,I.webpage.altText)}const{slideId:W}=this.builder.addSlideToSidecar(w,ne,O);if(Array.isArray(le.contentActions)&&le.contentActions.length){const ue=new Map(le.contentActions.map(ee=>[ee.id,ee]));for(const ee of oe){const E=ue.get(ee.actionId);if(!E||E.type!=="media"||!E.media)continue;let N;const $=E.media;if($.webmap?.id){const Q=$.webmap.itemType==="Web Scene"?"Web Scene":"Web Map";let ie,te;const de=$.webmap.extent?this.normalizeExtent($.webmap.extent):void 0,Z=$.webmap;if(de){const xe=ta(de);xe&&(ie={targetGeometry:de,scale:xe.scale},te=xe.zoom)}const Se={extent:de,mapLayers:Array.isArray($.webmap.layers)?$.webmap.layers.map(xe=>({id:xe.id,title:xe.title||xe.id,visible:xe.visibility})):void 0,overview:Z.overview?{enable:!!Z.overview.enable,openByDefault:!!Z.overview.openByDefault}:void 0,legend:Z.legend?{enable:!!Z.legend.enable,openByDefault:!!Z.legend.openByDefault}:void 0,viewpoint:ie,zoom:te},He=this.builder.addWebMapResource($.webmap.id,Q,Se,"default");N=this.builder.createWebMapNode(He,ee.text.includes("Map")||ee.text.includes("Scene")?ee.text:void 0);const Tt=this.builder.getJson();if(N){const xe=Tt.nodes[N];xe&&xe.data&&(Array.isArray($.webmap.layers)&&(xe.data.mapLayers=$.webmap.layers.map(Rt=>({id:Rt.id,title:Rt.title||Rt.id,visible:Rt.visibility}))),de&&(xe.data.extent=de),ie&&(xe.data.viewpoint=ie),typeof te=="number"&&(xe.data.zoom=te),Z.overview&&Z.overview.enable&&(xe.data.overview={openByDefault:!!Z.overview.openByDefault}),Z.legend&&Z.legend.enable&&(xe.data.legend={openByDefault:!!Z.legend.openByDefault}))}this.media.add($.webmap.id)}else if($.image?.url){const Q=this.builder.addImageResource($.image.url);N=this.builder.createImageNode(Q,$.image.caption,$.image.altText,"standard"),this.media.add($.image.url)}else if($.video?.url){const Q=this.detectVideoProvider($.video.url);if(Q.provider!=="unknown")N=this.builder.createVideoEmbedNode($.video.url,Q.provider,Q.id,$.video.caption,$.video.caption,void 0,$.video.altText),this.videoEmbedCount++;else{const ie=this.builder.addVideoResource($.video.url,"uri");N=this.builder.createVideoNode(ie,$.video.caption,$.video.altText),this.media.add($.video.url)}}else if($.webpage?.url){const Q=this.tryBuildSwipeNodeFromUrl($.webpage.url);Q?N=Q:N=this.builder.createEmbedNode($.webpage.url,$.webpage.caption,$.webpage.title,$.webpage.description,$.webpage.altText)}if(N){this.builder.updateNode(ee.buttonNodeId,te=>{const de=te;de.dependents||(de.dependents={}),de.dependents.actionMedia=N;const Se=this.builder.getJson().nodes[N];if(Se?.type==="swipe"&&Se.data&&Se.data.contents){const He=Se.data.contents,Tt=He[0],xe=He[1];Tt&&(de.dependents.actionMedia_content_0=Tt),xe&&(de.dependents.actionMedia_content_1=xe)}});const ie=this.builder.getJson().nodes[W];ie&&Array.isArray(ie.children)&&(ie.children.includes(N)||this.builder.addChild(W,N)),this.builder.registerReplaceMediaAction(ee.buttonNodeId,W,N)}}}}const M=new Map;this.sections.forEach(le=>{(le.contentActions||[]).forEach(ne=>{ne.type==="navigate"&&typeof ne.index=="number"&&M.set(ne.id,ne.index)})});for(const le of C){const ne=M.get(le.actionId);if(typeof ne=="number"){const oe=k[ne];oe&&this.builder.setButtonLink(le.buttonNodeId,`#ref-${oe}`)}}const Y=this.builder.getJson();for(const le of L){const ne=M.get(le.actionId);if(typeof ne!="number")continue;const oe=k[ne];if(!oe)continue;const Ue=Y.nodes[le.richNodeId];if(Ue?.type==="text"&&Ue.data){const Ce=Ue.data;if(!Ce.preserveHtml)continue;const O=Ce.text,I=new RegExp(`<a([^>]*data-storymaps=["']${le.actionId}["'][^>]*)>`,"i"),W=O.replace(I,(ue,ee)=>/href=/.test(ee)?ue:`<a${ee} href="#ref-${oe}" target="_self">`);Ce.text=W}}const K=o.settings?.theme||null;if(!y&&d==="float"){const le=this.builder.getJson();for(const oe of Object.values(le.nodes))oe&&oe.type==="immersive-narrative-panel"&&(oe.data||(oe.data={}),oe.data.position="end",oe.data.size="medium");const ne={baseThemeId:"obsidian",forcedByMissingClassicTheme:!0,variableOverridesApplied:[],layoutMapping:{classicLayoutId:d,classicSize:p,classicPosition:g,mappedSubtype:m,mappedNarrativePanelSize:"medium",mappedNarrativePanelPosition:"end"}};this.builder.applyTheme({themeId:"obsidian",variableOverrides:{}}),ne.videoEmbeds=this.videoEmbedCount,this.builder.addConverterMetadata("MapJournal",{classicMetadata:{theme:K,mappingDecisions:ne}}),this.emit("Applied fallback obsidian theme (no classic theme present; float layout)");return}const{theme:H,decisions:V}=k0(this.classicJson);V.layoutMapping={classicLayoutId:d,classicSize:p,classicPosition:g,mappedSubtype:m,mappedNarrativePanelSize:b,mappedNarrativePanelPosition:S};const P={};if(Array.isArray(V.variableOverridesApplied))for(const le of V.variableOverridesApplied)H.variables&&le in H.variables&&(P[le]=String(H.variables[le]));if(this.styleBlocks.length)try{const le=this.styleBlocks.join(`

`);let ne=le.split("").map(Ce=>Ce.charCodeAt(0)<32?" ":Ce).join("");ne=ne.replace(/\r/g,"").replace(/\t/g," "),ne=ne.replace(/\n{3,}/g,`

`);const oe=le.length,Ue=ne.length>6e3?ne.slice(0,6e3)+`
/*__CSS_TRUNCATED__*/`:ne;V.customCss={blockCount:this.styleBlocks.length,approxBytes:oe,combined:Ue}}catch{}this.builder.applyTheme({themeId:V.baseThemeId,variableOverrides:P}),V.videoEmbeds=this.videoEmbedCount,this.builder.addConverterMetadata("MapJournal",{classicMetadata:{theme:K,mappingDecisions:V}});const me=this.builder.getJson().nodes[w]?.children?.length||0;this.emit(`Built single sidecar with ${me} slide(s); theme overrides applied (${Object.keys(P).length})`)}applyTheme(){this.emit("applyTheme skipped (handled in convertContent)")}collectMedia(){return this.emit(`Collected ${this.media.size} media URL(s)`),Array.from(this.media)}getStoryMapJson(){return this.builder.getJson()}static convert(i){return new ig(i).convert()}normalizeExtent(i){if(!i)return i;const s=i.spatialReference?.wkid||i.spatialReference?.latestWkid||i.spatialReference?.wkt;if(!(s===4326||s==="WGS84"||s==="WGS 84")||[i.xmin,i.ymin,i.xmax,i.ymax].some(f=>typeof f!="number"||!isFinite(f)))return i;const o=f=>f*2003750834e-2/180,d=f=>Math.log(Math.tan((90+f)*Math.PI/360))/(Math.PI/180)*2003750834e-2/180;return{xmin:o(i.xmin),ymin:d(i.ymin),xmax:o(i.xmax),ymax:d(i.ymax),spatialReference:{wkid:102100}}}extractImageEntries(i){const s=[],l=/<figure[^>]*>([\s\S]*?)<\/figure>/gi;let o;for(;(o=l.exec(i))!==null;){const p=o[1],g=/<img[^>]*>/i.exec(p)?.[0];if(!g)continue;const y=/src=["']([^"'>]+)["']/i.exec(g);if(!y)continue;const m=/alt=["']([^"'>]*)["']/i.exec(g),b=/<figcaption[^>]*>([\s\S]*?)<\/figcaption>/i.exec(p),S=b?this.stripHtml(b[1]).trim():void 0,w=y[1];s.some(T=>T.src===w)||s.push({src:w,alt:m?m[1]:void 0,caption:S})}const d=/<img[^>]*src=["']([^"'>]+)["'][^>]*>/gi;let f;for(;(f=d.exec(i))!==null;){const p=f[0],g=f[1];if(!s.some(y=>y.src===g)){const y=/alt=["']([^"'>]*)["']/i.exec(p);s.push({src:g,alt:y?y[1]:void 0})}}return s}stripHtml(i){return i.replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim()}extractParagraphBlocks(i){const s=[],l=/<p[^>]*>([\s\S]*?)<\/p>/gi;let o;for(;(o=l.exec(i))!==null;){const d=o[1],f=this.stripHtml(d);f&&s.push(f)}if(!s.length){const d=this.stripHtml(i);d&&s.push(d)}return s}extractActionAnchorLabel(i,s){const o=new RegExp(`<a[^>]*data-storymaps=["']${s}["'][^>]*>([\\s\\S]*?)</a>`,"i").exec(i);if(o)return this.stripHtml(o[1])}BUTTON_CLASS_REGEX=/^btn-(green|orange|purple|yellow|red)$/i;isNonEmptyHtmlSegment(i){if(!i)return!1;const s=/data-storymaps=/i.test(i),l=i.replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<style[\s\S]*?<\/style>/gi,"").replace(/<[^>]+>/g,"").replace(/&nbsp;/gi," ").replace(/\u00A0/g," ").trim();return s||l.length>0}CSS_COLOR_MAP={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};colorToHex(i){if(!i)return;if(i=i.trim(),i=i.replace(/!important$/i,"").trim(),/^#([0-9a-f]{3})$/i.test(i)){const d=i[1],f=i[2],p=i[3];return`#${d}${d}${f}${f}${p}${p}`.toUpperCase()}if(/^#([0-9a-f]{6})$/i.test(i))return i.toUpperCase();const s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i.exec(i);if(s){const[d,f,p]=s.slice(1,4).map(g=>Math.max(0,Math.min(255,parseInt(g,10))));return`#${d.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}${p.toString(16).padStart(2,"0")}`.toUpperCase()}const l=/rgb-?(\d+)-?(\d+)-?(\d+)/i.exec(i);if(l){const[d,f,p]=l.slice(1,4).map(g=>Math.max(0,Math.min(255,parseInt(g,10))));return`#${d.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}${p.toString(16).padStart(2,"0")}`.toUpperCase()}const o=i.toLowerCase();if(this.CSS_COLOR_MAP[o])return this.CSS_COLOR_MAP[o].toUpperCase()}processHtmlColorsPreserveHtml(i){if(!i||!/<[^>]+style=/i.test(i))return i;try{const l=new DOMParser().parseFromString(`<wrapper>${i}</wrapper>`,"text/html").querySelector("wrapper");if(!l)return i;for(const o of Array.from(l.querySelectorAll("[style]"))){const d=o.getAttribute("style")||"",f=/color\s*:\s*([^;]+)(;?)/i.exec(d);if(!f)continue;const p=f[1].trim(),g=this.colorToHex(p);if(!g)continue;const y=`sm-text-color-${g.substring(1)}`;let m=d.replace(f[0],"").trim();m=m.replace(/;;+/g,";"),m=m.replace(/^;|;$/g,"").trim(),m?o.setAttribute("style",m):o.removeAttribute("style");const b=o.getAttribute("class");b?o.setAttribute("class",b+" "+y):o.setAttribute("class",y)}return l.innerHTML}catch{return i.replace(/(<[^>]+style=["'][^"'>]*color\s*:[^"'>]+["'][^>]*>)/gi,s=>{const l=/style=["']([^"'>]+)["']/i.exec(s);if(!l)return s;let o=l[1];const d=/color\s*:\s*([^;]+)(;?)/i.exec(o);if(!d)return s;const f=d[1].trim(),p=this.colorToHex(f);if(!p)return s;const g=`sm-text-color-${p.substring(1)}`;o=o.replace(d[0],"").trim(),o=o.replace(/;;+/g,";").replace(/^;|;$/g,"").trim();let y=s.replace(l[0],o?`style="${o}"`:"");return/class=["']/i.test(y)?y=y.replace(/class=["']([^"'>]+)["']/i,(m,b)=>`class="${b} ${g}"`):y=y.replace(/<([^\s>]+)/,(m,b)=>`<${b} class="${g}"`),y})}}handleElementOrdered(i,s,l,o,d){if(i.tagName==="STYLE"){const p=i.textContent||"";p.trim()&&this.styleBlocks.push(p.trim());return}if(i.tagName==="FIGURE"){const p=i.querySelector("img");if(p?.src){const g=this.builder.addImageResource(p.src);s.push(this.builder.createImageNode(g,i.querySelector("figcaption")?.textContent?.trim()||void 0,p.alt||void 0,"standard")),this.media.add(p.src)}return}if(i.tagName==="IMG"){if(i.getAttribute("src")){const p=i.getAttribute("src"),g=this.builder.addImageResource(p);s.push(this.builder.createImageNode(g,void 0,i.getAttribute("alt")||void 0,"standard")),this.media.add(p)}return}if(i.tagName==="P"||i.tagName==="DIV"){const p=new DOMParser().parseFromString(`<wrapper>${i.innerHTML}</wrapper>`,"text/html"),g=p.querySelector("wrapper");for(const b of Array.from(g.querySelectorAll("img[src]"))){const S=b.getAttribute("src"),w=b.getAttribute("alt")||void 0,T=this.builder.addImageResource(S),z=this.builder.createImageNode(T,void 0,w,"standard");this.media.add(S),b.replaceWith(p.createTextNode(`%%IMG:${z}%%`))}for(const b of Array.from(g.querySelectorAll("a[data-storymaps]"))){const S=b.getAttribute("data-storymaps"),w=b.getAttribute("data-storymaps-type")||"",T=(b.textContent||"View").trim(),C=(b.getAttribute("class")||"").split(/\s+/).filter(Boolean).some(L=>this.BUTTON_CLASS_REGEX.test(L));if(w==="media"){const L=this.builder.createActionButtonNode(T,"wide");l.push({actionId:S,text:T,buttonNodeId:L}),b.replaceWith(p.createTextNode(`%%ACTION_BTN:${L}%%`))}else if(w==="navigate")if(C){const L=this.builder.createButtonNode(T,"wide");o.push({actionId:S,buttonNodeId:L}),b.replaceWith(p.createTextNode(`%%NAV_BTN:${L}%%`))}else d.push({actionId:S,richNodeId:""})}const m=g.innerHTML.split(/(%%IMG:[^%]+%%|%%ACTION_BTN:[^%]+%%|%%NAV_BTN:[^%]+%%)/);for(const b of m)if(b)if(/^%%IMG:/.test(b)){const S=b.replace(/^%%IMG:/,"").replace(/%%$/,"");s.push(S)}else if(/^%%ACTION_BTN:/.test(b)){const S=b.replace(/^%%ACTION_BTN:/,"").replace(/%%$/,"");s.push(S)}else if(/^%%NAV_BTN:/.test(b)){const S=b.replace(/^%%NAV_BTN:/,"").replace(/%%$/,"");s.push(S)}else{if(!this.isNonEmptyHtmlSegment(b))continue;const S=this.processHtmlColorsPreserveHtml(b),w=S.match(/<p[^>]*>[\s\S]*?<\/p>/gi);if(w&&w.length>1)for(const z of w){const k=z.replace(/^<p[^>]*>|<\/p>$/gi,"").trim();if(!k.replace(/&nbsp;|\s+/g,"").trim())continue;const L=this.builder.createRichTextNode(k,"paragraph");if(z.includes("data-storymaps"))for(const M of d)!M.richNodeId&&z.includes(`data-storymaps="${M.actionId}"`)&&(M.richNodeId=L);s.push(L)}else{let z=S;/^<p[^>]*>[\s\S]*?<\/p>$/.exec(S.trim())&&(z=S.trim().replace(/^<p[^>]*>|<\/p>$/gi,"").trim());const C=this.builder.createRichTextNode(z,"paragraph");if(S.includes("data-storymaps"))for(const L of d)!L.richNodeId&&S.includes(`data-storymaps="${L.actionId}"`)&&(L.richNodeId=C);s.push(C)}}return}if(i.tagName==="IFRAME"){const p=i.getAttribute("src");if(p){const g=this.parseSwipeAppId(p);if(g&&typeof window>"u"){const m=this.fetchClassicSwipeDataSync(g);if(m&&m.values){const b=this.parseSwipeLayoutFromUrl(p)||(String(m.values.layout||"").toLowerCase().includes("spyglass")?"spyglass":"swipe");try{const S=Gs.buildInlineSwipeBlock(this.builder,m.values,b,this.token);s.push(S);return}catch{}}}const y=this.detectVideoProvider(p);y.provider!=="unknown"?(s.push(this.builder.createVideoEmbedNode(p,y.provider,y.id)),this.videoEmbedCount++):s.push(this.builder.createEmbedNode(p))}return}const f=i.textContent?.trim();f&&s.push(this.builder.createTextNode(f,"paragraph"))}parseOrderedFallback(i,s,l,o,d){const f=/<style[^>]*>([\s\S]*?)<\/style>/gi;let p;for(;(p=f.exec(i))!==null;){const m=p[1].trim();m&&this.styleBlocks.push(m)}const g=/(<figure[\s\S]*?<\/figure>)|(<img[^>]*>)|(<p[\s\S]*?<\/p>)|(<div[\s\S]*?<\/div>)|(<iframe[\s\S]*?<\/iframe>)/gi;let y;for(;(y=g.exec(i))!==null;){const m=y[0],b=m.slice(0,10).toLowerCase();if(b.startsWith("<style")){const w=m.replace(/^<style[^>]*>|<\/style>$/gi,"").trim();w&&this.styleBlocks.push(w);continue}if(b.startsWith("<figure")){const w=/<img[^>]*>/i.exec(m)?.[0];if(w){const T=/src=["']([^"'>]+)["']/i.exec(w)?.[1];if(T){const z=/alt=["']([^"'>]*)["']/i.exec(w)?.[1],k=/<figcaption[^>]*>([\s\S]*?)<\/figcaption>/i.exec(m)?.[1],C=this.builder.addImageResource(T);s.push(this.builder.createImageNode(C,k?this.stripHtml(k).trim():void 0,z,"standard")),this.media.add(T)}}continue}if(b.startsWith("<iframe")){const w=/src=["']([^"'>]+)["'][^>]*>/i.exec(m)?.[1];if(w){const T=this.parseSwipeAppId(w);if(T&&typeof window>"u"){const k=this.fetchClassicSwipeDataSync(T);if(k&&k.values){const C=this.parseSwipeLayoutFromUrl(w)||(String(k.values.layout||"").toLowerCase().includes("spyglass")?"spyglass":"swipe");try{const L=Gs.buildInlineSwipeBlock(this.builder,k.values,C,this.token);s.push(L);continue}catch{}}}const z=this.detectVideoProvider(w);z.provider!=="unknown"?(s.push(this.builder.createVideoEmbedNode(w,z.provider,z.id)),this.videoEmbedCount++):s.push(this.builder.createEmbedNode(w))}continue}if(b.startsWith("<p")||b.startsWith("<div")){const w=m.replace(/^<p[^>]*>|^<div[^>]*>|<\/p>$|<\/div>$/gi,"");let T=w;const z=/<img[^>]*src=["']([^"'>]+)["'][^>]*>/gi;let k;for(;(k=z.exec(w))!==null;){const H=k[0],V=k[1],P=/alt=["']([^"'>]*)["']/i.exec(H)?.[1],pe=this.builder.addImageResource(V),me=this.builder.createImageNode(pe,void 0,P,"standard");this.media.add(V),T=T.replace(H,`%%IMG:${me}%%`)}const C=/<a[^>]*data-storymaps=["']([^"'>]+)["'][^>]*>[\s\S]*?<\/a>/gi;let L;for(;(L=C.exec(w))!==null;){const H=L[0],V=L[1],P=/data-storymaps-type=["']([^"'>]+)["']/i.exec(H)?.[1]||"",pe=H.replace(/<a[^>]*>|<\/a>/gi,""),me=this.stripHtml(pe).trim()||"View",ne=(/class=["']([^"'>]+)["']/i.exec(H)?.[1]||"").split(/\s+/).some(oe=>this.BUTTON_CLASS_REGEX.test(oe));if(P==="media"){const oe=this.builder.createActionButtonNode(me,"wide");l.push({actionId:V,text:me,buttonNodeId:oe}),T=T.replace(H,`%%ACTION_BTN:${oe}%%`)}else if(P==="navigate")if(ne){const oe=this.builder.createButtonNode(me,"wide");o.push({actionId:V,buttonNodeId:oe}),T=T.replace(H,`%%NAV_BTN:${oe}%%`)}else d.push({actionId:V,richNodeId:""})}const M=/<iframe[^>]*src=["']([^"'>]+)["'][^>]*>[\s\S]*?<\/iframe>/gi;let Y;for(;(Y=M.exec(w))!==null;){const H=Y[0],V=Y[1];let P;const pe=this.parseSwipeAppId(V);if(pe&&typeof window>"u"){const me=this.fetchClassicSwipeDataSync(pe);if(me&&me.values){const le=this.parseSwipeLayoutFromUrl(V)||(String(me.values.layout||"").toLowerCase().includes("spyglass")?"spyglass":"swipe");try{P=Gs.buildInlineSwipeBlock(this.builder,me.values,le,this.token)}catch{}}}if(!P){const me=this.detectVideoProvider(V);me.provider!=="unknown"?(P=this.builder.createVideoEmbedNode(V,me.provider,me.id),this.videoEmbedCount++):P=this.builder.createEmbedNode(V)}T=T.replace(H,`%%IFRAME_NODE:${P}%%`)}const K=T.split(/(%%IMG:[^%]+%%|%%ACTION_BTN:[^%]+%%|%%NAV_BTN:[^%]+%%|%%IFRAME_NODE:[^%]+%%)/);for(const H of K)if(H)if(/^%%IMG:/.test(H))s.push(H.replace(/^%%IMG:/,"").replace(/%%$/,""));else if(/^%%ACTION_BTN:/.test(H))s.push(H.replace(/^%%ACTION_BTN:/,"").replace(/%%$/,""));else if(/^%%NAV_BTN:/.test(H))s.push(H.replace(/^%%NAV_BTN:/,"").replace(/%%$/,""));else if(/^%%IFRAME_NODE:/.test(H))s.push(H.replace(/^%%IFRAME_NODE:/,"").replace(/%%$/,""));else{if(!this.isNonEmptyHtmlSegment(H))continue;const V=this.processHtmlColorsPreserveHtml(H),P=V.match(/<p[^>]*>[\s\S]*?<\/p>/gi);if(P&&P.length>1)for(const me of P){const le=me.replace(/^<p[^>]*>|<\/p>$/gi,"").trim();if(!le.replace(/&nbsp;|\s+/g,"").trim())continue;const oe=this.builder.createRichTextNode(le,"paragraph");if(me.includes("data-storymaps"))for(const Ue of d)!Ue.richNodeId&&me.includes(`data-storymaps="${Ue.actionId}"`)&&(Ue.richNodeId=oe);s.push(oe)}else{let me=V;/^<p[^>]*>[\s\S]*?<\/p>$/.exec(V.trim())&&(me=V.trim().replace(/^<p[^>]*>|<\/p>$/gi,"").trim());const ne=this.builder.createRichTextNode(me,"paragraph");if(V.includes("data-storymaps"))for(const oe of d)!oe.richNodeId&&V.includes(`data-storymaps="${oe.actionId}"`)&&(oe.richNodeId=ne);s.push(ne)}}continue}const S=this.stripHtml(m).trim();S&&s.push(this.builder.createTextNode(S,"paragraph"))}}detectVideoProvider(i){if(!i)return{provider:"unknown"};const s=/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([A-Za-z0-9_-]{6,})(?:[&#?].*)?$/i.exec(i);if(s)return{provider:"youtube",id:s[1]};const l=/(?:vimeo\.com\/(?:video\/)?)(\d+)(?:[&#?].*)?$/i.exec(i);return l?{provider:"vimeo",id:l[1]}:{provider:"unknown"}}parseSwipeAppId(i){try{const s=new URL(i,"https://example.com");return s.searchParams.get("appid")||s.searchParams.get("appId")||void 0}catch{return/[?&#](?:appid|appId)=([a-f0-9]{32})/i.exec(i)?.[1]}}parseSwipeLayoutFromUrl(i){try{const l=(new URL(i,"https://example.com").searchParams.get("layout")||"").toLowerCase();return l.includes("spyglass")?"spyglass":l.includes("swipe")?"swipe":void 0}catch{return}}fetchClassicSwipeDataSync(i){try{const s=`https://www.arcgis.com/sharing/rest/content/items/${i}/data?f=json`,l=this.token?`${s}&token=${encodeURIComponent(this.token)}`:s,o=Sr(`curl -sL '${l}'`,{encoding:"utf-8"});return JSON.parse(o)}catch{return}}tryBuildSwipeNodeFromUrl(i){const s=this.parseSwipeAppId(i);if(!s||typeof window<"u")return;const l=this.fetchClassicSwipeDataSync(s);if(!l||!l.values)return;const d=this.parseSwipeLayoutFromUrl(i)||(String(l.values.layout||"").toLowerCase().includes("spyglass")?"spyglass":"swipe");try{const f=Gs.buildInlineSwipeBlock(this.builder,l.values,d,this.token);try{const p=this.builder.getJson(),g=p.nodes[f];if(g&&g.type==="swipe"){const y=g.data?.contents||{},m=[];for(const b of["0","1"]){const S=y[b];(!S||!p.nodes[S])&&m.push(b)}if(m.length){const b=l.values,S=String(b.dataModel||"").toUpperCase(),w={...y};if(S==="TWO_LAYERS"){const T=String(b.webmap||"");if(T){const z=this.builder.addWebMapResource(T,"Web Map",{},"default"),k=Array.isArray(b.layers)?b.layers:[],C=this.builder.createWebMapNode(z,void 0),L=this.builder.createWebMapNode(z,void 0);if(k.length>=2){const M=k[0],Y=k[1];this.builder.updateNodeData(C,K=>{K.mapLayers=[{id:M.id,title:M.title||M.id,visible:!0},{id:Y.id,title:Y.title||Y.id,visible:!1}]}),this.builder.updateNodeData(L,K=>{K.mapLayers=[{id:M.id,title:M.title||M.id,visible:!1},{id:Y.id,title:Y.title||Y.id,visible:!0}]})}w[0]=C,w[1]=L}}else{const T=[];if(Array.isArray(b.webmaps))for(const C of b.webmaps)typeof C=="string"?T.push(C):C&&typeof C=="object"&&"id"in C&&T.push(String(C.id));else b.webmap&&T.push(String(b.webmap));const[z,k]=T;if(z){const C=this.builder.addWebMapResource(z,"Web Map",{},"default");w[0]=this.builder.createWebMapNode(C,void 0)}if(k){const C=this.builder.addWebMapResource(k,"Web Map",{},"default");w[1]=this.builder.createWebMapNode(C,void 0)}}this.builder.updateNode(f,T=>{T.data||(T.data={}),T.data.contents=w})}}}catch{}return f}catch{return}}};function Bu(u){const i=u.values||{},s=i.settings||{};let l;return typeof i.templateName=="string"&&i.templateName.trim()&&(l=i.templateName),typeof i.template=="string"&&i.template.trim()&&(l=i.template),i.template&&typeof i.template=="object"&&typeof i.template.name=="string"&&(l=i.template.name),l?$0(l):!l&&s&&s.components?"Crowdsource":Array.isArray(i.series)?"Map Series":i.tabs||Array.isArray(i.tabs)?"Shortlist":i.order&&Array.isArray(i.order)?"Map Tour":i.dataModel||i.layers||i.webmaps?"Swipe":i.components&&i.components.contribute?"Crowdsource":i.story&&Array.isArray(i.story.sections)?i.story.sections.some(d=>d.type==="sequence")?"Cascade":"Map Journal":"Basic"}function $0(u){const i=u.toLowerCase();return i.includes("journal")?"Map Journal":i.includes("tour")?"Map Tour":i.includes("series")?"Map Series":i.includes("cascade")?"Cascade":i.includes("shortlist")?"Shortlist":i.includes("swipe")?"Swipe":i.includes("crowdsource")?"Crowdsource":i.includes("basic")?"Basic":u}class sg{static async transferBatch(i){const{urls:s,storyId:l,username:o,token:d,progress:f,uploader:p,isCancelled:g}=i,y={};for(let m=0;m<s.length;m++){if(g&&g())throw new Error("Conversion cancelled by user intervention");const b=s[m];f({stage:"media",message:`Transferring media ${m+1}/${s.length}`,current:m+1,total:s.length});try{if(g&&g())throw new Error("Conversion cancelled by user intervention");const S=await p(b,l,o,d);S.transferred&&(y[S.originalUrl]=S.resourceName)}catch{}}if(g&&g())throw new Error("Conversion cancelled by user intervention");return y}}class lg{static apply(i,s){for(const[l,o]of Object.entries(i.resources))if(o.type==="image"){const d=o,f=d.data.src;f&&s[f]&&(d.data.resourceId=s[f],delete d.data.src,d.data.provider="item-resource")}for(const l of Object.values(i.nodes))if(l.type==="image"){const o=l;if(o.data.src){const d=o.data.src,f=Object.entries(i.resources).find(([p,g])=>g.type==="image"&&g.data.src===d)?.[0];f&&(o.data={...o.data,image:f},delete o.data.src,delete o.data.resourceId,delete o.data.provider)}}return i}static rewriteImageUrlsToProxy(i,s){for(const l of Object.values(i.resources))if(l.type==="image"){const o=l,d=o.data.src,f=o.data.resourceId;d&&!f&&(o.data.src=`${s}?url=${encodeURIComponent(d)}`)}for(const l of Object.values(i.nodes))if(l.type==="image"){const o=l,d=o.data.src,f=o.data.image;d&&!f&&(o.data.src=`${s}?url=${encodeURIComponent(d)}`)}return i}}const H0=["name","Name","NAME","title","Title","TITLE"],q0=["description","Description","DESCRIPTION","desc","Desc","DESC","desc1","Desc1","DESC1","caption","Caption","CAPTION","FULL_Caption"],V0=["pic_url","Pic_url","PIC_URL","url","Url","URL"],G0=["thumb_url","Thumb_url","THUMB_URL"],J0=["long","Long","LONG","LON","longitude","Longitude","LONGITUDE","x"],F0=["lat","Lat","LAT","latitude","Latitude","LATITUDE","y"];let Y0=class Eu extends Iu{builder;uploaded={};mediaUrls=new Set;places=[];geometries={};constructor(i){super(i),this.builder=new ku(i.themeId)}extractStructure(){this.emit("MapTour: extractStructure (no sections list)")}async convertContent(){const i=this.classicJson.values||{},s=i.title||"Untitled Story",l=i.subtitle||"",o=this.themeId==="auto"?Z0(i,"summit"):this.themeId;this.builder.createStoryRoot(),this.builder.addCoverNode(s,l),this.builder.addNavigationHidden(),this.builder.addCreditsNode(),this.builder.applyTheme({themeId:o});const d=Array.isArray(i.places)?i.places:[],f=Array.isArray(i.order)?i.order:d.map(C=>({id:C.id,visible:C.visible!==!1})),p={};d.forEach(C=>{C.id!==void 0&&(p[C.id]=C)});const g=f.map(C=>p[C.id]).filter(Boolean).map(C=>({...C,visible:f.find(L=>L.id===C.id)?.visible!==!1}));let y;for(let C=0;C<g.length;C++){const L=g[C],M=String(L.id??C),Y=qi(L,V0),K=qi(L,G0);if(Y){this.mediaUrls.add(Y);const H=this.builder.addImageResource(Y);this.uploaded[M]={...this.uploaded[M]||{},imageUrl:Y,imageResId:H},this.inlineUpload&&this.uploader&&this.storyId&&this.username&&this.token&&this.tryInlineUpload(Y,H).catch(()=>{})}if(K){this.mediaUrls.add(K);const H=this.builder.addImageResource(K);this.uploaded[M]={...this.uploaded[M]||{},thumbUrl:K,thumbResId:H},this.inlineUpload&&this.uploader&&this.storyId&&this.username&&this.token&&this.tryInlineUpload(K,H).catch(()=>{})}}for(let C=0;C<g.length;C++){const L=g[C],M=String(L.id??C),Y=qi(L,H0)||`Place ${C+1}`,K=qi(L,q0)||"",H=this.uploaded[M]?.imageResId,V=this.uploaded[M]?.thumbResId;C===0&&i.firstRecordAsIntro&&H&&(y=H);const P=[];H&&P.push(this.builder.createImageNode(H,void 0,void 0,"standard")),V&&P.push(this.builder.createImageNode(V,void 0,void 0,"standard"));const pe=P.length?this.builder.createCarouselNode(P):void 0,me=this.builder.createTextNode(Y,"h3","wide"),le=this.builder.createTextNode(K,"paragraph","wide"),ne=this.builder.newNodeId();let oe=X0(L);!oe&&L.geometry&&typeof L.geometry.x=="number"&&typeof L.geometry.y=="number"&&(oe=Q0(L.geometry.x,L.geometry.y)),oe&&(this.geometries[ne]={id:ne,type:"POINT_NUMBERED_TOUR",nodes:[{long:oe.long,lat:oe.lat}],viewpoint:{},scale:4514}),this.places.push({id:this.builder.newNodeId(),featureId:ne,contents:[le],media:pe,title:me,config:L.visible===!1?{isHidden:!0}:void 0})}const m=this.builder.createTourMapNode(this.geometries,i.webmap),b="#f9f794",S={"three-panel":{tourType:"guided-tour",subtype:"media-focused"},"side-panel":{tourType:"guided-tour",subtype:"media-focused"},integrated:{tourType:"guided-tour",subtype:"map-focused"}};let w,T;if(this.places.length>15)w="explorer",T="grid";else{const C=S[i.layout||"integrated"]||S.integrated;w=C.tourType,T=C.subtype}const z=i.placardPosition==="end"?"end":"start",k=this.builder.createTourNode(this.places,m,b,z,"large",w,T);this.builder.addChild(this.builder.getStoryRootId(),m),this.builder.addChild(this.builder.getStoryRootId(),k),y&&this.builder.setStoryMeta(s,l,y),this.inlineUpload&&(!this.storyId||!this.token||!this.uploader)&&this.emit("MapTour inlineUpload requested but missing storyId/token/uploader  falling back to URI resources"),this.emit(`MapTour: built ${this.places.length} place(s); layout=${i.layout||"integrated"} mapped to ${w}/${T}`)}applyTheme(){this.emit("MapTour: applyTheme (no overrides)")}collectMedia(){return Array.from(this.mediaUrls)}getStoryMapJson(){return this.builder.getJson()}static convert(i){const s=Bu(i.classicJson);if(!/tour/i.test(s))throw new Error("MapTourConverter invoked for non Map Tour template");return new Eu(i).convert()}async tryInlineUpload(i,s){if(!(!this.uploader||!this.storyId||!this.username||!this.token))try{const l=await this.uploader(i,this.storyId,this.username,this.token);l.transferred&&l.resourceName?(this.builder.finalizeImageResourceAsItem(s,l.resourceName),this.emit(`Inline upload success for ${i}`)):this.emit(`Inline upload skipped/not transferred for ${i}`)}catch(l){this.emit(`Inline upload error for ${i}: ${l.message}`)}}static async convertInline(i){return new Eu({...i,inlineUpload:!0}).convert()}};function qi(u,i){for(const s of i){const l=u&&u[s];if(l!=null&&String(l).trim())return String(l).trim()}}function X0(u){const i=u||{},s=qi(i,J0),l=qi(i,F0),o=Number(s),d=Number(l);if(!isNaN(o)&&!isNaN(d)&&Math.abs(o)<=180&&Math.abs(d)<=90)return{long:o,lat:d}}function Q0(u,i){if(Math.abs(u)<=180&&Math.abs(i)<=90)return{long:u,lat:i};const s=6378137,l=u/s*180/Math.PI;let o=i/s*180/Math.PI;if(o=180/Math.PI*(2*Math.atan(Math.exp(o*Math.PI/180))-Math.PI/2),!isNaN(l)&&!isNaN(o)&&Math.abs(l)<=180&&Math.abs(o)<=90)return{long:l,lat:o}}function Z0(u,i){try{const s=u.settings?.theme?.colors?.themeMajor;return s==="dark"?"obsidian":s==="light"?"summit":i}catch{return i}}async function wm(){if(typeof fetch>"u")throw new Error("Global fetch unavailable in this environment");return fetch}let K0=class Xn{static async create(i){const s=()=>{if(i.isCancelled&&i.isCancelled())throw new Error("Conversion cancelled by user intervention")},l=Bu(i.classicJson);switch(i.progress({stage:"convert",message:`ConverterFactory detected template: ${l}`}),s(),l.toLowerCase()){case"map tour":case"tour":{const o=Y0.convert({classicJson:i.classicJson,themeId:i.themeId,progress:i.progress}),d=Object.values(o.storymapJson.resources).some(f=>f.type==="webmap");return d&&i.enrichMaps!==!1?(s(),await Xn.enrichWebMaps(o.storymapJson,i.progress,i.isCancelled)):d&&i.progress({stage:"convert",message:"Map Tour web map enrichment skipped (enrichMaps=false)."}),i.enrichScenes!==!1?(s(),await Xn.enrichWebScenes(o.storymapJson,i.progress,i.isCancelled)):i.progress({stage:"convert",message:"Map Tour web scene enrichment disabled (enrichScenes=false)."}),o}case"swipe":{const o=Gs.convert({classicJson:i.classicJson,themeId:i.themeId,progress:i.progress}),d=Object.values(o.storymapJson.resources).some(f=>f.type==="webmap");return d&&i.enrichMaps!==!1?(s(),await Xn.enrichWebMaps(o.storymapJson,i.progress,i.isCancelled)):d&&i.progress({stage:"convert",message:"Swipe web map enrichment skipped (enrichMaps=false)."}),i.enrichScenes!==!1?(s(),await Xn.enrichWebScenes(o.storymapJson,i.progress,i.isCancelled)):i.progress({stage:"convert",message:"Web scene enrichment disabled (enrichScenes=false)."}),o}case"map journal":case"journal":default:{const o=B0.convert({classicJson:i.classicJson,themeId:i.themeId,progress:i.progress});return i.enrichMaps!==!1?(s(),await Xn.enrichWebMaps(o.storymapJson,i.progress,i.isCancelled)):i.progress({stage:"convert",message:"Web map enrichment disabled (enrichMaps=false)."}),i.enrichScenes!==!1?(s(),await Xn.enrichWebScenes(o.storymapJson,i.progress,i.isCancelled)):i.progress({stage:"convert",message:"Web scene enrichment disabled (enrichScenes=false)."}),o}}}static async enrichWebScenes(i,s,l){const o=()=>{if(l&&l())throw new Error("Conversion cancelled by user intervention")},d=[];for(const[f,p]of Object.entries(i.resources)){const g=p.data||{};p.type==="webmap"&&g.itemType==="Web Scene"&&g.type==="minimal"&&typeof g.itemId=="string"&&d.push({id:f,itemId:g.itemId,data:g})}d.length&&(s({stage:"convert",message:`Enriching ${d.length} Web Scene resource(s)...`}),await Promise.all(d.map(async f=>{try{o();const p=`https://www.arcgis.com/sharing/rest/content/items/${f.itemId}/data?f=json`,g=await wm();o();const y=await g(p);if(!y.ok)throw new Error(`HTTP ${y.status}`);const m=await y.json();o();const b=m.view?.camera?{camera:m.view.camera,rotation:m.view.rotation,scale:m.view.scale,targetGeometry:m.view.targetGeometry}:void 0,S=m.baseMap?.baseMapLayers?.map(H=>({id:H.id,title:H.title,url:H.url,opacity:H.opacity,visibility:H.visibility,layerType:H.layerType,isReference:!!H.isReference}))||[],w=m.operationalLayers?.map(H=>({id:H.id,title:H.title,visible:H.visibility}))||[],z=(m.presentation?.slides||m.slides||[]).map(H=>({id:H.id,title:H.title||H.name||"",index:H.index,visibleLayers:(H.visibleLayers||[]).map(V=>({id:V.id})),camera:H.viewpoint?.camera||H.camera,viewpoint:H.viewpoint?{camera:H.viewpoint.camera,rotation:H.viewpoint.rotation,scale:H.viewpoint.scale}:void 0})),k=m.initialState?.view?.extent||m.view?.extent,C=m.initialState?.view?.center||m.view?.center,L=m.environment?.lighting?.date||void 0,M=m.environment?.weather?{type:m.environment.weather.type,cloudCover:m.environment.weather.cloudCover}:void 0,Y=m.environment?.ground?.opacity,K=i.resources[f.id];K&&(K.data={itemId:f.itemId,itemType:"Web Scene",type:"default",extent:k,center:C,viewpoint:b,baseMap:{baseMapLayers:S},mapLayers:w,lightingDate:L,weather:M,ground:{opacity:Y},environment:m.environment||void 0,slides:z,raw:{summary:{hasCamera:!!b,baseMapLayerCount:S.length,operationalLayerCount:w.length}}}),o(),s({stage:"convert",message:`Enriched Web Scene ${f.itemId}`})}catch(p){s({stage:"convert",message:`Web Scene enrichment failed for ${f.itemId}: ${p.message}`})}})))}static async enrichWebMaps(i,s,l){const o=()=>{if(l&&l())throw new Error("Conversion cancelled by user intervention")},d=[];for(const[g,y]of Object.entries(i.resources)){const m=y.data||{};y.type==="webmap"&&m.itemType==="Web Map"&&m.type==="minimal"&&typeof m.itemId=="string"&&d.push({id:g,itemId:m.itemId,data:m})}if(!d.length)return;s({stage:"convert",message:`Enriching ${d.length} Web Map resource(s)...`});const f=[],p=[];if(await Promise.all(d.map(async g=>{try{o();const y=`https://www.arcgis.com/sharing/rest/content/items/${g.itemId}/data?f=json`,m=await wm();o();const b=await m(y);if(!b.ok)throw new Error(`HTTP ${b.status}`);const S=await b.json();o();const w=S.version||S.mapVersion||S.webMapVersion;let T;if(typeof w=="string"?T=w.trim():typeof w=="number"&&(T=String(w)),T){const V=parseFloat(T);!isNaN(V)&&V<2&&f.push({itemId:g.itemId,version:T})}try{const V=[];Array.isArray(S.operationalLayers)&&V.push(...S.operationalLayers),Array.isArray(S.baseMap?.baseMapLayers)&&V.push(...S.baseMap.baseMapLayers);const P=V.filter(pe=>typeof pe?.url=="string"&&/^http:/i.test(pe.url)).length;P>0&&p.push({itemId:g.itemId,httpLayerCount:P})}catch{}const z=S.baseMap?.baseMapLayers?.map(V=>({id:V.id,title:V.title,url:V.url,opacity:V.opacity,visibility:V.visibility,layerType:V.layerType,isReference:!!V.isReference}))||[],k=S.operationalLayers?.map(V=>({id:V.id,title:V.title,visible:V.visibility}))||[],C=V=>V?.initialState?.view?.extent||V?.mapOptions?.extent||V?.extent||V?.mapOptions?.mapExtent||void 0,L=V=>V?.initialState?.view?.center||V?.mapOptions?.center||V?.center||void 0;let M=C(S),Y=L(S);const K=V=>{if(!V)return V;if(Array.isArray(V)&&V.length>=2){const[P,pe]=V;return{x:P,y:pe,spatialReference:{wkid:4326}}}return V};if(Y=K(Y),!M||typeof M!="object"&&!Array.isArray(M)){const V=`https://www.arcgis.com/sharing/rest/content/items/${g.itemId}?f=json`,P=await m(V);if(P.ok){const pe=await P.json();if(Array.isArray(pe.extent)&&pe.extent.length===2&&Array.isArray(pe.extent[0])&&Array.isArray(pe.extent[1])){const[[me,le],[ne,oe]]=pe.extent;M={xmin:me,ymin:le,xmax:ne,ymax:oe,spatialReference:{wkid:4326}}}!Y&&pe.center&&Array.isArray(pe.center)&&(Y=K(pe.center))}}const H=i.resources[g.id];if(H){const V=H.data||{},P=V.raw||{};H.data={...V,itemId:g.itemId,itemType:"Web Map",type:"default",extent:M??V.extent,center:Y??V.center,baseMap:{baseMapLayers:z},mapLayers:k,raw:{...P,summary:{baseMapLayerCount:z.length,operationalLayerCount:k.length}}}}o(),s({stage:"convert",message:`Enriched Web Map ${g.itemId}`})}catch(y){s({stage:"convert",message:`Web Map enrichment failed for ${g.itemId}: ${y.message}`})}})),f.length||p.length){const g=Object.entries(i.resources).find(([,y])=>y.type==="converter-metadata");if(g){const[y,m]=g,b=m.data||{},S=b.classicMetadata||(b.classicMetadata={});f.length&&(S.webmapVersionWarnings=f.map(w=>({itemId:w.itemId,message:`Unsupported web map version: You must update the web map to the latest version. You can do this by opening the map in <a href="https://<org_url>.arcgis.com/home/webmap/viewer.html?webmap=${w.itemId}">Map Viewer Classic</a> and save it. No other changes are necessary.`,version:w.version,type:"version"}))),p.length&&(S.webmapProtocolWarnings=p.map(w=>({itemId:w.itemId,message:`Unsupported protocol: You must update the web map to use https service urls. You can do this by opening the web map item's <a href="https://<org_url>.arcgis.com/home/item.html?id=${w.itemId}#settings">settings page</a> scrolling down to the Web map section and clicking the "Update layers to HTTPS" button`,httpLayerCount:w.httpLayerCount,type:"protocol"}))),i.resources[y]=m,f.length&&s({stage:"convert",message:`Detected ${f.length} web map(s) requiring version update (<2.0).`}),p.length&&s({stage:"convert",message:`Detected ${p.length} web map(s) with http layer(s) requiring HTTPS update.`})}}}};function W0(u){const i=[],s=[];if(!u)return i.push("StoryMapJSON is null/undefined"),{errors:i,warnings:s};u.root||i.push("Missing root node id"),(!u.nodes||!Object.keys(u.nodes).length)&&i.push("No nodes present in JSON");const l=new Set(Object.keys(u.nodes||{})),o=new Set(Object.keys(u.resources||{}));if(u.root){const d=u.nodes[u.root];d?d.type!=="story"&&i.push(`Root node type expected 'story' but found '${d.type}'`):i.push("Root node id does not resolve to a node object"),d?.data&&d.data.metaSettings&&i.push("metaSettings should have been stripped from root story node")}for(const[d,f]of Object.entries(u.nodes)){if(!f){i.push(`Node '${d}' is null/undefined`);continue}if(f.type||i.push(`Node '${d}' missing required 'type' property`),Array.isArray(f.children))for(const p of f.children)l.has(p)||i.push(`Node '${d}' references missing child '${p}'`);if(f.type==="webmap"){const p=f.config?.size;p?["standard","wide"].includes(p)||s.push(`WebMap node '${d}' has unexpected size '${p}'`):i.push(`WebMap node '${d}' missing config.size`),f.data&&Object.prototype.hasOwnProperty.call(f.data,"scale")&&i.push(`WebMap node '${d}' still has deprecated data.scale`);const g=f.data?.map;g&&!o.has(g)&&i.push(`WebMap node '${d}' references missing resource '${g}'`)}else if(f.type==="text"){f.data&&!Object.prototype.hasOwnProperty.call(f.data,"textAlignment")&&i.push(`Text node '${d}' missing data.textAlignment`);const p=f.data?.text;(typeof p!="string"||!p.length)&&s.push(`Text node '${d}' has empty/missing text content`)}else if(f.type==="image"){const p=f.data?.image;p?o.has(p)||i.push(`Image node '${d}' references missing resource '${p}'`):i.push(`Image node '${d}' missing data.image resource reference`)}else if(f.type==="video"){const p=f.data?.video;p&&!o.has(p)&&s.push(`Video node '${d}' references missing resource '${p}'`)}else if(f.type==="embed"){const p=f.data;(!p||!p.url&&!p.embedSrc)&&s.push(`Embed node '${d}' missing url/embedSrc`)}else if(f.type==="tour"){const p=f.data;if(!p)i.push(`Tour node '${d}' missing data object`);else{["type","subtype","map","places","accentColor"].forEach(y=>{y in p||i.push(`Tour node '${d}' missing data.${y}`)}),Array.isArray(p.places)&&!p.places.length&&s.push(`Tour node '${d}' has empty places array`);const g=p.map;g&&!l.has(g)&&i.push(`Tour node '${d}' references missing map node '${g}'`)}}else if(f.type==="tour-map"){const p=f.data;p?("geometries"in p||s.push(`Tour-map node '${d}' missing data.geometries`),"mode"in p||s.push(`Tour-map node '${d}' missing data.mode`)):i.push(`Tour-map node '${d}' missing data`)}}for(const[d,f]of Object.entries(u.resources||{})){if(!f){i.push(`Resource '${d}' is null/undefined`);continue}if(f.type||i.push(`Resource '${d}' missing type`),f.type==="webmap"){const p=f.data;p?.itemId||i.push(`WebMap resource '${d}' missing data.itemId`),["Web Map","Web Scene"].includes(p?.itemType)||s.push(`WebMap resource '${d}' unexpected itemType '${p?.itemType}'`),p.initialState&&p.initialState.scale&&i.push(`WebMap resource '${d}' initialState still contains scale`)}if(f.type==="image"){const p=f.data;!p.src&&!p.resourceId&&s.push(`Image resource '${d}' missing src/resourceId`)}}if(Array.isArray(u.actions))for(const d of u.actions){const f=d?.origin,p=d?.target;f&&!l.has(f)&&i.push(`Action references missing origin node '${f}'`),p&&!l.has(p)&&i.push(`Action references missing target node '${p}'`)}return{errors:i,warnings:s}}function P0(u){const i=[];if(i.push(`Assertion Report: ${u.errors.length} error(s), ${u.warnings.length} warning(s)`),u.errors.length){i.push("Errors:");for(const s of u.errors)i.push("  - "+s)}if(u.warnings.length){i.push("Warnings:");for(const s of u.warnings)i.push("  - "+s)}return i.join(`
`)}async function _r(u){const i=()=>{if(u.isCancelled&&u.isCancelled())throw u.progress({stage:"error",message:"Cancellation requested  aborting."}),new Error("Conversion cancelled by user intervention")},s={classicItemId:u.classicItemId,storyId:u.storyId,username:u.username,token:u.token,themeId:u.themeId,progress:u.progress};u.progress({stage:"convert",message:"[Refactor] Starting converter factory..."}),i();const l=await K0.create({classicJson:u.classicJson,themeId:u.themeId,progress:p=>u.progress(p),enrichScenes:u.enrichScenes,isCancelled:u.isCancelled});i(),u.progress({stage:"media",message:"[Refactor] Transferring media..."}),i();const o=await sg.transferBatch({urls:l.mediaUrls,storyId:s.storyId,username:s.username,token:s.token,progress:s.progress,uploader:u.uploader,isCancelled:u.isCancelled});i(),u.progress({stage:"finalize",message:"[Refactor] Applying media mapping..."}),i();const d=lg.apply(l.storymapJson,o),f=W0(d);if(f.errors.length)throw u.progress({stage:"error",message:"[Refactor] Assertion errors detected. Aborting."}),new Error(P0(f));return f.warnings.length&&u.progress({stage:"warn",message:`[Refactor] Assertions warnings: ${f.warnings.length}`}),u.progress({stage:"done",message:"[Refactor] Conversion pipeline complete."}),{storymapJson:d,mediaMapping:o}}function eS(u){const i=new URLSearchParams;for(const[s,l]of Object.entries(u))typeof l=="string"&&l.length&&i.set(s,l);return i.toString()}async function tS(u,i){const l=`/.netlify/functions/convert-mapjournal?${eS({itemId:u,token:i})}`;try{const o=await fetch(l,{method:"GET"});if(!o.ok)throw new Error(`Backend conversion not available: ${o.status}`);const d=await o.json();if(d&&d.storymapJson&&Array.isArray(d.mediaUrls))return d;if(d&&d.values)return{storymapJson:d,mediaUrls:[]};throw new Error("Unexpected backend response shape")}catch(o){throw o}}async function Am(u){const i=await fetch(u);if(!i.ok)throw new Error(`Fetch failed: ${i.status} ${i.statusText}`);return i.json()}async function aS(u,i){const s=[],l=[],o=Array.from(new Set(u.filter(f=>/^[a-f0-9]{32}$/i.test(f))));for(const f of o)try{const p=`https://www.arcgis.com/sharing/rest/content/items/${f}`,g=`${p}/data?f=json${i?`&token=${encodeURIComponent(i)}`:""}`,y=`${p}?f=json${i?`&token=${encodeURIComponent(i)}`:""}`,[m,b]=await Promise.all([Am(g).catch(()=>null),Am(y).catch(()=>null)]);if(!b){s.push({itemId:f,level:"error",message:"Webmap item not accessible (404 or permission). Please verify the item exists and you have access."});continue}const S=b?.title||b?.name||"",w=[],T=m&&(m.version||m.itemVersion)||b&&(b.itemVersion||b.version);if(T&&typeof T=="string"){const M=parseFloat(T);!Number.isNaN(M)&&M<2&&s.push({itemId:f,level:"warning",message:`Webmap version ${T} < 2.0. Open in Classic Map Viewer and save to upgrade.`})}const z=m?.operationalLayers||[],k=m?.baseMap?.baseMapLayers||[],C=[];for(const M of z)M?.url&&C.push({url:M.url,title:M.title,layerItemId:M.itemId,layerTitle:M.title});for(const M of k)M?.url&&C.push({url:M.url,title:M.title});const L=M=>{try{const Y=new URL(M),K=Y.hostname.toLowerCase(),H=Y.pathname.toLowerCase();if(K.endsWith("services.arcgisonline.com"))return/(mapserver|featureserver)/i.test(H)}catch{}return!1};for(const{url:M,title:Y,layerItemId:K,layerTitle:H}of C){/^http:\/\//i.test(M)&&(w.push({url:M,error:"HTTP URL (use HTTPS)",title:Y,layerItemId:K,layerTitle:H}),l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:M,ok:!1,errorCategory:"mixed-content",errorMessage:"HTTP URL (use HTTPS)"}),typeof window<"u"&&window.location?.protocol==="https:"&&(w.push({url:M,error:"Mixed content risk on HTTPS",title:Y,layerItemId:K,layerTitle:H}),l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:M,ok:!1,errorCategory:"mixed-content",errorMessage:"Mixed content risk on HTTPS"})));const V=typeof window<"u"&&window.location?.hostname?/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname):!1,P=M.split("?")[0],pe=`${P}${P.includes("?")?"":"?"}${P.includes("?")?"&":""}f=pjson`,me=/(FeatureServer|MapServer)\/\d+$/i.test(P)?P.replace(/\/(FeatureServer|MapServer)\/\d+$/i,"/$1"):P,le=`${me}${me.includes("?")?"":"?"}${me.includes("?")?"&":""}f=pjson`,ne=N=>`/.netlify/functions/proxy-feature?url=${encodeURIComponent(N)}`,oe=V?ne(pe):pe,Ue=V?ne(le):le,Ce=async N=>{for(let $=0;$<2;$++)try{const Q=await fetch(N,{method:"GET"});if(!Q.ok)return{ok:!1,resp:Q,json:null};const ie=Q.headers.get("content-type")||"",de=/application\/(?:json|pjson)/i.test(ie)?await Q.clone().json().catch(()=>null):null;return{ok:!0,resp:Q,json:de}}catch{if($===1)return{ok:!1,resp:void 0,json:null};await new Promise(Q=>setTimeout(Q,150))}return{ok:!1,resp:void 0,json:null}},O=await Ce(oe),I=await Ce(Ue),W=!!O.resp&&O.resp.ok,ue=!!I.resp&&I.resp.ok,ee=W&&!!O.json&&!O.json?.error,E=ue&&!!I.json&&!I.json?.error;if(O.ok&&O.json){const N=O.json?.error?.message||O.json?.message||"",$=/token/i.test(N)||O.json?.error?.code===499,Q=/permission|privilege|authorized|do not have permissions|not permitted/i.test(N)||O.json?.error?.code===403;$&&w.push({url:M,status:O.resp?.status,error:"Token required",title:Y,layerItemId:K,layerTitle:H}),Q&&w.push({url:M,status:O.resp?.status,error:"Permissions denied or item private",title:Y,layerItemId:K,layerTitle:H});const ie=typeof O.json?.type=="string"||typeof O.json?.geometryType=="string"||Array.isArray(O.json?.fields)||Array.isArray(O.json?.layers),te=!!O.json?.error;!ie&&!te&&!E&&w.push({url:M,status:O.resp?.status,error:"Invalid layer definition",title:Y,layerItemId:K,layerTitle:H}),te&&w.push({url:M,status:O.resp?.status,error:"Layer error JSON",title:Y,layerItemId:K,layerTitle:H});const de=O.resp?.headers?.get("content-type")||"";/application\/(?:json|pjson)/i.test(de)||(w.push({url:M,status:O.resp?.status,error:"Non-JSON response",title:Y,layerItemId:K,layerTitle:H}),l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:M,status:O.resp?.status,ok:!1,errorCategory:"non-json",errorMessage:"Non-JSON response"})),O.json||(w.push({url:M,status:O.resp?.status,error:"JSON parse failed",title:Y,layerItemId:K,layerTitle:H}),l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:M,status:O.resp?.status,ok:!1,errorCategory:"json-error",errorMessage:"JSON parse failed"}))}if(!ee&&!L(P)){const N=O.resp?.status,$=O.json?.error?O.json.error.message||"Layer error JSON":void 0;w.push({url:M,status:N,error:$||"Layer endpoint not healthy",title:Y,layerItemId:K,layerTitle:H}),l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:M,status:N,ok:!1,errorCategory:$?"json-error":"other",errorMessage:$||"Layer endpoint not healthy"})}if(I.ok&&I.json?.error){const N=I.json?.error?.message||I.json?.message||"",$=/permission|privilege|authorized|do not have permissions|not permitted/i.test(N)||I.json?.error?.code===403;w.push({url:me,status:I.resp?.status,error:$?"Service permissions denied or item private":"Service error JSON",title:Y,layerItemId:K,layerTitle:H}),l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:me,status:I.resp?.status,ok:!1,errorCategory:$?"permission-denied":"json-error",errorMessage:$?"Service permissions denied or item private":"Service error JSON"})}if(!W&&!L(P)&&(w.push({url:M,status:O.resp?.status,error:"Layer HTTP failure",title:Y,layerItemId:K,layerTitle:H}),l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:M,status:O.resp?.status,ok:!1,errorCategory:"http-failure",errorMessage:"Layer HTTP failure"})),!ue&&!L(me)&&(w.push({url:me,status:I.resp?.status,error:"Service HTTP failure",title:Y,layerItemId:K,layerTitle:H}),l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:me,status:I.resp?.status,ok:!1,errorCategory:"http-failure",errorMessage:"Service HTTP failure"})),I.ok&&I.json&&!I.json.error){const N=I.json,$=typeof N.currentVersion=="number"||typeof N.currentVersion=="string",Q=typeof N.capabilities=="string"||Array.isArray(N.capabilities);(!$||!Q)&&(w.push({url:me,status:I.resp?.status,error:"Service missing capabilities/version",title:Y,layerItemId:K,layerTitle:H}),l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:me,status:I.resp?.status,ok:!1,errorCategory:"other",errorMessage:"Service missing capabilities/version"}))}ee&&l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:M,status:O.resp?.status,ok:!0,errorCategory:"ok"}),E&&l.push({webmapId:f,webmapTitle:S,layerTitle:H,layerItemId:K,url:me,status:I.resp?.status,ok:!0,errorCategory:"ok"})}for(const M of z)if(M?.itemId&&/^[a-f0-9]{32}$/i.test(M.itemId)){const Y=`https://www.arcgis.com/sharing/rest/content/items/${M.itemId}?f=json${i?`&token=${encodeURIComponent(i)}`:""}`;try{const K=await fetch(Y);if(K.ok){const H=await K.json();if(H.error){const V=H.error?.code,P=H.error?.message||"",pe=V===403||/permission|privilege|authorized|not permitted/i.test(P);w.push({url:Y,status:K.status,error:pe?"Layer item private or permission denied":"Layer item error JSON",title:M.title,layerItemId:M.itemId,layerTitle:M.title})}}else{const H=K.status,V=H===404?"Layer item deleted":H===403?"Layer item private or permission denied":"Layer item not accessible";w.push({url:Y,status:H,error:V,title:M.title,layerItemId:M.itemId,layerTitle:M.title})}}catch{w.push({url:Y,error:"Layer item unreachable",title:M.title,layerItemId:M.itemId,layerTitle:M.title})}}w.length&&s.push({itemId:f,level:"warning",message:`Webmap ${S?'"'+S+'" ':""}has ${w.length} failing endpoint(s).`,details:{webmapTitle:S,failures:w}})}catch{s.push({itemId:f,level:"warning",message:"Failed to validate webmap. Proceeding, but please check the item manually."})}const d={};for(const f of l){const p=f.errorCategory||(f.ok?"ok":"other");d[p]=(d[p]||0)+1}return{warnings:s,endpointChecks:l,endpointCategorySummary:d}}const nl="https://www.arcgis.com/sharing/rest";async function Cm(u,i){const s=`${nl}/content/items/${u}/data?f=json&token=${i}`,l=await fetch(s);if(!l.ok)throw new Error(`Failed to fetch item data: ${l.statusText}`);return l.json()}async function nS(u,i){const s=`${nl}/content/items/${u}?f=json&token=${i}`,l=await fetch(s);if(!l.ok)throw new Error(`Failed to fetch item details: ${l.statusText}`);return l.json()}async function iS(u,i,s,l){const o=`${nl}/content/users/${i}/items/${u}/removeResources`,d=new URLSearchParams;d.append("resource",s),d.append("f","json"),d.append("token",l);const f=await fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:d.toString()});if(!f.ok)throw new Error(`Failed to remove resource: ${f.statusText}`);return f.json()}async function rg(u,i,s,l,o){const d=`${nl}/content/users/${i}/items/${u}/addResources`,f=new FormData;f.append("file",s,l),f.append("fileName",l),f.append("f","json"),f.append("token",o);const p=await fetch(d,{method:"POST",body:f}),g=await p.json();if(console.log("[addResource] Upload API response:",g),!p.ok||!g.success)throw new Error(`Failed to add resource: ${g.error?.message||p.statusText}`);return g}async function sS(u,i,s,l){const o=`${nl}/content/users/${i}/items/${u}/update`,d=new URLSearchParams;d.append("typeKeywords",JSON.stringify(s)),d.append("f","json"),d.append("token",l);const f=await fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:d.toString()});if(!f.ok)throw new Error(`Failed to update item keywords: ${f.statusText}`);return f.json()}function lS(u){const i=u.typeKeywords||[];for(const s of i)if(s.startsWith("smdraftresourceid:"))return s.substring(18);return null}class rS{constructor(i,s="summit"){this.classicJson=i,this.themeId=s,this.builder=new StoryMapJSONBuilder(s),this.classicType=this.detectType()}}const oS=["summit","obsidian","mesa","ridgeline","tidal","slate"],cS={h1:"h2",h2:"h3",h3:"h4",p:"paragraph",blockquote:"quote"},uS={left:"start",center:"center",right:"end"},dS={video:"video",webpage:"link"};function og(){const u=Lt(),i=Lt(),s=Lt(),l=Lt(),o=ng();return{root:u,nodes:{[i]:{type:"storycover",data:{type:"minimal",title:"",summary:"",byline:"",titlePanelVerticalPosition:"top",titlePanelHorizontalPosition:"start",titlePanelStyle:"gradient"}},[s]:{type:"navigation",data:{links:[]},config:{isHidden:!0}},[l]:{type:"credits",children:[]},[u]:{type:"story",data:{storyTheme:o},config:{coverDate:""},children:[i,s,l]}},resources:{[o]:{type:"story-theme",data:{themeId:"summit",themeBaseVariableOverrides:{}}}}}}function cg(u="",i="",s=""){const l=Lt(),o=Lt(),d=Lt(),f=Lt(),p={[o]:{type:"text",data:{text:u,type:"h4",textAlignment:"start"},config:{size:"wide"}},[d]:{type:"text",data:{text:i,type:"paragraph",textAlignment:"start"},config:{size:"wide"}},[f]:{type:"attribution",data:{content:"",attribution:s}},[l]:{type:"credits",children:[o,d,f]}};return{creditsId:l,childIds:[o,d,f],nodes:p}}function Mr(u,i="paragraph",s="start"){return{type:"text",data:{type:i,text:u,textAlignment:s},config:{size:"wide"}}}function Ps(u,i,s,l="standard",o="start"){const d={type:"image",data:{image:u},config:{size:l}};return l==="float"&&(d.config.floatAlignment=o),i&&i.trim()&&(d.data.caption=i),s&&s.trim()&&(d.data.alt=s),d}function Tr(u,i=!1,s=1024,l=1024){return i?{type:"image",data:{resourceId:u.split("/").pop()||u,provider:"item-resource",height:l,width:s}}:{type:"image",data:{src:u,provider:"uri",height:l,width:s}}}function wu(u,i,s,l,o){const d={type:"webmap",config:{size:"standard"},data:{map:u}};return o&&(d.data.mapLayers=o.map(f=>({id:f.id,title:f.title||"",visible:f.visible!==void 0?f.visible:!0}))),i&&(d.data.extent=i),s&&(d.data.viewpoint=s),l!==void 0&&(d.data.zoom=l),d}function Rr(u,i="Web Map"){return{type:"webmap",data:{type:"minimal",itemId:u,itemType:i}}}function Au(u,i="video",s="card",l,o,d,f,p,g){const y={type:"embed",config:{size:"standard"},data:{url:u,display:s,embedType:i,isEmbedSupported:!0,embedSrc:u,allowSmallEmbeds:!0}};return l&&(y.data.caption=l),o&&(y.data.alt=o),d&&(y.data.title=d),f&&(y.data.description=f),p&&(y.data.thumbnailUrl=p),g&&(y.data.providerUrl=g),y}function xm(u,i,s,l="square-dynamic"){const o={type:"gallery",config:{size:"standard"},data:{galleryLayout:l},children:u};return i&&i.trim()&&(o.data.caption=i),s&&s.trim()&&(o.data.alt=s),o}function fS(){return{type:"separator",data:{}}}function hS(u="docked-panel"){const i=Lt(),s=Lt(),l=Lt(),o={[i]:{type:"immersive",data:{type:"sidecar",subtype:u},children:[s]},[s]:{type:"immersive-slide",data:{transition:"fade"},children:[l]},[l]:{type:"immersive-narrative-panel",data:{position:"start",size:"small",panelStyle:"themed"},children:[]}};return{sidecarId:i,slideId:s,narrativeId:l,nodes:o}}function pS(u,i,s){u.nodes[i].children||(u.nodes[i].children=[]),u.nodes[i].children.push(s)}function Om(u,i){const s=u.nodes[u.root];s.children||(s.children=[]);const l=s.children.findIndex(o=>u.nodes[o]?.type==="credits");l!==-1?s.children.splice(l,0,i):s.children.push(i)}function mS(u,i,s="",l="",o){const f=u.nodes[u.root].children?.[0];if(f){const p=u.nodes[f];p.data={type:o?"full":"minimal",title:i,summary:s,byline:l,titlePanelVerticalPosition:"top",titlePanelHorizontalPosition:"start",titlePanelStyle:"gradient"},o&&(p.data.image=o)}}function gS(u,i){for(const[s]of Object.entries(u.resources))if(s.type==="story-theme"){oS.includes(i)?(s.data.themeId=i,delete s.data.themeItemId):(s.data.themeItemId=i,delete s.data.themeId);break}}function yS(u,i="2d",s="name",l="worldImagery",o){return{type:"tour-map",data:{geometries:u,mode:i,basemap:{type:s,value:l}}}}function vS(u){return{type:"carousel",children:u.slice(0,5)}}function bS(u,i,s,l="start",o,d,f){return{type:"tour",data:{type:d,subtype:f,narrativePanelPosition:l,map:i,places:u,narrativePanelSize:o,accentColor:s}}}let zr=class{constructor(i="summit"){this.localImages=[],this.storymap=og()}getStorymap(){return this.storymap}getJson(){return this.storymap}addNode(i,s){const l=Lt();return this.storymap.nodes[l]=i,s?pS(this.storymap,s,l):Om(this.storymap,l),l}createDetachedNode(i){const s=Lt();return this.storymap.nodes[s]=i,s}createNarrativePanelDetached(){const i=Lt();return this.storymap.nodes[i]={type:"immersive-narrative-panel",data:{panelStyle:"themed"},children:[]},i}addTextDetached(i,s="paragraph",l="start",o=!0){const d=Mr(i,s,l),f=this.createDetachedNode(d);return o&&(this.storymap.nodes[f].config={size:"wide"}),f}async addImageDetached(i,s,l,o="wide"){let d=1024,f=1024;console.log("[addImageDetached] Checking image dimensions for:",i);try{const b=await L0(i);if(console.log("[addImageDetached] getImageDimensions returned:",b),d=b.width,f=b.height,!d||!f){const S=i.match(/__w(\d+)\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/i);S&&(d=parseInt(S[1],10),f=d,console.log("[addImageDetached] Fallback to filename width:",d))}else console.log("[addImageDetached] No width found in filename, using default 1024")}catch(b){console.warn("[addImageDetached] Could not get image dimensions for",i,b);const S=i.match(/__w(\d+)\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/i);S?(d=parseInt(S[1],10),f=d,console.log("[addImageDetached] Fallback to filename width in catch:",d)):console.log("[addImageDetached] No width found in filename in catch, using default 1024")}console.log("[addImageDetached] Final width/height for",i,d,f);const p=Tr(i,!0,d,f),g=this.addResource(p),y=Ps(g,s,l,o),m=this.createDetachedNode(y);return o==="wide"&&(this.storymap.nodes[m].config={size:"wide"}),m}addSlideToSidecar(i,s,l){if(!this.storymap.nodes[i])throw new Error("Invalid sidecarId");const o=this.createNarrativePanelDetached();l&&l.length&&(this.storymap.nodes[o].children=l);const d=Lt();return this.storymap.nodes[d]={type:"immersive-slide",data:{transition:"fade"},children:s?[o,s]:[o]},this.storymap.nodes[i].children.push(d),{slideId:d,narrativeId:o}}addResource(i){const s=ng();return this.storymap.resources[s]=i,s}addText(i,s="paragraph",l="start",o){const d=Mr(i,s,l);return this.addNode(d,o)}addImage(i,s,l,o="standard",d="start",f,p=!1){const g=Tr(i,p),y=this.addResource(g),m=Ps(y,s,l,o,d);return this.addNode(m,f)}addMap(i,s,l,o,d,f="Web Map",p){const g=Rr(i,f),y=this.addResource(g),m=wu(y,s,l,o,d);return{nodeId:this.addNode(m,p),resourceId:y}}addEmbed(i,s="video",l="card",o,d,f,p,g,y,m){const b=Au(i,s,l,o,d,f,p,g,y);return this.addNode(b,m)}addEmbedDetached(i,s="video",l="card",o,d,f,p,g,y){const m=Au(i,s,l,o,d,f,p,g,y);return this.createDetachedNode(m)}addMapDetached(i,s,l,o,d,f="Web Map"){const p=Rr(i,f),g=this.addResource(p),y=wu(g,s,l,o,d);return{nodeId:this.createDetachedNode(y),resourceId:g}}addGallery(i,s,l,o="square-dynamic",d,f=!1){const p=[];for(const y of i){const m=this.addImage(y,void 0,void 0,"standard","start",void 0,f);p.push(m)}const g=xm(p,s,l,o);return this.addNode(g,d)}async addGalleryDetached(i,s,l,o="square-dynamic",d=!1){const f=[];for(const g of i){const y=await this.addImageDetached(g,void 0,void 0,"standard","start",d);f.push(y)}const p=xm(f,s,l,o);return this.createDetachedNode(p)}addSeparator(i){const s=fS();return this.addNode(s,i)}addSidecar(i="docked-panel"){const{sidecarId:s,slideId:l,narrativeId:o,nodes:d}=hS(i);return Object.assign(this.storymap.nodes,d),Om(this.storymap,s),{sidecarId:s,slideId:l,narrativeId:o}}setCover(i,s="",l="",o){let d;if(o){const f=Tr(o);d=this.addResource(f)}mS(this.storymap,i,s,l,d)}setTheme(i){gS(this.storymap,i)}getLocalImages(){return this.localImages}};function SS(u){return u.includes("www.arcgis.com/sharing/rest/content")||u.includes("//www.arcgis.com/sharing/rest/content")}function _S(u){const i=u.split("/resources/");if(i.length>1){const l=i[1].split("?")[0];return decodeURIComponent(l)}return u.split("/").pop()?.split("?")[0]||"image.jpg"}function TS(u,i){const s=["jpg","jpeg","png","gif","webp","bmp","tif","tiff"];let l=i;if(!l){const d=u.split(".").pop()||"";l=s.includes(d.toLowerCase())?d.toLowerCase():"jpg"}return l==="jpeg"&&(l="jpg"),l==="tiff"&&(l="tif"),`${Math.random().toString(36).substring(2,15)}.${l}`}function uu(u){if(!u)return".jpg";const i=u.toLowerCase();return[".jpg",".jpeg",".png",".gif",".webp",".bmp",".tif",".tiff"].includes(i)?i===".jpeg"?".jpg":i===".tiff"?".tif":i:".jpg"}function ES(u,i,s){if(s){const o=/filename="?([^";]+)"?/i.exec(s);if(o){const f=o[1].toLowerCase().match(/\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/);if(f)return f[0].replace(".jpeg",".jpg").replace(".tiff",".tif")}}const l=u.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/);if(l)return l[0].replace(".jpeg",".jpg").replace(".tiff",".tif");if(i&&/^image\//i.test(i)){const o=i.split("/")[1].toLowerCase();return["jpg","jpeg","png","gif","webp","bmp","tiff","tif"].includes(o)?"."+(o==="jpeg"?"jpg":o==="tiff"?"tif":o):".jpg"}return".bin"}async function wS(u,i){const s=i?`${u}?token=${encodeURIComponent(i)}`:u,l=await fetch(s);if(!l.ok)throw new Error(`Image fetch failed ${l.status}`);const o=l.headers.get("content-disposition")||void 0,d=l.headers.get("content-type")||void 0,f=l.url,p=await l.blob(),g=ES(f,d,o);return{blob:p,extension:g}}async function Vi(u,i,s,l,o){try{console.log("[transferImage] Starting transfer:",{imageUrl:u,filename:o,targetItemId:i});const d=_S(u);let f=".jpg",p;try{const y=await wS(u,SS(u)?l:void 0);p=y.blob,f=uu(y.extension)}catch(y){console.warn("[transferImage] Primary fetch failed, trying proxy:",{imageUrl:u,error:y}),p=await AS(u);const m=d.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/);f=uu(m?m[0]:".jpg")}/^\.(jpg|png|gif|webp|bmp|tif)$/i.test(f)||(f=".jpg");let g;if(o){const y=o.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/);if(y){const m=uu(y[0]);g=o.replace(/\.[^.]+$/i,m)}else g=`${o}${f}`}else g=TS(d,f.replace(".",""));return console.log("[transferImage] Uploading to AGO:",{newResourceName:g,blob:p}),await rg(i,s,p,g,l),console.log("[transferImage] Transfer successful:",{imageUrl:u,newResourceName:g}),{originalUrl:u,resourceName:g,isTransferred:!0}}catch(d){return console.error("[transferImage] Transfer failed:",{imageUrl:u,error:d}),{originalUrl:u,resourceName:u,isTransferred:!1}}}async function ug(u,i,s,l,o){console.log("[transferImages] Starting batch transfer:",{imageUrls:u,targetItemId:i});const d=[];for(let f=0;f<u.length;f++){const p=u[f],g=await Vi(p,i,s,l);d.push(g)}return d}async function AS(u){const s=/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname)?`/.netlify/functions/proxy-image?url=${encodeURIComponent(u)}`:u,l=await fetch(s);if(!l.ok)throw new Error("Failed to fetch image (proxy/direct)");return await l.blob()}function CS(u){const i=new Set;if(u.resources){for(const s of Object.values(u.resources))if(s.type==="image"){const l=s.data?.url||s.data?.src;l&&i.add(l)}}return Array.from(i)}function xS(u){const i=new Set,s=u.values?.story?.sections||[];for(const l of s){l.media&&l.media.type==="image"&&l.media.image?.url&&i.add(l.media.image.url);const o=l.content||l.contents||"",d=new DOMParser().parseFromString(o,"text/html");for(const f of Array.from(d.querySelectorAll("img"))){const p=f.getAttribute("src");p&&i.add(p)}}return Array.from(i)}function Mm(u){if(!u)return;const i=u.match(/__w(\d+)\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/i);return i?parseInt(i[1],10):void 0}function OS(u,i){console.log("[updateImageResourcesInJson] Entering");const s=l=>{let o=decodeURIComponent(l);return o.startsWith("//")&&(o="https:"+o),o};if(console.log("[updateImageResourcesInJson] storymapJson:",u),!u.resources)return console.log("[updateImageResourcesInJson] No resources in storymapJson!"),u;for(const[l,o]of Object.entries(u.resources)){if(console.log("[updateImageResourcesInJson] Resource:",o),o.type!=="image")continue;const d=o.data.url||o.data.src;if(!d){console.log("[updateImageResourcesInJson] SKIPPING: No url or src for",l,o);continue}console.log("[updateImageResourcesInJson] Original URL",d);const f=Object.keys(i).find(p=>s(p)===s(d));if(console.log("[updateImageResourcesInJson] MatchKey",f),f){const p=i[f],g=Mm(d);console.log("[updateImageResourcesInJson] transferred resource:",{resourceId:l,originalUrl:d,transferredName:p,widthFromOriginal:g}),o.data.resourceId=p,delete o.data.url,delete o.data.src,o.data.provider="item-resource",o.data.width=g||1024,o.data.height=g||1024}else{const p=Mm(d);console.log("[updateImageResourcesInJson] WARNING external image:",{resourceId:l,originalUrl:d,widthFromOriginal:p}),o.data.provider="uri",o.data.width=p||1024,o.data.height=p||1024}}return u}class MS{constructor(i,s="summit",l,o,d){this.classicJson=i,this.themeId=s,this.builder=new zr(s),this.username=l,this.token=o,this.targetStoryId=d,ag(this.classicJson,"cascade")}async convert(){const i=this.classicJson.values?.sections||[];if(i.length===0)throw new Error("Cascade story has no sections");for(const f of i)this.processSection(f);this.builder.setTheme(this.themeId);let s=this.builder.getJson();const l=CS(s),o=await ug(l,this.targetStoryId,this.username,this.token),d={};for(const f of o)d[f.originalUrl]=f.resourceName;return s=updateImageUrlsInJson(s,d),this.builder.getJson()}processSection(i){switch(i.type){case"cover":this.processCover(i);break;case"sequence":this.processSequence(i);break;case"immersive":this.processImmersive(i);break;case"title":this.processTitle(i);break;case"credits":cg(i);break}}processCover(i){const s=i.foreground||{},l=i.background||{},o=s.title||"Untitled Story",d=s.subtitle||"",f=l.type;let p;if(f==="image"){const g=l.image?.url;g&&(p=g)}this.builder.setCover(o,d,"",p)}processSequence(i){const l=(i.foreground||{}).blocks||[];for(const o of l)this.processBlock(o)}processImmersive(i){const{sidecarId:s,slideId:l,narrativeId:o}=this.builder.addSidecar("floating-panel"),d=i.views||[];let f=!1;for(const p of d){const g=this.processImmersiveBackground(p),y=[];if(!f){const b=p.foreground?.title?.value||"";if(b){const S=this.builder.addTextDetached(b,"h2","start");y.push(S),f=!0}}const m=p.foreground?.panels||[];for(const b of m){const S=b.blocks||[];for(const w of S){const T=this.processBlock(w,!0);y.push(...T)}}this.builder.addSlideToSidecar(s,g,y)}if(d.length>0){const p=this.builder.getJson(),g=p.nodes[s];if(g.children){const y=g.children.indexOf(l);y!==-1&&g.children.splice(y,1)}delete p.nodes[l],delete p.nodes[o]}}processImmersiveBackground(i){const s=i.background||{},l=s.type;if(l==="image"){const o=s.image?.url||"",d=Tr(o),f=this.builder.addResource(d),p=Ps(f);return this.builder.createDetachedNode(p)}else if(l==="video"||l==="webpage"){const o=s[l]||{};let d=o.url||"";d=wa(d);const f=l==="video"?"video":"link",p=o.caption,g=o.altText,y=o.title,m=o.description,b=Ys(d),S=Au(d,f,"inline",p,g,y,m,void 0,b);return this.builder.createDetachedNode(S)}else if(l==="webmap"){const o=s.webmap||{};return this.createDetachedMapNode(o,"Web Map")}else if(l==="webscene"){const o=s.webscene||{};return this.createDetachedMapNode(o,"Web Scene")}}createDetachedMapNode(i,s){const l=i.id,o=i.extent,d=i.layers||[];let f,p;if(o&&s==="Web Map"){const S=ta(o);S&&(f={targetGeometry:o,scale:S.scale},p=S.zoom)}let g;d.length>0&&(g=d.map(S=>({id:S.id,visible:S.visibility!==void 0?S.visibility:!1})));const y=Rr(l,s),m=this.builder.addResource(y),b=wu(m,o,f,p,g);return this.builder.createDetachedNode(b)}processTitle(i){const s=i.foreground||{},l=i.background||{},o=s.title||"";if(o&&this.builder.addText(o,"h2","center"),l.type==="image"){const d=l.image?.url;d&&this.builder.addImage(d,void 0,void 0,"float")}else this.builder.addSeparator()}processBlock(i,s=!1){switch(i.type){case"text":return this.processTextBlock(i,s);case"image":return this.processImageBlock(i,s);case"video":return this.processVideoBlock(i,s);case"webpage":return this.processWebpageBlock(i,s);case"webmap":return this.processWebmapBlock(i,s);case"webscene":return this.processWebsceneBlock(i,s);case"image-gallery":return this.processGalleryBlock(i,s);default:return[]}}processTextBlock(i,s=!1){const o=(i.text||{}).value||"";if(!o)return[];const f=new DOMParser().parseFromString(o,"text/html"),p=f.body.firstElementChild;if(!p)return[];const g=p.tagName.toLowerCase(),y=cS[g]||"paragraph";let m="center";if(g==="p"){const k=p.getAttribute("style")||"";if(k){const C=k.match(/text-align:\s*([^;]+)/);if(C){const L=C[1].trim();m=uS[L]||"start"}else m="start"}else m="start"}p.querySelectorAll("span").forEach(k=>{if((k.getAttribute("style")||"").includes("color")){const L=k.parentNode;for(;k.firstChild;)L?.insertBefore(k.firstChild,k);L?.removeChild(k)}}),p.querySelectorAll("br").forEach(k=>{k.replaceWith(`
`)}),p.removeAttribute("style"),p.querySelectorAll("b").forEach(k=>{const C=f.createElement("strong");for(;k.firstChild;)C.appendChild(k.firstChild);k.replaceWith(C)}),p.querySelectorAll("i").forEach(k=>{const C=f.createElement("em");for(;k.firstChild;)C.appendChild(k.firstChild);k.replaceWith(C)});let z;if(g==="p"?z=p.innerHTML:z=p.outerHTML,br(z)){const k=s?this.builder.addTextDetached(z,y,m):this.builder.addText(z,y,m);return s?[k]:[]}return[]}processImageBlock(i,s=!1){const l=i.image||{},o=l.url||"",d=l.caption,f=l.altText;if(o)if(d){const p=d.replace(/"/g,""),g=s?this.builder.addImageDetached(o,p,f):this.builder.addImage(o,p,f);return s?[g]:[]}else{const p=s?this.builder.addImageDetached(o,void 0,f):this.builder.addImage(o,void 0,f);return s?[p]:[]}return[]}processVideoBlock(i,s=!1){const l=i.video||{},o=wa(l.url||""),d=l.caption,f=l.altText,p=l.title,g=l.description,y=Ys(o),m=s?this.builder.addEmbedDetached(o,"video","inline",d,f,p,g,void 0,y):this.builder.addEmbed(o,"video","inline",d,f,p,g,void 0,y);return s?[m]:[]}processWebpageBlock(i,s=!1){const l=i.webpage||{},o=wa(l.url||""),d=l.caption,f=l.altText,p=l.title,g=l.description,y=Ys(o),m=s?this.builder.addEmbedDetached(o,"link","card",d,f,p,g,void 0,y):this.builder.addEmbed(o,"link","card",d,f,p,g,void 0,y);return s?[m]:[]}processWebmapBlock(i,s=!1){const l=i.webmap||{},o=s?this.createDetachedMapNode(l,"Web Map"):this.createMapNode(l,"Web Map");return s?[o]:[]}processWebsceneBlock(i,s=!1){const l=i.webscene||{},o=s?this.createDetachedMapNode(l,"webscene"):this.createMapNode(l,"webscene");return s?[o]:[]}createMapNode(i,s){const l=i.id,o=i.extent,d=i.layers||[];let f,p;if(o&&s==="Web Map"){const m=ta(o);m&&(f={targetGeometry:o,scale:m.scale},p=m.zoom)}let g;d.length>0&&(g=d.map(m=>({id:m.id,visible:m.visibility!==void 0?m.visibility:!1})));const{nodeId:y}=this.builder.addMap(l,o,f,p,g,s);return y}processGalleryBlock(i,s=!1){const l=i["image-gallery"]||{},o=l.images||[],d=l.caption,f=l.altText,p=[];for(const g of o){const y=g.url||"";y&&p.push(y)}if(p.length>0){const g=s?this.builder.addGalleryDetached(p,d,f,"square-dynamic"):this.builder.addGallery(p,d,f,"square-dynamic");return s?[g]:[]}return[]}getLocalImages(){return this.builder.getLocalImages()}}class RS{constructor(i,s="summit"){this.classicJson=i,this.themeId=s,this.builder=new StoryMapJSONBuilder(s),this.classicType=this.detectType()}}console.log("[MapJournalConverter] File loaded");class DS{constructor(i,s="summit",l,o,d){console.log("[MapJournalConverter] Constructor called"),this.classicJson=i,this.themeId=s,this.builder=new zr(s),this.username=l,this.token=o,this.targetStoryId=d,ag(this.classicJson,"mapjournal")}async convert(i,s,l){console.log("[MapJournalConverter] Entering convert()");const o=this.classicJson.values?.title||"Untitled Story",{sidecarId:d,slideId:f,narrativeId:p}=this.builder.addSidecar("docked-panel");this.builder.getJson().nodes[d].data.narrativePanelPosition="start",this.builder.getJson().nodes[d].data.narrativePanelSize="small";const g=this.classicJson.values?.story?.sections||[],y=g.length>0;console.log("[MapJournalConverter] # of Journal sections",g.length);for(const w of g)await this.processSection(w,d);if(y){const w=this.builder.getJson(),T=w.nodes[d],z=T.children.indexOf(f);z>-1&&T.children.splice(z,1),delete w.nodes[f],delete w.nodes[p]}this.builder.setCover(`${o}`),console.log("[MapJournalConverter] Cover set"),this.builder.setTheme(this.themeId),console.log("[MapJournalConverter] Theme set");let m=this.builder.getJson();console.log("[MapJournalConverter] Beginning image transfer");const b=xS(this.classicJson);console.log("[MapJournalConverter] imageUrls:",b);const S={};return b.length>0&&this.token&&this.token!==this.username&&((await ug(b,this.targetStoryId,this.username,this.token)).forEach(T=>S[T.originalUrl]=T.resourceName),console.log("[MapJournalConverter] Transfer complete"),console.log("[MapJournalConverter] Transfer results",S),m=OS(m,S)),m}async processSection(i,s){const l=this.processSectionMedia(i),o=await this.buildNarrative(i);this.builder.addSlideToSidecar(s,l,o)}async buildNarrative(i){const s=[],l=i.title||"";if(l){const p=l.replace(/&nbsp;/g,"").trim();if(br(p)){const g=this.builder.addTextDetached(p,"h2","start",!0);s.push(g)}}const o=i.content||"";if(!o)return s;const f=new DOMParser().parseFromString(o,"text/html");for(const p of Array.from(f.body.children)){const g=await this.extractElementNodes(p);s.push(...g)}return s}async extractElementNodes(i){const s=[];if(i.tagName==="FIGURE"){const l=i.querySelector("figure figure");if(l)return this.extractElementNodes(l);const o=i.querySelector("img");if(o){const d=o.getAttribute("src")||"",f=o.getAttribute("alt")||void 0,p=i.querySelector("figcaption");let g;if(p){const y=p.innerHTML.replace(/&nbsp;/g," ").trim();y.length>0&&(g=y)}s.push(await this.builder.addImageDetached(d,g,f,"wide"))}return s}if(i.tagName==="FIGCAPTION")return s;if(i.tagName==="IMG"){const l=i.getAttribute("src")||"",o=i.getAttribute("alt")||void 0;return s.push(await this.builder.addImageDetached(l,void 0,o,"wide")),s}if(i.tagName==="P"){for(const o of i.querySelectorAll("img")){const d=o.getAttribute("src")||"",f=o.getAttribute("alt")||void 0;s.push(await this.builder.addImageDetached(d,void 0,f,"wide"))}let l=Or(i.innerHTML);return/^(\s|&nbsp;|<br\s*\/?>)*$/i.test(l)||(l=l.replace(/&nbsp;/g," ").trim(),br(l)&&s.push(this.builder.addTextDetached(l,"paragraph","start",!0))),s}if(i.classList.contains("image-container")||i.classList.contains("caption")){for(const l of Array.from(i.children)){const o=await this.extractElementNodes(l);s.push(...o)}return s}if(i.classList.contains("iframe-container")){const l=i.querySelector("iframe");if(l){let o=(l.getAttribute("src")||"").trim().replace(/\/$/,"");o=wa(o);const d=i.classList.contains("mj-video-by-url")?"video":"link",f=d==="video"?"inline":"card",p=Ys(o);s.push(this.builder.addEmbedDetached(o,d,f,void 0,void 0,l.getAttribute("title")||void 0,void 0,void 0,p,!0))}return s}if(i.tagName==="DIV"){if(i.querySelector("figure")&&!i.textContent?.trim().replace(/\u00a0/g,"")){for(const o of Array.from(i.children)){const d=await this.extractElementNodes(o);s.push(...d)}return s}let l=Or(i.innerHTML);return/^(\s|&nbsp;|<br\s*\/?>)*$/i.test(l)||(l=l.replace(/&nbsp;/g," ").trim(),br(l)&&s.push(this.builder.addTextDetached(l,"paragraph","start",!0))),s}return s}processSectionMedia(i){const s=i.media;if(!s)return;const l=s.type;if(l==="webmap")return this.processWebmapMedia(s);if(l==="image")return this.processImageMedia(s);if(l==="video"||l==="webpage")return this.processEmbedMedia(s,l)}processWebmapMedia(i){const s=i.webmap;if(!s)return;const l=s.id,o=s.extent,d=s.layers||[];let f,p;if(o){const m=ta(o);m&&(f={targetGeometry:o,scale:m.scale},p=m.zoom)}let g;d.length>0&&(g=d.map(m=>({id:m.id,visible:m.visibility!==void 0?m.visibility:!0})));const{nodeId:y}=this.builder.addMapDetached(l,o,f,p,g,"Web Map");return y}async processImageMedia(i){const s=i.image;if(!s)return;const l=s.url||"",o=s.altText||void 0,d=s.caption||void 0;return await this.builder.addImageDetached(l,d,o)}processEmbedMedia(i,s){const l=i[s];if(!l)return;let o=l.url||"";if(l.frameTag){const T=new DOMParser().parseFromString(l.frameTag,"text/html").querySelector("iframe");T?.src&&(o=T.src)}o=wa(o.trim().replace(/\/$/,""));const d=dS[s]||"link",f=l.altText,p=l.title,g=l.description,y=l.caption,m=Ys(o);return this.builder.addEmbedDetached(o,d,"inline",y,f,p,g,void 0,m)}getLocalImages(){return this.builder.getLocalImages()}}class NS{constructor(i,s="summit"){this.classicJson=i,this.themeId=s}convert(){const i=this.classicJson.values||{},s=i.story?.entries||[],l=i.title||"Untitled Story",o=i.subtitle||"",f=i.settings?.theme?.colors?.group==="dark"?"obsidian":"summit",p=s.map((y,m)=>{const b=new zr(f);b.setCover(`(CONVERSION) ${y.title||l} [${m+1}]`,o,"",void 0,{isHidden:!0});const S=y.description||y.content||"",w=I0(S),T=b.addTextDetached(w,"paragraph","start");let z;return y.media&&(z=this.processMedia(y.media,b)),b.addSlideToSidecar(z,[T]),b.setTheme(f),b.getJson()}),g={title:`(CONVERSION) ${l}`,description:o,theme:f,items:p.map((y,m)=>({title:y.rootTitle||`Entry ${m+1}`,id:y.root}))};return{storymaps:p,collection:g}}async processMedia(i,s){const l=i.type;if(l==="image"&&i.image?.url){const o=wa(i.image.url);return await s.addImageDetached(o,i.image.caption,i.image.alt,"wide")}else if(l==="webmap"&&i.webmap?.id){const o=i.webmap.id,d=i.webmap.extent,f=i.webmap.layers||[];return s.addMapDetached(o,d,void 0,void 0,f,"webmap").nodeId}else if(l==="webpage"&&i.webpage?.url){const o=wa(i.webpage.url);return s.addEmbedDetached(o,"link","inline",i.webpage.caption,i.webpage.alt,i.webpage.title,i.webpage.description,void 0,void 0)}}}var US={};const Rm=typeof import.meta<"u"&&"/.netlify/functions"||US.VITE_PROXY_BASE_URL||"",jS=["pic_url","Pic_url","PIC_URL","url","Url","URL"],LS=["thumb_url","Thumb_url","THUMB_URL"],zS=["name","Name","NAME","title","Title","TITLE"],IS=["description","Description","DESCRIPTION","desc","Desc","DESC","desc1","Desc1","DESC1","caption","Caption","CAPTION","FULL_Caption"],kS=["long","Long","LONG","LON","longitude","Longitude","LONGITUDE","x"],BS=["lat","Lat","LAT","latitude","Latitude","LATITUDE","y"];class $S{constructor(i,s="summit",l="",o="",d=""){this.uploadedResources={},console.log("[MapTourConverter] Constructor targetStoryId:",d),this.classicJson=i,this.themeId=s,this.username=l,this.token=o,this.targetStoryId=d,this.builder=new zr(s),this.detectTheme()}detectTheme(){try{const i=this.classicJson.values?.settings?.theme?.colors?.themeMajor,s={dark:"obsidian",light:"summit"};i&&s[i]&&(this.themeId=s[i])}catch{}}getRootNodeId(){return this.builder.getStorymap().root}setRootChildren(i){this.builder.getStorymap().nodes[this.getRootNodeId()].children=i}getStorymapId(){return console.log("[MapTourConverter] getStorymapId:",this.targetStoryId),this.targetStoryId}stripHtml(i){return i.replace(/<[^>]*>/g,"")}summarize(i,s=240){const l=this.stripHtml(i).replace(/\s+/g," ").trim();return l?l.length>s?l.slice(0,s).trim()+"":l:""}async convert(){const s=this.classicJson.values||{},l=s.layout||"integrated",o=s.title||"Untitled Story",d=s.subtitle||"",f=s.placardPosition||"start",p=s.firstRecordAsIntro===!0,g="#f9f794",y=await this.extractFeatures(),m=[],b=this.getRootNodeId(),S=this.builder.getStorymap().nodes,w=Object.keys(S).find(Z=>S[Z]?.type==="storycover"),T=Object.keys(S).find(Z=>S[Z]?.type==="navigation"),{creditsId:z,childIds:k,nodes:C}=cg("","","");Object.assign(S,C),w&&m.push(w),T&&m.push(T);const L=S[b].children||[],M=L.find(Z=>S[Z]?.type==="credits"&&Z!==z);if(M){delete S[M];const Z=L.indexOf(M);Z!==-1&&L.splice(Z,1)}const Y=y.map(Z=>({id:this.getFeatureId(Z.attributes),...Z.attributes,geometry:Z.geometry})),K=Array.isArray(s.order)?s.order:[];let H;if(K.length>0&&Y.length>0){const Z=Object.fromEntries(Y.map(Se=>[String(Se.id),Se]));H=K.map(Se=>{const He=Z[String(Se.id)];if(He)return{...He,visible:Se.visible!==!1}}).filter(Boolean)}else H=Y;const V={};for(const Z of y){const Se=this.getFeatureId(Z.attributes);Se&&(V[Se]=Z)}const P=H.map(Z=>V[String(Z.id)]).filter(Boolean);console.log("Number of places:",P.length);for(let Z=0;Z<P.length;Z++){const Se=P[Z],He=this.getFeatureId(Se.attributes);if(!He)continue;const Tt=Se.attributes||{},xe=ki(Tt,Array.from(jS),""),Rt=ki(Tt,Array.from(LS),""),Dt=this.generateUniqueFilename(He,"image",xe),Yt=Rt?this.generateUniqueFilename(He,"thumb",Rt):"";let X;if(xe)if(!this.targetStoryId||!this.token)X=this.builder.addResource({type:"image",data:{src:wa(xe),provider:"uri",height:1024,width:1024}});else{console.log("[MapTourConverter] Preparing to transfer image:",{imageUrl:xe,imageFilename:Dt});const be=await this.transferSingleImage(xe,Dt);console.log("[MapTourConverter] Image transfer result:",be),X=this.builder.addResource({type:"image",data:{resourceId:be.resourceName,provider:"item-resource",height:1024,width:1024}}),console.log("[MapTourConverter] Added image resource:",{imageResourceId:X,resourceName:be.resourceName})}let re;this.uploadedResources[He]={imageUrl:xe,thumbUrl:Rt,imageFilename:Dt,thumbFilename:Yt,imageResourceId:X,thumbResourceId:re}}const pe=[],me={};let le,ne,oe;for(let Z=0;Z<P.length;Z++){const Se=P[Z],He=Se.attributes||{},Tt=this.getFeatureId(He),xe=ki(He,Array.from(zS),`Place ${Z+1}`),Rt=ki(He,Array.from(IS),""),Dt=H[Z]?.visible!==!1,Yt=this.getFeatureCoords(Se);if(!Yt)continue;let{long:X,lat:re}=Yt;this.isWebMercator(X,re)&&([X,re]=this.webMercatorToWgs84(X,re));const be=Tt?this.uploadedResources[Tt]:void 0,je=be?.imageResourceId?this.builder.createDetachedNode(Ps(be.imageResourceId,void 0,void 0,"standard","start")):void 0,ze=be?.thumbResourceId?this.builder.createDetachedNode(Ps(be.thumbResourceId,void 0,void 0,"standard","start")):void 0,qe=[];je&&qe.push(je),ze&&qe.push(ze),Z===0&&be?.imageResourceId&&(le=be.imageResourceId);const rt=this.builder.createDetachedNode(vS(qe)),Nt=this.builder.createDetachedNode(Mr(xe,"h3","start")),Le=this.builder.createDetachedNode(Mr(Rt,"paragraph","start")),bt=[Le];Z===0&&(ne=xe,oe=Rt);const Aa=z0();Yt&&Yt.long!==void 0&&Yt.lat!==void 0&&(me[Aa]={id:Aa,type:"POINT_NUMBERED_TOUR",nodes:[{long:X,lat:re}],scale:4514,viewpoint:{}}),je&&m.push(je),ze&&m.push(ze),m.push(rt),m.push(Nt),m.push(Le),pe.push({id:Lt(),featureId:Aa,contents:bt,media:rt,title:Nt,config:Dt?void 0:{isHidden:!0}})}const Ue=this.classicJson.webmapJson||s.webmapJson||{},Ce=this.classicJson.webmap||s.webmap,O=yS(me);if(Ue&&typeof Ue.version=="string"&&parseFloat(Ue.version)<2){const Z=Ue.baseMap?.title?.toLowerCase()||"topographic";O.data.basemap={type:"name",value:Z}}else if(Ce){const Z=this.builder.addResource(Rr(Ce));O.data.basemap={type:"resource",value:Z}}const I=this.builder.createDetachedNode(O),W={"three-panel":{tourType:"guided-tour",subtype:"media-focused"},"side-panel":{tourType:"guided-tour",subtype:"media-focused"},integrated:{tourType:"guided-tour",subtype:"map-focused"}};let ue,ee;if(pe.length>15)ue="explorer",ee="grid";else{const Z=W[l]||{tourType:"explorer",subtype:"grid"};ue=Z.tourType,ee=Z.subtype}const E=bS(pe,I,g,f,"large",ue,ee),N=this.builder.createDetachedNode(E);m.push(I),m.push(N);for(const Z of k)m.push(Z);m.push(z),m.push(b);const $=this.builder.getStorymap().nodes,Q={};for(const Z of m)$[Z]&&(Q[Z]=$[Z]);for(const Z of Object.keys($))Q[Z]||(Q[Z]=$[Z]);this.builder.getStorymap().nodes=Q,this.setRootChildren([w,T,N,I,z].filter(Boolean));const ie=p&&ne?ne:o,te=p&&oe?this.summarize(oe):d;if(this.builder.setCover(`(CONVERSION) ${ie}`,te),p&&le&&w)try{const Z=S[w];Z?.data&&(Z.data.image=le,Z.data.type="full")}catch{}return this.builder.setTheme(this.themeId),this.builder.getJson()}async extractFeatures(){const i=this.classicJson.values||{},l=(this.classicJson.webmapJson||i.webmapJson||{}).operationalLayers||[],o=this.classicJson.sourceLayer||i.sourceLayer;if(o)for(const p of l){const g=p.id||"";if(g===o||g.includes(o)||o.includes(g)){if(p.featureCollection){for(const m of p.featureCollection.layers||[])if(m.featureSet&&Array.isArray(m.featureSet.features))return m.featureSet.features}const y=p.url||p.URL;if(y)try{const m=`${wa(y)}/query?where=1=1&outFields=*&f=json`,b=`${Rm}/proxy-feature?url=${encodeURIComponent(m)}`,S=await fetch(b);if(S.ok){const w=await S.json();if(w.features)return w.features}}catch(m){console.error("Error fetching features from feature service:",m)}}}const d=["map tour layer","maptour-layer","maptour layer","map tour","maptour"];for(const p of l){const g=(p.title||"").toLowerCase();if(d.some(y=>g.includes(y))||/^maptour-layer/i.test(p.id||"")){if(p.featureCollection){for(const m of p.featureCollection.layers||[])if(m.featureSet&&Array.isArray(m.featureSet.features))return m.featureSet.features}const y=p.url||p.URL;if(y)try{const m=`${wa(y)}/query?where=1=1&outFields=*&f=json`,b=`${Rm}/proxy-feature?url=${encodeURIComponent(m)}`,S=await fetch(b);if(S.ok){const w=await S.json();if(w.features)return w.features}}catch(m){console.error("Error fetching features from feature service:",m)}}}const f=i.webmap||this.classicJson.webmap;if(f)try{const p=`https://www.arcgis.com/sharing/rest/content/items/${f}/data?f=json`,g=await fetch(p);if(g.ok){const m=(await g.json()).operationalLayers||[];for(const b of m)if(b.featureCollection){for(const S of b.featureCollection.layers||[])if(S.featureSet&&Array.isArray(S.featureSet.features))return S.featureSet.features}}}catch(p){console.warn("[MapTourConverter] Live webmap fetch failed:",p.message)}return[]}getFeatureId(i){for(const s of["__OBJECTID","objectid","id","ID","FID","fid","ObjectID","Object_Id","OBJECTID","OBJECTID_1"])if(i[s]!==void 0&&i[s]!==null)return String(i[s]).trim()}isWebMercator(i,s){return Math.abs(i)>180||Math.abs(s)>90}webMercatorToWgs84(i,s){const o=i/6378137*180/Math.PI;let d=s/6378137*180/Math.PI;return d=180/Math.PI*(2*Math.atan(Math.exp(d*Math.PI/180))-Math.PI/2),[o,d]}generateUniqueFilename(i,s,l){const o=l.match(/\.([a-zA-Z0-9]+)(\?|$)/),d=o?o[1]:"jpg",f=Math.random().toString(36).substring(2,8);return`place_${i.padStart(3,"0")}_${s}_${f}.${d}`}async transferSingleImage(i,s){if(!this.getStorymapId())throw new Error("Target StoryMap item ID is missing!");return await Vi(i,this.getStorymapId(),this.username,this.token,s)}getFeatureCoords(i){const s=i.attributes||{},l=ki(s,Array.from(kS),""),o=ki(s,Array.from(BS),""),d=Number(l),f=Number(o);if(!isNaN(d)&&!isNaN(f)&&d!==0&&f!==0)return{long:d,lat:f};if(i.geometry&&typeof i.geometry.x=="number"&&typeof i.geometry.y=="number")return{long:i.geometry.x,lat:i.geometry.y};console.warn("No valid coordinates found for feature",i)}}class HS{constructor(i,s="summit"){this.classicJson=i,this.themeId=s,this.builder=new StoryMapJSONBuilder(s),this.classicType=this.detectType()}}class qS{constructor(i,s="summit"){this.classicJson=i,this.themeId=s,this.builder=new StoryMapJSONBuilder(s),this.classicType=this.detectType()}detectType(){return"swipe"}}class VS{static getConverter(i,s="summit",l,o,d){if(!i.values)throw new Error('Invalid classic story JSON: missing "values" key');const p=tg(i);switch(p){case"maptour":return new $S(i,s,l||"",o||"",d||"");case"mapjournal":return new DS(i,s,l||"",o||"",d||"");case"mapseries":return new NS(i,s,l||"",o||"",d||"");case"cascade":return new MS(i,s,l||"",o||"",d||"");case"swipe":return new qS(i,s,l||"",o||"",d||"");case"shortlist":return new HS(i,s,l||"",o||"",d||"");case"crowdsource":return new RS(i,s,l||"",o||"",d||"");case"basic":return new rS(i,s,l||"",o||"",d||"");default:throw new Error(`Unknown classic story type: ${p}`)}}}async function GS(u,i="summit",s,l,o){const d=tg(u);return["mapjournal","map tour","tour","swipe"].includes(d)?(await _r({classicJson:u,storyId:o,classicItemId:"",username:s,token:l,themeId:i,progress:m=>{},isCancelled:()=>!1,uploader:async()=>({originalUrl:"",resourceName:"",transferred:!1})})).storymapJson:await VS.getConverter(u,i,s,l,o).convert(s,l,o)}async function JS(u,i,s){const d=["StoryMap",`smdraftresourceid:${`draft_${Date.now()}.json`}`,"smstatusdraft","smeditorapp:converter-v3alpha"],f=og(),p=new URLSearchParams({f:"json",type:"StoryMap",title:s,text:JSON.stringify(f),typeKeywords:d.join(","),token:i}),y=await(await fetch(`https://www.arcgis.com/sharing/rest/content/users/${u}/addItem`,{method:"POST",body:p})).json();if(!y.success)throw new Error(y.error?.message||"Failed to create StoryMap");return y.id}function FS(){const[u,i]=he.useState(!1),[s,l]=he.useState(!1),o=he.useRef(!1),[d,f]=he.useState(!1),[p,g]=he.useState(!1),y=Pm(),{token:m,userInfo:b}=Lr(),[S,w]=he.useState(""),[T,z]=he.useState("idle"),[k,C]=he.useState(""),[L,M]=he.useState(""),[Y,K]=he.useState("Convert"),[H,V]=he.useState(()=>{try{return localStorage.getItem("converter-refactor-pref")==="1"}catch{return!1}}),P=H||y,pe=()=>{if(o.current)throw new Error("Conversion cancelled by user intervention")},me=he.useCallback(()=>{o.current||!window.confirm("Cancel conversion in progress? This will stop further processing.")||(o.current=!0,l(!0),z("error"),C("Conversion cancelled by user intervention"),i(!1),K("Convert"))},[K,C,z,i,l]);he.useEffect(()=>{console.info(`[Converter] Pipeline selected: ${P?"refactor":"legacy"} (override=${H})`)},[P,H]),he.useEffect(()=>{try{localStorage.setItem("converter-refactor-pref",H?"1":"0")}catch{}},[H]),he.useEffect(()=>{const X=()=>{const re=window.innerWidth,be="ontouchstart"in window||navigator.maxTouchPoints>0;g(re<768||be)};return X(),window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]),he.useEffect(()=>{if(!(!o.current&&["fetching","converting","transferring","updating"].includes(T)))return;const re=be=>{be.key==="Escape"&&me()};return window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)},[T,me]);const[le,ne]=he.useState(null),[oe,Ue]=he.useState(null),[Ce,O]=he.useState([]),I="https://www.arcgis.com",[W,ue]=he.useState(I),ee=he.useRef(null),E=he.useRef(!1),[N,$]=he.useState(!1),[Q,ie]=he.useState([]),[te,de]=he.useState(null),[Z,Se]=he.useState({}),He=he.useCallback(()=>{const X=typeof b=="object"&&b?b:{},re=X.orgUrl||X.org?.url||"";try{if(typeof re=="string"&&re.length){const je=new URL(re).hostname,ze=/^(.*)\.maps\.arcgis\.com$/i.exec(je);return ze&&ze[1]?`${ze[1]}.maps.arcgis.com`:je}}catch{}return"www.arcgis.com"},[b]),Tt=he.useCallback((X,re)=>{const be=He(),je=re&&re!==I?re:`https://${be}`;return X.map(ze=>{const qe=ze.itemId,rt=ze.message||"";if(/version\s*([0-9]+(?:\.[0-9]+)?)\s*<\s*2\.0/i.test(rt)){const Le=`ERROR: Item [${qe}] Unsupported web map version: You must update the web map to the latest version. You can do this by opening the map in <a href="${je}/home/webmap/viewer.html?webmap=${qe}" target="_blank" rel="noopener noreferrer">Map Viewer Classic</a> and save it. No other changes are necessary to resolve this error.`;return{...ze,level:"error",message:Le}}if(/HTTP URL|http:\/\//i.test(rt)){const Le=`Unsupported protocol: You must update the web map to use https service urls. You can do this by opening the web map item's <a href="${je}/home/item.html?id=${qe}#settings" target="_blank" rel="noopener noreferrer">settings page</a> scrolling down to the Web map section and clicking the "Update layers to HTTPS" button`;return{...ze,message:Le}}const Nt=/Map Viewer Classic\s*<\s*link\s*=\s*(https?:[^\s>]+)\s*>/i.exec(rt);if(Nt){const Le=Nt[1],bt=rt.replace(Nt[0],`<a href="${Le}" target="_blank" rel="noopener noreferrer">Map Viewer Classic</a>`);return{...ze,message:bt}}if(/https:\/\/<org_url>\.arcgis\.com/i.test(rt)){const Le=rt.replace(/https:\/\/<org_url>\.arcgis\.com/gi,je);return{...ze,message:Le}}if(/https:\/\/www\.arcgis\.com/i.test(rt)&&je&&je!==I){const Le=rt.replace(/https:\/\/www\.arcgis\.com/gi,je);return{...ze,message:Le}}return ze})},[He]),xe=X=>{if(!X)return"";const re=He();return/^[a-f0-9]{32}$/i.test(X)?`https://${re}/home/item.html?id=${X}`:""};he.useEffect(()=>{if(!m){ue(I),ee.current=null,E.current=!1;return}ee.current&&ee.current!==m&&(ue(I),E.current=!1),ee.current=m},[m]),he.useEffect(()=>{try{const re=`https://${He()}`;m&&re&&W!==re&&ue(re)}catch{}},[m,b,W,He]),he.useEffect(()=>{!m||E.current||(async()=>{try{const X=await fetch(`https://www.arcgis.com/sharing/rest/portals/self?f=json&token=${encodeURIComponent(m)}`);if(!X.ok)return;const re=await X.json(),be=re?.urlKey,je=re?.customBaseUrl;let ze="";if(be&&je)ze=`https://${be}.${je}`;else if(re?.portalHostname){const qe=re.portalHostname;ze=/^https?:/i.test(qe)?qe:`https://${qe}`}ze&&W!==ze&&ue(ze)}catch{}finally{E.current=!0}})()},[m,W]),he.useEffect(()=>{Ce.length&&W&&W!==I&&O(X=>X.map(re=>({...re,message:(re.message||"").replace(/https:\/\/www\.arcgis\.com/gi,W)})))},[W,Ce.length]);const Rt=X=>/^[a-f0-9]{32}$/i.test(X.trim()),Dt=he.useCallback(async()=>{if(W&&W!==I)return W;const X=He();let re=`https://${X}`;if(m&&/www\.arcgis\.com$/i.test(X))try{const be=await fetch(`https://www.arcgis.com/sharing/rest/portals/self?f=json&token=${encodeURIComponent(m)}`);if(be.ok){const je=await be.json(),ze=je?.urlKey,qe=je?.customBaseUrl;if(ze&&qe)re=`https://${ze}.${qe}`;else if(je?.portalHostname){const rt=je.portalHostname;re=/^https?:/i.test(rt)?rt:`https://${rt}`}}}catch{}return re&&re!==W&&ue(re),re},[W,m,He]),Yt=async()=>{if(console.debug("[Converter] refactorActive?",P,"override?",H,"urlFlag?",y),z("idle"),C(""),M(""),K("Convert"),o.current=!1,l(!1),oe?.url&&URL.revokeObjectURL(oe.url),Ue(null),!Rt(S)){z("error"),C("Incorrect Classic Story Map item id format - please enter a 32 character hex string");return}if(!m){z("error"),C("You must be signed in to ArcGIS Online or ArcGIS Enterprise");return}try{z("fetching"),C("Getting user information...");const X=b?.username||"";C("Fetching classic story data...");const re=await Cm(S,m);pe();let be=null;try{be=Bu(re),ne(be),C(`Detected template: ${be}. Preparing resources...`)}catch{be=null,ne(null)}if(re.values?.webmap){C("Fetching classic webmap data...");const Ye=re.values?.webmap;re.webmapJson=await Cm(Ye,m),pe()}C("Creating new StoryMap draft...");const je=re.values?.title||"Untitled Story",ze=`(Converted) ${je}`,qe=await JS(X,m,ze);pe(),C("Mapping theme overrides (inline resource)...");const rt=[];re.values?.webmap&&rt.push(re.values.webmap);try{const Ye=re.values?.story?.sections||re.sections||[];for(const Ie of Ye){Ie?.media?.webmap?.id&&rt.push(Ie.media.webmap.id);const et=Ie?.media?.webpage?.url||"",ve=/[?&#](?:appid|appId)=([a-f0-9]{32})/i.exec(String(et))?.[1];if(ve)try{const se=`https://www.arcgis.com/sharing/rest/content/items/${ve}/data?f=json`,_e=m?`${se}&token=${encodeURIComponent(m)}`:se,Ae=await fetch(_e);if(Ae.ok){const Ut=await Ae.json(),it=Array.isArray(Ut?.values?.webmaps)?Ut.values.webmaps:[];for(const It of it)typeof It=="string"&&rt.push(It)}}catch{}}}catch{}let Nt=[];try{const Ye=await Dt(),{warnings:Ie,endpointChecks:et,endpointCategorySummary:ge}=await aS(rt,m);Nt=Ie.map(ve=>({itemId:ve.itemId,level:ve.level,message:ve.message,details:ve&&typeof ve=="object"&&"details"in ve?ve.details:void 0})),Nt=Tt(Nt,Ye),O(Nt),ie(et),de(ge||null),Nt.length>0&&$(!0)}catch{}if(!o.current&&Nt.length===0)try{C("Running backend diagnostics...");const Ye=`/.netlify/functions/convert-mapjournal?itemId=${S}&diagnostics=1${m?`&token=${encodeURIComponent(m)}`:""}`,Ie=await fetch(Ye);if(Ie.ok){const ge=(await Ie.json())?.validation||{},ve=Array.isArray(ge.warnings)?ge.warnings:[],se=Array.isArray(ge.endpointChecks)?ge.endpointChecks:[],_e=ge.endpointCategorySummary||null;if(ve.length||se.some(Ae=>!Ae.ok)){const Ae=await Dt(),Ut=Tt(ve.map(it=>({itemId:it.itemId,level:it.level,message:it.message,details:it.details})),Ae);O(Ut),ie(se),de(_e)}}}catch{}finally{$(!0)}Nt.length>0&&$(!0),z("converting");const Le=be||le||"story";K(`Converting ${Le}: ${je}...`),C(P?`[Refactor][${Le}] Converting ${Le}: "${je}" via new pipeline...`:`Converting ${Le} story to new format...`);let bt;if(P)if(Le.toLowerCase()==="swipe")try{bt=(await _r({classicJson:re,storyId:qe,classicItemId:S,username:X,token:m,themeId:"summit",progress:ge=>{if(o.current)return;const ve=/\(\s*\d+\s*\/\s*\d+\s*\)\s*$/.test(ge.message),se=ge.total&&!ve?`${ge.message} (${ge.current}/${ge.total})`:ge.message;switch(ge.stage){case"media":z("transferring"),C(se);break;case"convert":z("converting"),C(se);break;case"finalize":z("updating"),C(se);break;case"error":z("error"),C(se);break;case"done":z("success"),C(se);break;default:C(se)}},isCancelled:()=>o.current,uploader:async(ge,ve,se,_e)=>{if(o.current)throw new Error("Conversion cancelled by user intervention");const Ae=await Vi(ge,ve,se,_e);return{originalUrl:ge,resourceName:Ae.resourceName,transferred:!!Ae.isTransferred}}})).storymapJson}catch(Ie){z("error"),C(`Swipe conversion failed: ${Ie?.message||"Unknown error"}`);return}else try{C("Requesting server-side conversion...");const Ie=await tS(S,m),et=Ie?.storymapJson;if(et&&et.nodes){const ge=async(se,_e,Ae,Ut)=>{if(o.current)throw new Error("Conversion cancelled by user intervention");const it=await Vi(se,_e,Ae,Ut);return{originalUrl:se,resourceName:it.resourceName,transferred:!!it.isTransferred}},ve=await sg.transferBatch({urls:Ie.mediaUrls||[],storyId:qe,username:X,token:m,progress:se=>{o.current||(z("transferring"),C(se.message))},uploader:ge,isCancelled:()=>o.current});bt=lg.apply(et,ve);try{const se=bt,_e=se.resources||{},Ae=Object.entries(_e).filter(([,st])=>st?.type==="image"),it=(st=>{const Xe=[];return async Ge=>{Xe.length>=st&&await Promise.race(Xe);const dt=Ge().finally(()=>{const aa=Xe.indexOf(dt);aa>-1&&Xe.splice(aa,1)});return Xe.push(dt),dt}})(6),It=(st,Xe=2500)=>{const Ge=new AbortController,dt=setTimeout(()=>Ge.abort(),Xe);return fetch(st,{signal:Ge.signal}).finally(()=>clearTimeout(dt))},Za=window.location.origin,Ka=Ae.map(([st,Xe])=>it(async()=>{const Ge=Xe.data||{},dt=Ge.src||"",aa=typeof Ge.width=="number"&&typeof Ge.height=="number";if(!dt||aa)return;let Ca=dt;try{const St=new URL(dt);if(/arcgis\.com$/i.test(St.hostname)&&/\/sharing\/rest\/content\/items\//.test(St.pathname)&&m){const va=new URLSearchParams(St.search);va.has("token")||(va.set("token",m),St.search=va.toString(),Ca=St.toString())}}catch{}const xa=`${Za}/.netlify/functions/image-dimensions?url=${encodeURIComponent(Ca)}`;try{const St=await It(xa,2500);if(!St.ok)return;const pt=await St.json();pt&&(pt.width||pt.height)&&(pt.width&&(Ge.width=pt.width),pt.height&&(Ge.height=pt.height),Xe.data=Ge,_e[st]=Xe)}catch{}}));await Promise.all(Ka),se.resources=_e}catch{}}else{bt=(await _r({classicJson:re,storyId:qe,classicItemId:S,username:X,token:m,themeId:"summit",progress:se=>{if(o.current)return;const _e=/\(\s*\d+\s*\/\s*\d+\s*\)\s*$/.test(se.message),Ae=se.total&&!_e?`${se.message} (${se.current}/${se.total})`:se.message;switch(se.stage){case"media":z("transferring"),C(Ae);break;case"convert":z("converting"),C(Ae);break;case"finalize":z("updating"),C(Ae);break;case"error":z("error"),C(Ae);break;case"done":z("success"),C(Ae);break;default:C(Ae)}},isCancelled:()=>o.current,uploader:async(se,_e,Ae,Ut)=>{if(o.current)throw new Error("Conversion cancelled by user intervention");const it=await Vi(se,_e,Ae,Ut);return{originalUrl:se,resourceName:it.resourceName,transferred:!!it.isTransferred}}})).storymapJson;try{const se=bt,_e=se.resources||{},Ae=Object.entries(_e).filter(([,st])=>st?.type==="image"),it=(st=>{const Xe=[];return async Ge=>{Xe.length>=st&&await Promise.race(Xe);const dt=Ge().finally(()=>{const aa=Xe.indexOf(dt);aa>-1&&Xe.splice(aa,1)});return Xe.push(dt),dt}})(6),It=(st,Xe=2500)=>{const Ge=new AbortController,dt=setTimeout(()=>Ge.abort(),Xe);return fetch(st,{signal:Ge.signal}).finally(()=>clearTimeout(dt))},Za=window.location.origin,Ka=Ae.map(([st,Xe])=>it(async()=>{const Ge=Xe.data||{},dt=Ge.src||"",aa=typeof Ge.width=="number"&&typeof Ge.height=="number";if(!dt||aa)return;let Ca=dt;try{const St=new URL(dt);if(/arcgis\.com$/i.test(St.hostname)&&/\/sharing\/rest\/content\/items\//.test(St.pathname)&&m){const va=new URLSearchParams(St.search);va.has("token")||(va.set("token",m),St.search=va.toString(),Ca=St.toString())}}catch{}const xa=`${Za}/.netlify/functions/image-dimensions?url=${encodeURIComponent(Ca)}`;try{const St=await It(xa,2500);if(!St.ok)return;const pt=await St.json();pt&&(pt.width||pt.height)&&(pt.width&&(Ge.width=pt.width),pt.height&&(Ge.height=pt.height),Xe.data=Ge,_e[st]=Xe)}catch{}}));await Promise.all(Ka),se.resources=_e}catch{}}}catch{bt=(await _r({classicJson:re,storyId:qe,classicItemId:S,username:X,token:m,themeId:"summit",progress:ge=>{if(o.current)return;const ve=/\(\s*\d+\s*\/\s*\d+\s*\)\s*$/.test(ge.message),se=ge.total&&!ve?`${ge.message} (${ge.current}/${ge.total})`:ge.message;switch(ge.stage){case"media":z("transferring"),C(se);break;case"convert":z("converting"),C(se);break;case"finalize":z("updating"),C(se);break;case"error":z("error"),C(se);break;case"done":z("success"),C(se);break;default:C(se)}},isCancelled:()=>o.current,uploader:async(ge,ve,se,_e)=>{if(o.current)throw new Error("Conversion cancelled by user intervention");const Ae=await Vi(ge,ve,se,_e);return{originalUrl:ge,resourceName:Ae.resourceName,transferred:!!Ae.isTransferred}}})).storymapJson}else bt=await GS(re,"summit",X,m,qe);pe();try{const Ye=bt?.resources&&Object.values(bt.resources).find(_e=>_e.type==="converter-metadata"),Ie=Ye?.data?.classicMetadata?.mappingDecisions?.customCss?.combined;if(Ie){const _e=new Blob([Ie],{type:"text/css"}),Ae=URL.createObjectURL(_e);Ue({css:Ie,url:Ae})}const et=Ye?.data?.classicMetadata?.webmapVersionWarnings,ge=Ye?.data?.classicMetadata?.webmapProtocolWarnings,ve=[],se=W;if(Array.isArray(et)&&ve.push(...et),Array.isArray(ge)&&ve.push(...ge),ve.length){const _e=ve.map(Ae=>({itemId:Ae.itemId,message:Ae.message.replace(/https:\/\/<org_url>\.arcgis\.com/gi,se)}));O(Ae=>{const Ut=[...Ae];for(const it of _e)Ut.some(It=>It.itemId===it.itemId&&It.message===it.message)||Ut.push({itemId:it.itemId,level:"warning",message:it.message});return Ut})}}catch{}try{if(Array.isArray(Ce)&&Ce.length){const Ye=bt,Ie=Ye.resources||{},et=Object.entries(Ie).find(([,ge])=>ge&&ge.type==="converter-metadata");if(et){const[ge,ve]=et,se=ve.data||{},_e=se.classicMetadata||{};_e.webmapChecks=Ce.map(Ae=>({itemId:Ae.itemId,level:Ae.level,message:Ae.message,refactor:P})),se.classicMetadata=_e,ve.data=se,Ie[ge]=ve,Ye.resources=Ie}else{const ge=`r-converter-metadata-${Date.now()}`,ve={type:"converter-metadata",data:{classicMetadata:{webmapChecks:Ce.map(se=>({itemId:se.itemId,level:se.level,message:se.message,refactor:P}))}}};Ie[ge]=ve,Ye.resources=Ie}}}catch{}z("updating"),C("Fetching target storymap details...");const Aa=await nS(qe,m);pe();const Qa=lS(Aa);if(!Qa)throw new Error("Could not find draft resource in target storymap. Make sure it is a draft storymap.");C(`Removing old draft resource (${Qa})...`),await iS(qe,X,Qa,m),pe(),C(`Uploading new draft resource (${Qa})...`);try{const Ie=bt.nodes||{};for(const[,et]of Object.entries(Ie))if(et?.type==="action-button"&&et.dependents){for(const ge of Object.keys(et.dependents))/^actionMedia_content_/.test(ge)&&delete et.dependents[ge];Object.keys(et.dependents).length===0&&delete et.dependents}}catch{}const Pn=new Blob([JSON.stringify(bt)],{type:"application/json"});await rg(qe,X,Pn,Qa,m),pe(),C("Updating keywords...");const il=Aa.typeKeywords||[];if(!il.includes("smconverter:online-app")){const Ye=[...il,"smconverter:online-app"];await sS(qe,X,Ye,m),pe()}pe(),z("success"),C("Classic "+Le+":  "+je),M(`https://storymaps.arcgis.com/stories/${qe}/edit`),i(!0);try{const Ye=await fetch("/.netlify/functions/save-converted",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({filename:"converted-app",storyId:qe,classicItemId:S,json:bt})});if(Ye.ok){const Ie=await Ye.json();console.info("[LocalSave] Converted JSON saved:",Ie?.path||Ie?.fileName||"ok")}else console.warn("[LocalSave] Failed to save converted JSON locally:",Ye.status)}catch(Ye){console.warn("[LocalSave] Error saving converted JSON locally:",Ye?.message)}}catch(X){X?.message==="Conversion cancelled by user intervention"?(z("error"),C(X.message)):(z("error"),C(X?.message||"An unknown error occurred")),X?.stack&&console.debug("[ConverterCatch]",X.stack),i(!1)}};return j.jsxs("div",{className:"converter-container",children:[j.jsx("h2",{children:"Classic StoryMap Converter"}),j.jsx("p",{children:"Convert Classic StoryMaps to ArcGIS StoryMaps"}),j.jsxs("div",{className:"converter-instructions",children:[j.jsx("h3",{children:"Instructions:"}),j.jsxs("ol",{children:[j.jsx("li",{children:"Sign in to ArcGIS Online using the sign-in button above."}),j.jsx("li",{children:"Enter the Item ID of your Classic Story"}),j.jsx("li",{children:"Click Convert to transform your classic story into the new format"}),j.jsx("li",{children:"Review the converted story and publish when ready"})]})]}),j.jsxs("div",{className:"converter-input-group",children:[j.jsx("label",{className:"converter-label",children:"Classic Story Item ID:"}),j.jsx("input",{type:"text",value:S,onChange:X=>w(X.target.value),placeholder:"e.g., 858c4126f0604d1a86dea06ffbdc23a3",className:"converter-input"})]}),j.jsxs("div",{className:"converter-input-group",children:[j.jsx("label",{className:"converter-label",children:"Pipeline Mode:"}),j.jsxs("div",{className:"converter-toggle-row",children:[j.jsxs("label",{className:"converter-toggle-label",children:[j.jsx("input",{type:"checkbox",checked:H,onChange:X=>V(X.target.checked)})," ","Use refactor pipeline (server-first, inline swipe)"]}),j.jsx("span",{className:"converter-hint",children:"URL flag ?refactor=1 also enables it. This setting persists locally."})]})]}),T!=="success"?j.jsx("button",{className:`converter-btn ${d&&["fetching","converting","transferring","updating"].includes(T)?"cancel-hover":""}`,title:T==="idle"||T==="error"?"Start conversion":d?"Cancel conversion (Esc)":"Conversion in progress",onClick:T==="idle"||T==="error"?Yt:me,onMouseEnter:()=>{!p&&["fetching","converting","transferring","updating"].includes(T)&&f(!0)},onMouseLeave:()=>f(!1),disabled:u,children:T==="idle"||T==="error"?"Convert":T==="success"?"Success":d&&["fetching","converting","transferring","updating"].includes(T)?"Cancel":Y}):j.jsxs("div",{className:"converter-message converter-message-success",children:[j.jsx("strong",{children:"Converted "})," ",k||"Conversion complete!"]}),p&&T!=="idle"&&T!=="error"&&T!=="success"&&!o.current&&!s&&j.jsx("div",{className:"cancel-mobile-wrapper",children:j.jsx("button",{className:"converter-btn cancel-mobile",onClick:me,title:"Cancel conversion",children:"Cancel"})}),T!=="success"&&k&&j.jsxs("div",{className:`converter-message converter-message-${T}`,children:[j.jsx("strong",{children:T==="error"?"Error:":"Status:"})," ",k]}),oe&&j.jsxs("div",{className:"converter-warning",children:[j.jsx("strong",{children:"Custom CSS Detected!"})," Your classic story used custom CSS settings. To recreate your custom styles you should create a new ArcGIS StoryMaps Theme ",j.jsx("a",{href:"https://storymaps.arcgis.com/themes/new",target:"_blank",rel:"noopener noreferrer",children:"here"})," with your custom colors and styles, then apply the new Theme within the ArcGIS StoryMaps Builder (under the Design tab). ",j.jsx("a",{href:oe.url,download:"custom-css.css",children:"Click this link"})," to download a copy of your custom CSS."]}),L&&j.jsxs("div",{className:"converter-publish",children:[j.jsx("button",{className:"converter-publish-btn",onClick:()=>{window.open(L,"_blank"),z("idle"),C(""),i(!1),M("")},disabled:!u,children:"Click to Finish Publishing "}),j.jsxs("div",{className:"converter-url-row",children:[j.jsx("span",{className:"converter-url-label",children:"Publishing URL:"})," ",j.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"converter-url-link",children:L})]})]}),(Ce.length>0||N)&&j.jsxs("div",{className:"converter-warning",children:[j.jsx("strong",{children:"Webmap Checks:"}),Ce.length===0?j.jsx("div",{children:"No issues detected for referenced webmaps."}):j.jsxs(j.Fragment,{children:[j.jsx("ul",{children:Ce.map((X,re)=>j.jsxs("li",{children:[/^\s*(ERROR|WARNING|INFO):/i.test(X.message)?j.jsx("span",{dangerouslySetInnerHTML:{__html:X.message}}):j.jsxs(j.Fragment,{children:[X.level.toUpperCase(),": [",X.itemId,"] ",j.jsx("span",{dangerouslySetInnerHTML:{__html:X.message}})]}),X.details?.webmapTitle&&j.jsxs("div",{children:["Title: ",X.details.webmapTitle]}),Array.isArray(X.details?.failures)&&X.details.failures.length>0&&j.jsxs("div",{children:[j.jsx("button",{className:"converter-details-toggle-btn",onClick:()=>Se(be=>({...be,[X.itemId]:!be[X.itemId]})),children:Z[X.itemId]?"Hide details":`Show details (${X.details.failures.length})`}),Z[X.itemId]&&j.jsx("ul",{children:X.details.failures.map((be,je)=>j.jsxs("li",{children:[be.layerTitle?`${be.layerTitle}`:"",be.layerItemId?j.jsxs(j.Fragment,{children:[" ","[",j.jsx("a",{href:xe(be.layerItemId),target:"_blank",rel:"noopener noreferrer",children:be.layerItemId}),"]"," "]}):"",be.error?`  ${be.error}`:"",typeof be.status=="number"?` (status ${be.status})`:"",be.url?j.jsxs(j.Fragment,{children:[" "," ",j.jsx("a",{href:be.url,target:"_blank",rel:"noopener noreferrer",children:"URL"})," "]}):""]},`${X.itemId}-fail-${je}`))})]})]},`${X.itemId}-${re}`))}),j.jsxs("span",{children:["These issues wont stop conversion, but may prevent maps from loading. Please fix with ",j.jsx("a",{href:"https://assistant.esri-ps.com/",children:"ArcGIS Assistant"})," or in ArcGIS Online."]}),Q.length>0&&j.jsxs("div",{className:"converter-endpoint-checks",children:[j.jsx("hr",{}),j.jsx("strong",{children:"Endpoint Health Summary:"}),te&&j.jsx("div",{className:"endpoint-summary-row",children:Object.entries(te).map(([X,re])=>j.jsxs("span",{className:"endpoint-summary-chip",children:[X,": ",re]},X))}),j.jsxs("details",{children:[j.jsxs("summary",{children:["Failing endpoints (",Q.filter(X=>!X.ok).length,")"]}),j.jsx("ul",{children:Q.filter(X=>!X.ok).map((X,re)=>j.jsxs("li",{children:[X.webmapTitle?j.jsxs("span",{className:"ep-webmap",children:[X.webmapTitle,":"]}):""," ",X.layerTitle?j.jsx("span",{className:"ep-layer",children:X.layerTitle}):"",X.layerItemId?j.jsxs(j.Fragment,{children:[" ","[",j.jsx("a",{href:xe(X.layerItemId),target:"_blank",rel:"noopener noreferrer",children:X.layerItemId}),"]"]}):"",X.errorCategory?`  ${X.errorCategory}`:"",X.status?` (status ${X.status})`:"",X.url?j.jsxs(j.Fragment,{children:[" ",j.jsx("a",{href:X.url,target:"_blank",rel:"noopener noreferrer",children:"endpoint"})]}):"",X.errorMessage?`  ${X.errorMessage}`:""]},`ep-${re}`))})]})]})]})]})]})}function YS(){const{userInfo:u,token:i}=Lr();return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"bg-image"}),j.jsxs("div",{className:"app-content",children:[j.jsx(g0,{}),i&&u?j.jsx(FS,{}):j.jsx(j0,{})]})]})}Ib(window);Fb.createRoot(document.getElementById("root")).render(j.jsx(he.StrictMode,{children:j.jsx(p0,{children:j.jsx(YS,{})})}));export{eb as B,f_ as C,h_ as D,ut as E,cb as G,Pp as L,xn as T,n_ as Z,F as _,v_ as a,d_ as b,s_ as c,o_ as d,u_ as e,a_ as f,Hm as g,qm as h,PS as i,b_ as j,Rv as k,y_ as l,ZS as m,c_ as n,lb as o,KS as p,ob as q,Dv as r,r_ as s,$m as t,Vs as u,QS as v,m_ as w,t_ as x,g_ as y,p_ as z};

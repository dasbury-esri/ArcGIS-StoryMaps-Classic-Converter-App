import{L as u,c as m,s as p,x as b,i as f,a as g}from"./index-D4jOKSSz.js";import{u as v,I as y}from"./interactive-D-oOD5iA.js";import{c as O}from"./observers-D6LHSR9b.js";import{d as x,c as C}from"./sortableComponent-DtdO-UwB.js";import{i as E}from"./dom-yG-bmDxi.js";import{l as S}from"./logger-BQJHPZ4-.js";import"./guid-LcV_DAvu.js";const c={container:"container",containerHorizontal:"container--horizontal",containerVertical:"container--vertical"},H=f`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;flex:1 1 auto}.container--vertical{flex-direction:column}.container--horizontal{flex-direction:row}:host([hidden]){display:none}[hidden]{display:none}`,r=class r extends u{constructor(){super(),this.dragEnabled=!0,this.items=[],this.mutationObserver=O("mutation",()=>{this.setUpSorting()}),this.disabled=!1,this.handleSelector="calcite-handle",this.layout="vertical",this.loading=!1,this.calciteListOrderChange=m({cancelable:!1}),this.listen("calciteHandleNudge",this.calciteHandleNudgeNextHandler)}connectedCallback(){super.connectedCallback(),this.setUpSorting(),this.beginObserving()}load(){S.deprecated("component",{name:"sortable-list",removalVersion:4,suggested:"block-group"})}updated(){v(this)}disconnectedCallback(){super.disconnectedCallback(),x(this),this.endObserving()}calciteHandleNudgeNextHandler(e){this.handleNudgeEvent(e)}onGlobalDragStart(){this.endObserving()}onGlobalDragEnd(){this.beginObserving()}onDragEnd(){}onDragStart(){}onDragSort(){this.items=Array.from(this.el.children),this.calciteListOrderChange.emit()}handleNudgeEvent(e){const{direction:o}=e.detail,t=e.composedPath().find(a=>a.matches(this.handleSelector)),i=this.items.find(a=>a.contains(t)||e.composedPath().includes(a)),h=this.items.length-1,s=this.items.indexOf(i);let l=!1,n;o==="up"?s===0?l=!0:n=s-1:s===h?n=0:s===h-1?l=!0:n=s+2,this.endObserving(),l?i.parentElement.appendChild(i):i.parentElement.insertBefore(i,this.items[n]),this.items=Array.from(this.el.children),this.beginObserving(),requestAnimationFrame(()=>E(t)),"selected"in t&&(t.selected=!0)}setUpSorting(){this.items=Array.from(this.el.children),C(this)}beginObserving(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}endObserving(){this.mutationObserver?.disconnect()}render(){const{disabled:e,layout:o}=this,t=o==="horizontal"||!1;return y({disabled:e,children:b`<div class=${p({[c.container]:!0,[c.containerVertical]:!t,[c.containerHorizontal]:t})}><slot></slot></div>`})}};r.properties={canPull:[0,{},{attribute:!1}],canPut:[0,{},{attribute:!1}],disabled:[7,{},{reflect:!0,type:Boolean}],dragSelector:[3,{},{reflect:!0}],group:[3,{},{reflect:!0}],handleSelector:[3,{},{reflect:!0}],layout:[3,{},{reflect:!0}],loading:[7,{},{reflect:!0,type:Boolean}]},r.styles=H;let d=r;g("calcite-sortable-list",d);export{d as SortableList};

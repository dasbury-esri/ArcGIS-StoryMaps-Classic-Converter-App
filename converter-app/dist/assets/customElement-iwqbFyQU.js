import{L as Z,s as M,n as c,x as X,f as m,i as j,a as H}from"./index-Jm6Lqj3l.js";import{g as I}from"./guid-LcV_DAvu.js";import{c as A}from"./observers-Bm1uD5MH.js";function B(t,s,n){const i=s[0]-t[0],o=n[0]-s[0],h=s[1]-t[1],l=n[1]-s[1],r=h/(i||o<0&&0),a=l/(o||i<0&&0),e=(r*o+a*i)/(i+o);return(Math.sign(r)+Math.sign(a))*Math.min(Math.abs(r),Math.abs(a),.5*Math.abs(e))||0}function S(t,s,n){const i=s[0]-t[0],o=s[1]-t[1];return i?(3*o/i-n)/2:n}function N(t,s,n,i,o){const[h,l]=t,[r,a]=s,e=(r-h)/3,$=o([h+e,l+e*n]).join(","),d=o([r-e,a-e*i]).join(","),g=o([r,a]).join(",");return`C ${$} ${d} ${g}`}function E({width:t,height:s,min:n,max:i}){const o=i[0]-n[0],h=i[1]-n[1];return l=>{const r=(l[0]-n[0])/o*t,a=s-(l[1]-n[1])/h*s;return[r,a]}}function G(t){const[s,n]=t[0],i=[s,n],o=[s,n];return t.reduce(({min:h,max:l},[r,a])=>({min:[Math.min(h[0],r),Math.min(h[1],a)],max:[Math.max(l[0],r),Math.max(l[1],a)]}),{min:i,max:o})}function R({data:t,min:s,max:n,t:i}){if(t.length===0)return"";const[o,h]=i(t[0]),[l,r]=i(s),[a]=i(n);let e,$,d;const g=t.reduce((v,b,p)=>{if($=t[p-2],d=t[p-1],p>1){const u=B($,d,b),k=e===void 0?S($,d,u):e,z=N($,d,k,u,i);return e=u,`${v} ${z}`}return v},`M ${l},${r} L ${l},${h} L ${o},${h}`),L=t[t.length-1],x=N(d,L,e,S(d,L,e),i);return`${g} ${x} L ${a},${r} Z`}const q=j`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:block;block-size:100%}.svg{fill:currentColor;stroke:transparent;margin:0;display:block;block-size:100%;inline-size:100%;padding:0}.svg .graph-path--highlight{fill:var(--calcite-graph-highlight-fill-color, var(--calcite-color-brand));opacity:.5}:host([hidden]){display:none}[hidden]{display:none}`,y={svg:"svg",graphPath:"graph-path",graphPathHighlight:"graph-path--highlight"},C="calcite-graph",f={host:t=>`${C}-${t}`,linearGradient:t=>`linear-gradient-${C}-${t}`,mask:(t,s)=>`${C}-${t}${s}`},w=class w extends Z{constructor(){super(...arguments),this.graphId=I(),this.resizeObserver=A("resize",()=>this.requestUpdate()),this.data=[]}connectedCallback(){super.connectedCallback(),this.resizeObserver?.observe(this.el)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}render(){const{data:s,colorStops:n,el:i,highlightMax:o,highlightMin:h,min:l,max:r}=this,a=this.graphId,{clientHeight:e,clientWidth:$}=i;if(!s||s.length===0)return X`<svg aria-hidden=true class=${M(y.svg)} height=${e??c} preserveAspectRatio=none viewBox=${`0 0 ${$} ${e}`} width=${$??c}></svg>`;const{min:d,max:g}=G(s);let L=d,x=g;(l<d[0]||l>d[0])&&(L=[l,0]),(r>g[0]||r<g[0])&&(x=[r,g[1]]);const v=E({min:L,max:x,width:$,height:e}),[b]=v([h,x[1]]),[p]=v([o,x[1]]),u=R({data:s,min:d,max:g,t:v}),k=n?`url(#${f.linearGradient(a)})`:void 0;return X`<svg aria-hidden=true class=${M(y.svg)} height=${e??c} preserveAspectRatio=none viewBox=${`0 0 ${$} ${e}`} width=${$??c}>${n?m`<defs><linearGradient id=${f.linearGradient(a)??c} x1=0 x2=1 y1=0 y2=0>${n.map(({offset:z,color:O,opacity:Y})=>m`<stop offset=${`${z*100}%`} stop-color=${O??c} stop-opacity=${Y??c} />`)}</linearGradient></defs>`:null}${h!==void 0?[m`<mask height=100% id=${f.mask(a,1)??c} width=100% x=0% y=0%><path d=${`
            M 0,0
            L ${b-1},0
            L ${b-1},${e}
            L 0,${e}
            Z
          `} fill=white /></mask>`,m`<mask height=100% id=${f.mask(a,2)??c} width=100% x=0% y=0%><path d=${`
            M ${b+1},0
            L ${p-1},0
            L ${p-1},${e}
            L ${b+1}, ${e}
            Z
          `} fill=white /></mask>`,m`<mask height=100% id=${f.mask(a,3)??c} width=100% x=0% y=0%><path d=${`
                M ${p+1},0
                L ${$},0
                L ${$},${e}
                L ${p+1}, ${e}
                Z
              `} fill=white /></mask>`,m`<path class=${M(y.graphPath)} d=${u??c} fill=${k??c} mask=${`url(#${f.mask(a,1)})`} />`,m`<path class=${M(y.graphPathHighlight)} d=${u??c} fill=${k??c} mask=${`url(#${f.mask(a,2)})`} />`,m`<path class=${M(y.graphPath)} d=${u??c} fill=${k??c} mask=${`url(#${f.mask(a,3)})`} />`]:m`<path class=${M(y.graphPath)} d=${u??c} fill=${k??c} />`}</svg>`}};w.properties={colorStops:[0,{},{attribute:!1}],data:[0,{},{attribute:!1}],highlightMax:[9,{},{type:Number}],highlightMin:[9,{},{type:Number}],max:[11,{},{reflect:!0,type:Number}],min:[11,{},{reflect:!0,type:Number}]},w.styles=q;let P=w;H("calcite-graph",P);export{P as Graph};

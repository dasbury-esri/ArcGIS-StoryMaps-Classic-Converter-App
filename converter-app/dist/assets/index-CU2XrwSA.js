const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/customElement-CtRbv0YI.js","assets/observers-DsoGB6Rg.js","assets/customElement-CIrwdGqs.js","assets/keyed-BoKhxUVy.js","assets/directive-helpers-iS6uTh5u.js","assets/ref-BAXvaCG9.js","assets/dom-D1OgeJVN.js","assets/guid-LcV_DAvu.js","assets/component-D8buMxM-.js","assets/logger-CBb2N99p.js","assets/useSetFocus-DcOiktJc.js","assets/index-C6pSFIZO.js","assets/useT9n-DbDa2RXM.js","assets/Heading-BTvXsuwz.js","assets/static-BITvQWyu.js","assets/customElement-CoBm9_c7.js","assets/interactive-DbJ6DVso.js","assets/form-CBixd2lZ.js","assets/customElement-Bw7vzP9r.js","assets/ExpandToggle-CWW6JAKU.js","assets/resources8-DmXyNXVz.js","assets/resources2-D84mrebB.js","assets/useCancelable-BIM3fK7A.js","assets/debounce-D0Dr7phT.js","assets/customElement-C9zQ4Hs5.js","assets/customElement-Uyb_3qsZ.js","assets/array-bGYQmELK.js","assets/key-Cyh_1epf.js","assets/customElement-7vZ52veu.js","assets/customElement-Ckpf5ZQj.js","assets/locale-DV4UNTZT.js","assets/openCloseComponent-D_0xowAC.js","assets/resources4-CJqOrVMW.js","assets/customElement-CYZwBKkE.js","assets/repeat-45Kw8OqC.js","assets/floating-ui-CKTsGjvP.js","assets/label-C5fMiZ4h.js","assets/InternalLabel-T4GW-fC7.js","assets/Validation-0Yt7OEI9.js","assets/escapeRegExp-CkRNPaSc.js","assets/customElement-DGfLopiQ.js","assets/text-CtmPHnHs.js","assets/customElement-S2Pan76z.js","assets/utils-C23q8AQP.js","assets/global-BNjdmnMY.js","assets/customElement-BtCWVi1p.js","assets/_sortable-CQzFobIS.js","assets/customElement-g6eCApit.js","assets/sortableComponent-DtdO-UwB.js","assets/customElement-DJLKzu-s.js","assets/customElement-C0kwHqnq.js","assets/customElement-BsPKW78m.js","assets/customElement-CWiFtn01.js","assets/customElement-CdusCypq.js","assets/responsive-DPDex88g.js","assets/customElement-ijrptHMY.js","assets/customElement-eKl8IZSi.js","assets/customElement-Bt2a7CeL.js","assets/customElement-xYl9pTVF.js","assets/customElement-BJjZ8sgS.js","assets/math-OZMpPBUT.js","assets/throttle-DxccISSf.js","assets/customElement-DpSbM5_N.js","assets/customElement-Bx_yqy3s.js","assets/customElement-DOOwSf_C.js","assets/live-DVvqXTlG.js","assets/core-DqKVTEH2.js","assets/filter-D0HPXs_u.js","assets/XButton-CMep3-LH.js","assets/resources6-BRNGPCeZ.js","assets/utils4-Dx5nh-FI.js","assets/customElement-DF5tIEG0.js","assets/customElement-DyxPWdlJ.js","assets/customElement-BhBBc6ib.js","assets/date-BnOS7JKN.js","assets/utils3-B4HCt8p3.js","assets/customElement-2_mp191b.js","assets/customElement-CeUJoCHs.js","assets/customElement-QMDN8yAV.js","assets/customElement-Cy5OPZgZ.js","assets/interact.min-CeSgLiSH.js","assets/dynamicClasses-6uzzLOUQ.js","assets/resources3-CFQwBfyd.js","assets/useFocusTrap-BSYIXAM5.js","assets/usePreventDocumentScroll-Dv3-q7l6.js","assets/customElement-CfTvZZr1.js","assets/customElement-w1yBT_74.js","assets/resources7-v6zOX8CA.js","assets/customElement-DR4I6G3H.js","assets/customElement-DS157MOW.js","assets/customElement-CYQWn8-p.js","assets/customElement-j85yXPFn.js","assets/customElement-CncSy1vp.js","assets/customElement-Cj2D3LaO.js","assets/customElement-CQfUGkHt.js","assets/customElement-Cq2uujoM.js","assets/customElement-Dj7nTkMz.js","assets/customElement-DRroC7Pe.js","assets/input-Caci4YeM.js","assets/customElement-Dfbejgko.js","assets/customElement-BPrZAYPk.js","assets/customElement-Coo6he7p.js","assets/customElement-DFWbOTcO.js","assets/customElement-CktQvHZJ.js","assets/useTime-DCURdTHa.js","assets/customElement-C7HoBM3K.js","assets/customElement-DNcir1YL.js","assets/customElement-Cph3AcCx.js","assets/customElement-DBPzfzds.js","assets/utils2-DFAWjrMn.js","assets/resources-DLSQPHiM.js","assets/customElement-Bpte5ocm.js","assets/resources5-DhgIM17F.js","assets/customElement-BgEVpEFE.js","assets/customElement-Cp780VM-.js","assets/customElement-CtnEt_g5.js","assets/customElement-BPETfEw5.js","assets/customElement-BulF4eww.js","assets/customElement-C4vhRf6k.js","assets/customElement-Bde5WC-Z.js","assets/customElement-A60AnTAS.js","assets/customElement-BXY6k5Pu.js","assets/customElement-CKB7UejO.js","assets/customElement-CVdJo0Dw.js","assets/customElement-tejdFgIe.js","assets/customElement-B3GXEOff.js","assets/customElement-C3ymixL_.js","assets/FloatingArrow-CZLn3Ns1.js","assets/customElement-CcKy8jsj.js","assets/customElement-V448WN0R.js","assets/customElement-CyUkzDWh.js","assets/customElement-CgJDPgd1.js","assets/customElement-Bu2WZv0w.js","assets/customElement-CVvqZT-j.js","assets/customElement-DPC_Bi-o.js","assets/customElement-B-5chSbF.js","assets/customElement-C7E9Uvzf.js","assets/customElement-CV0_5DCy.js","assets/customElement-CdgeHiN3.js","assets/customElement-B_IfCC0U.js","assets/customElement-S51uTf4u.js","assets/customElement-lvxfwpgn.js","assets/customElement-8P70D8wI.js","assets/customElement-0hxbdNIl.js","assets/customElement-DduWaqAx.js","assets/customElement-BdRcvWEp.js","assets/customElement-DSzGMSUf.js","assets/customElement-SOvddh-K.js","assets/customElement-DLo1KqoO.js","assets/customElement-CHjlC9Et.js","assets/customElement-CvFUF1Wx.js","assets/customElement-cWaVtlsH.js","assets/customElement-DLvRxXWs.js","assets/customElement-C4uvSl3p.js","assets/customElement-Coq3jhtc.js","assets/customElement-CAiO85JU.js","assets/customElement-ed8nqxrK.js","assets/customElement-BQbTp34n.js","assets/customElement-5bx8Q9cC.js","assets/customElement-gmUyF1La.js","assets/customElement-BE-pqv3c.js","assets/customElement-DGzqmCpT.js","assets/customElement-ubuW22mf.js","assets/customElement-pR1ScHev.js","assets/customElement-Dgv8BIUY.js","assets/customElement-Dp4DR-W2.js","assets/customElement-DpfW20I8.js","assets/customElement-Dc4gOalO.js","assets/customElement-CwoqSW19.js","assets/customElement-wVPsLejA.js"])))=>i.map(i=>d[i]);
var Ev=Object.getPrototypeOf;var Av=Reflect.get;var jp=u=>{throw TypeError(u)};var Vc=(u,i,s)=>i.has(u)||jp("Cannot "+s);var Ie=(u,i,s)=>(Vc(u,i,"read from private field"),s?s.call(u):i.get(u)),fa=(u,i,s)=>i.has(u)?jp("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(u):i.set(u,s),ha=(u,i,s,l)=>(Vc(u,i,"write to private field"),l?l.call(u,s):i.set(u,s),s),Rs=(u,i,s)=>(Vc(u,i,"access private method"),s);var zp=(u,i,s)=>Av(Ev(u),s,i);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();function wv(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Gc={exports:{}},Ns={};var Lp;function Cv(){if(Lp)return Ns;Lp=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(l,o,d){var f=null;if(d!==void 0&&(f=""+d),o.key!==void 0&&(f=""+o.key),"key"in o){d={};for(var p in o)p!=="key"&&(d[p]=o[p])}else d=o;return o=d.ref,{$$typeof:u,type:l,key:f,ref:o!==void 0?o:null,props:d}}return Ns.Fragment=i,Ns.jsx=s,Ns.jsxs=s,Ns}var Ip;function Ov(){return Ip||(Ip=1,Gc.exports=Cv()),Gc.exports}var z=Ov();const xv="modulepreload",Dv=function(u){return"/"+u},kp={},F=function(i,s,l){let o=Promise.resolve();if(s&&s.length>0){let m=function(y){return Promise.all(y.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");o=m(s.map(y=>{if(y=Dv(y),y in kp)return;kp[y]=!0;const g=y.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":xv,g||(S.as="script"),S.crossOrigin="",S.href=y,p&&S.setAttribute("nonce",p),document.head.appendChild(S),g)return new Promise((w,E)=>{S.addEventListener("load",w),S.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return o.then(f=>{for(const p of f||[])p.status==="rejected"&&d(p.reason);return i().catch(d)})},et=(u,i,...s)=>{try{return u?.call(i,...s)}catch(l){console.error(l,u)}},su=async(u,i,...s)=>{try{return await u?.call(i,...s)}catch(l){console.error(l,u)}},Tu=Symbol.for("controller"),Mv=u=>typeof u=="object"&&u!==null&&(Tu in u||"hostConnected"in u||"hostDisconnected"in u||"hostUpdate"in u||"hostUpdated"in u),ZS=u=>typeof u?.then=="function";let zs;const Ls=u=>{zs!==u&&(zs=u,queueMicrotask(()=>zs===u?zs=void 0:0))},Ar=u=>zs;let Hn=[];const Rv=u=>{if(u===void 0){Hn=[];return}const i=Hn.indexOf(u);Hn=i===-1?[...Hn,u]:Hn.slice(0,i+1),queueMicrotask(()=>Hn=[])},Nv=()=>Hn;let Ni;const KS=u=>{Ni!==u&&(Ni=u,queueMicrotask(()=>Ni===u?Ni=void 0:0))},Uv=()=>{const u=Ni;return Ni=void 0,u},jv=async(u,i)=>{const s=Eu(u);if(s===void 0)return u;if(await s.ready,typeof i=="function"){const l=s.watchExports(o=>i(o,l))}return s.exports},zv=async u=>{const i=Eu(u);return await i.ready,i},Eu=u=>{const s=Ar().manager.X(u);if(s!==void 0)return s;if(Mv(u))return u;const l=Uv();if(l!==void 0)return l};let lu=!1;const WS=u=>{lu=!0;try{return u()}finally{lu=!1}};const fr=globalThis,Au=fr.ShadowRoot&&(fr.ShadyCSS===void 0||fr.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,wu=Symbol(),Bp=new WeakMap;let Mm=class{constructor(i,s,l){if(this._$cssResult$=!0,l!==wu)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=i,this.t=s}get styleSheet(){let i=this.o;const s=this.t;if(Au&&i===void 0){const l=s!==void 0&&s.length===1;l&&(i=Bp.get(s)),i===void 0&&((this.o=i=new CSSStyleSheet).replaceSync(this.cssText),l&&Bp.set(s,i))}return i}toString(){return this.cssText}};const Lv=u=>new Mm(typeof u=="string"?u:u+"",void 0,wu),e_=(u,...i)=>{const s=u.length===1?u[0]:i.reduce(((l,o,d)=>l+(f=>{if(f._$cssResult$===!0)return f.cssText;if(typeof f=="number")return f;throw Error("Value passed to 'css' function must be a 'css' function result: "+f+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+u[d+1]),u[0]);return new Mm(s,u,wu)},Iv=(u,i)=>{if(Au)u.adoptedStyleSheets=i.map((s=>s instanceof CSSStyleSheet?s:s.styleSheet));else for(const s of i){const l=document.createElement("style"),o=fr.litNonce;o!==void 0&&l.setAttribute("nonce",o),l.textContent=s.cssText,u.appendChild(l)}},Hp=Au?u=>u:u=>u instanceof CSSStyleSheet?(i=>{let s="";for(const l of i.cssRules)s+=l.cssText;return Lv(s)})(u):u;const{is:kv,defineProperty:Bv,getOwnPropertyDescriptor:Hv,getOwnPropertyNames:$v,getOwnPropertySymbols:qv,getPrototypeOf:Vv}=Object,wr=globalThis,$p=wr.trustedTypes,Gv=$p?$p.emptyScript:"",Fv=wr.reactiveElementPolyfillSupport,Bs=(u,i)=>u,ru={toAttribute(u,i){switch(i){case Boolean:u=u?Gv:null;break;case Object:case Array:u=u==null?u:JSON.stringify(u)}return u},fromAttribute(u,i){let s=u;switch(i){case Boolean:s=u!==null;break;case Number:s=u===null?null:Number(u);break;case Object:case Array:try{s=JSON.parse(u)}catch{s=null}}return s}},Cu=(u,i)=>!kv(u,i),qp={attribute:!0,type:String,converter:ru,reflect:!1,useDefault:!1,hasChanged:Cu};Symbol.metadata??=Symbol("metadata"),wr.litPropertyMetadata??=new WeakMap;let Ri=class extends HTMLElement{static addInitializer(i){this._$Ei(),(this.l??=[]).push(i)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(i,s=qp){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(i)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(i,s),!s.noAccessor){const l=Symbol(),o=this.getPropertyDescriptor(i,l,s);o!==void 0&&Bv(this.prototype,i,o)}}static getPropertyDescriptor(i,s,l){const{get:o,set:d}=Hv(this.prototype,i)??{get(){return this[s]},set(f){this[s]=f}};return{get:o,set(f){const p=o?.call(this);d?.call(this,f),this.requestUpdate(i,p,l)},configurable:!0,enumerable:!0}}static getPropertyOptions(i){return this.elementProperties.get(i)??qp}static _$Ei(){if(this.hasOwnProperty(Bs("elementProperties")))return;const i=Vv(this);i.finalize(),i.l!==void 0&&(this.l=[...i.l]),this.elementProperties=new Map(i.elementProperties)}static finalize(){if(this.hasOwnProperty(Bs("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Bs("properties"))){const s=this.properties,l=[...$v(s),...qv(s)];for(const o of l)this.createProperty(o,s[o])}const i=this[Symbol.metadata];if(i!==null){const s=litPropertyMetadata.get(i);if(s!==void 0)for(const[l,o]of s)this.elementProperties.set(l,o)}this._$Eh=new Map;for(const[s,l]of this.elementProperties){const o=this._$Eu(s,l);o!==void 0&&this._$Eh.set(o,s)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const l=new Set(i.flat(1/0).reverse());for(const o of l)s.unshift(Hp(o))}else i!==void 0&&s.push(Hp(i));return s}static _$Eu(i,s){const l=s.attribute;return l===!1?void 0:typeof l=="string"?l:typeof i=="string"?i.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((i=>this.enableUpdating=i)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((i=>i(this)))}addController(i){(this._$EO??=new Set).add(i),this.renderRoot!==void 0&&this.isConnected&&i.hostConnected?.()}removeController(i){this._$EO?.delete(i)}_$E_(){const i=new Map,s=this.constructor.elementProperties;for(const l of s.keys())this.hasOwnProperty(l)&&(i.set(l,this[l]),delete this[l]);i.size>0&&(this._$Ep=i)}createRenderRoot(){const i=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Iv(i,this.constructor.elementStyles),i}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((i=>i.hostConnected?.()))}enableUpdating(i){}disconnectedCallback(){this._$EO?.forEach((i=>i.hostDisconnected?.()))}attributeChangedCallback(i,s,l){this._$AK(i,l)}_$ET(i,s){const l=this.constructor.elementProperties.get(i),o=this.constructor._$Eu(i,l);if(o!==void 0&&l.reflect===!0){const d=(l.converter?.toAttribute!==void 0?l.converter:ru).toAttribute(s,l.type);this._$Em=i,d==null?this.removeAttribute(o):this.setAttribute(o,d),this._$Em=null}}_$AK(i,s){const l=this.constructor,o=l._$Eh.get(i);if(o!==void 0&&this._$Em!==o){const d=l.getPropertyOptions(o),f=typeof d.converter=="function"?{fromAttribute:d.converter}:d.converter?.fromAttribute!==void 0?d.converter:ru;this._$Em=o;const p=f.fromAttribute(s,d.type);this[o]=p??this._$Ej?.get(o)??p,this._$Em=null}}requestUpdate(i,s,l){if(i!==void 0){const o=this.constructor,d=this[i];if(l??=o.getPropertyOptions(i),!((l.hasChanged??Cu)(d,s)||l.useDefault&&l.reflect&&d===this._$Ej?.get(i)&&!this.hasAttribute(o._$Eu(i,l))))return;this.C(i,s,l)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(i,s,{useDefault:l,reflect:o,wrapped:d},f){l&&!(this._$Ej??=new Map).has(i)&&(this._$Ej.set(i,f??s??this[i]),d!==!0||f!==void 0)||(this._$AL.has(i)||(this.hasUpdated||l||(s=void 0),this._$AL.set(i,s)),o===!0&&this._$Em!==i&&(this._$Eq??=new Set).add(i))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(s){Promise.reject(s)}const i=this.scheduleUpdate();return i!=null&&await i,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[o,d]of this._$Ep)this[o]=d;this._$Ep=void 0}const l=this.constructor.elementProperties;if(l.size>0)for(const[o,d]of l){const{wrapped:f}=d,p=this[o];f!==!0||this._$AL.has(o)||p===void 0||this.C(o,void 0,d,p)}}let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),this._$EO?.forEach((l=>l.hostUpdate?.())),this.update(s)):this._$EM()}catch(l){throw i=!1,this._$EM(),l}i&&this._$AE(s)}willUpdate(i){}_$AE(i){this._$EO?.forEach((s=>s.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(i)),this.updated(i)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(i){return!0}update(i){this._$Eq&&=this._$Eq.forEach((s=>this._$ET(s,this[s]))),this._$EM()}updated(i){}firstUpdated(i){}};Ri.elementStyles=[],Ri.shadowRootOptions={mode:"open"},Ri[Bs("elementProperties")]=new Map,Ri[Bs("finalized")]=new Map,Fv?.({ReactiveElement:Ri}),(wr.reactiveElementVersions??=[]).push("2.1.1");const Ou=globalThis,gr=Ou.trustedTypes,Vp=gr?gr.createPolicy("lit-html",{createHTML:u=>u}):void 0,Rm="$lit$",mn=`lit$${Math.random().toFixed(9).slice(2)}$`,Nm="?"+mn,Jv=`<${Nm}>`,Fn=document,Gs=()=>Fn.createComment(""),Fs=u=>u===null||typeof u!="object"&&typeof u!="function",xu=Array.isArray,Yv=u=>xu(u)||typeof u?.[Symbol.iterator]=="function",Fc=`[ 	
\f\r]`,Us=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Gp=/-->/g,Fp=/>/g,Bn=RegExp(`>|${Fc}(?:([^\\s"'>=/]+)(${Fc}*=${Fc}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Jp=/'/g,Yp=/"/g,Um=/^(?:script|style|textarea|title)$/i,jm=u=>(i,...s)=>({_$litType$:u,strings:i,values:s}),a_=jm(1),n_=jm(2),bn=Symbol.for("lit-noChange"),st=Symbol.for("lit-nothing"),Xp=new WeakMap,qn=Fn.createTreeWalker(Fn,129);function zm(u,i){if(!xu(u)||!u.hasOwnProperty("raw"))throw Error("invalid template strings array");return Vp!==void 0?Vp.createHTML(i):i}const Xv=(u,i)=>{const s=u.length-1,l=[];let o,d=i===2?"<svg>":i===3?"<math>":"",f=Us;for(let p=0;p<s;p++){const m=u[p];let y,g,b=-1,S=0;for(;S<m.length&&(f.lastIndex=S,g=f.exec(m),g!==null);)S=f.lastIndex,f===Us?g[1]==="!--"?f=Gp:g[1]!==void 0?f=Fp:g[2]!==void 0?(Um.test(g[2])&&(o=RegExp("</"+g[2],"g")),f=Bn):g[3]!==void 0&&(f=Bn):f===Bn?g[0]===">"?(f=o??Us,b=-1):g[1]===void 0?b=-2:(b=f.lastIndex-g[2].length,y=g[1],f=g[3]===void 0?Bn:g[3]==='"'?Yp:Jp):f===Yp||f===Jp?f=Bn:f===Gp||f===Fp?f=Us:(f=Bn,o=void 0);const w=f===Bn&&u[p+1].startsWith("/>")?" ":"";d+=f===Us?m+Jv:b>=0?(l.push(y),m.slice(0,b)+Rm+m.slice(b)+mn+w):m+mn+(b===-2?p:w)}return[zm(u,d+(u[s]||"<?>")+(i===2?"</svg>":i===3?"</math>":"")),l]};class Js{constructor({strings:i,_$litType$:s},l){let o;this.parts=[];let d=0,f=0;const p=i.length-1,m=this.parts,[y,g]=Xv(i,s);if(this.el=Js.createElement(y,l),qn.currentNode=this.el.content,s===2||s===3){const b=this.el.content.firstChild;b.replaceWith(...b.childNodes)}for(;(o=qn.nextNode())!==null&&m.length<p;){if(o.nodeType===1){if(o.hasAttributes())for(const b of o.getAttributeNames())if(b.endsWith(Rm)){const S=g[f++],w=o.getAttribute(b).split(mn),E=/([.?@])?(.*)/.exec(S);m.push({type:1,index:d,name:E[2],strings:w,ctor:E[1]==="."?Zv:E[1]==="?"?Kv:E[1]==="@"?Wv:Cr}),o.removeAttribute(b)}else b.startsWith(mn)&&(m.push({type:6,index:d}),o.removeAttribute(b));if(Um.test(o.tagName)){const b=o.textContent.split(mn),S=b.length-1;if(S>0){o.textContent=gr?gr.emptyScript:"";for(let w=0;w<S;w++)o.append(b[w],Gs()),qn.nextNode(),m.push({type:2,index:++d});o.append(b[S],Gs())}}}else if(o.nodeType===8)if(o.data===Nm)m.push({type:2,index:d});else{let b=-1;for(;(b=o.data.indexOf(mn,b+1))!==-1;)m.push({type:7,index:d}),b+=mn.length-1}d++}}static createElement(i,s){const l=Fn.createElement("template");return l.innerHTML=i,l}}function Ii(u,i,s=u,l){if(i===bn)return i;let o=l!==void 0?s._$Co?.[l]:s._$Cl;const d=Fs(i)?void 0:i._$litDirective$;return o?.constructor!==d&&(o?._$AO?.(!1),d===void 0?o=void 0:(o=new d(u),o._$AT(u,s,l)),l!==void 0?(s._$Co??=[])[l]=o:s._$Cl=o),o!==void 0&&(i=Ii(u,o._$AS(u,i.values),o,l)),i}class Qv{constructor(i,s){this._$AV=[],this._$AN=void 0,this._$AD=i,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(i){const{el:{content:s},parts:l}=this._$AD,o=(i?.creationScope??Fn).importNode(s,!0);qn.currentNode=o;let d=qn.nextNode(),f=0,p=0,m=l[0];for(;m!==void 0;){if(f===m.index){let y;m.type===2?y=new Bi(d,d.nextSibling,this,i):m.type===1?y=new m.ctor(d,m.name,m.strings,this,i):m.type===6&&(y=new Pv(d,this,i)),this._$AV.push(y),m=l[++p]}f!==m?.index&&(d=qn.nextNode(),f++)}return qn.currentNode=Fn,o}p(i){let s=0;for(const l of this._$AV)l!==void 0&&(l.strings!==void 0?(l._$AI(i,l,s),s+=l.strings.length-2):l._$AI(i[s])),s++}}class Bi{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(i,s,l,o){this.type=2,this._$AH=st,this._$AN=void 0,this._$AA=i,this._$AB=s,this._$AM=l,this.options=o,this._$Cv=o?.isConnected??!0}get parentNode(){let i=this._$AA.parentNode;const s=this._$AM;return s!==void 0&&i?.nodeType===11&&(i=s.parentNode),i}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(i,s=this){i=Ii(this,i,s),Fs(i)?i===st||i==null||i===""?(this._$AH!==st&&this._$AR(),this._$AH=st):i!==this._$AH&&i!==bn&&this._(i):i._$litType$!==void 0?this.$(i):i.nodeType!==void 0?this.T(i):Yv(i)?this.k(i):this._(i)}O(i){return this._$AA.parentNode.insertBefore(i,this._$AB)}T(i){this._$AH!==i&&(this._$AR(),this._$AH=this.O(i))}_(i){this._$AH!==st&&Fs(this._$AH)?this._$AA.nextSibling.data=i:this.T(Fn.createTextNode(i)),this._$AH=i}$(i){const{values:s,_$litType$:l}=i,o=typeof l=="number"?this._$AC(i):(l.el===void 0&&(l.el=Js.createElement(zm(l.h,l.h[0]),this.options)),l);if(this._$AH?._$AD===o)this._$AH.p(s);else{const d=new Qv(o,this),f=d.u(this.options);d.p(s),this.T(f),this._$AH=d}}_$AC(i){let s=Xp.get(i.strings);return s===void 0&&Xp.set(i.strings,s=new Js(i)),s}k(i){xu(this._$AH)||(this._$AH=[],this._$AR());const s=this._$AH;let l,o=0;for(const d of i)o===s.length?s.push(l=new Bi(this.O(Gs()),this.O(Gs()),this,this.options)):l=s[o],l._$AI(d),o++;o<s.length&&(this._$AR(l&&l._$AB.nextSibling,o),s.length=o)}_$AR(i=this._$AA.nextSibling,s){for(this._$AP?.(!1,!0,s);i!==this._$AB;){const l=i.nextSibling;i.remove(),i=l}}setConnected(i){this._$AM===void 0&&(this._$Cv=i,this._$AP?.(i))}}class Cr{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(i,s,l,o,d){this.type=1,this._$AH=st,this._$AN=void 0,this.element=i,this.name=s,this._$AM=o,this.options=d,l.length>2||l[0]!==""||l[1]!==""?(this._$AH=Array(l.length-1).fill(new String),this.strings=l):this._$AH=st}_$AI(i,s=this,l,o){const d=this.strings;let f=!1;if(d===void 0)i=Ii(this,i,s,0),f=!Fs(i)||i!==this._$AH&&i!==bn,f&&(this._$AH=i);else{const p=i;let m,y;for(i=d[0],m=0;m<d.length-1;m++)y=Ii(this,p[l+m],s,m),y===bn&&(y=this._$AH[m]),f||=!Fs(y)||y!==this._$AH[m],y===st?i=st:i!==st&&(i+=(y??"")+d[m+1]),this._$AH[m]=y}f&&!o&&this.j(i)}j(i){i===st?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}}class Zv extends Cr{constructor(){super(...arguments),this.type=3}j(i){this.element[this.name]=i===st?void 0:i}}class Kv extends Cr{constructor(){super(...arguments),this.type=4}j(i){this.element.toggleAttribute(this.name,!!i&&i!==st)}}class Wv extends Cr{constructor(i,s,l,o,d){super(i,s,l,o,d),this.type=5}_$AI(i,s=this){if((i=Ii(this,i,s,0)??st)===bn)return;const l=this._$AH,o=i===st&&l!==st||i.capture!==l.capture||i.once!==l.once||i.passive!==l.passive,d=i!==st&&(l===st||o);o&&this.element.removeEventListener(this.name,this,l),d&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,i):this._$AH.handleEvent(i)}}class Pv{constructor(i,s,l){this.element=i,this.type=6,this._$AN=void 0,this._$AM=s,this.options=l}get _$AU(){return this._$AM._$AU}_$AI(i){Ii(this,i)}}const i_={I:Bi},eb=Ou.litHtmlPolyfillSupport;eb?.(Js,Bi),(Ou.litHtmlVersions??=[]).push("3.3.1");const tb=(u,i,s)=>{const l=s?.renderBefore??i;let o=l._$litPart$;if(o===void 0){const d=s?.renderBefore??null;l._$litPart$=o=new Bi(i.insertBefore(Gs(),d),d,void 0,s??{})}return o._$AI(u),o};const Du=globalThis;let zi=class extends Ri{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const i=super.createRenderRoot();return this.renderOptions.renderBefore??=i.firstChild,i}update(i){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(i),this._$Do=tb(s,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return bn}};zi._$litElement$=!0,zi.finalized=!0,Du.litElementHydrateSupport?.({LitElement:zi});const ab=Du.litElementPolyfillSupport;ab?.({LitElement:zi});(Du.litElementVersions??=[]).push("4.2.1");class Ys{constructor(){this.promise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}}const nb=(u,i)=>{const s=i/ib;let l=0;const o=setInterval(()=>{l+=s,l>=i&&(clearInterval(o),u())},s);return o},ib=4,sb=(u,i,s)=>{const l=Object.keys(u),o=l.length;Ui===void 0&&queueMicrotask(Or),Ui??=new Map;let d=Ui.get(u);return d===void 0&&(d={callbacks:[],keyCount:o},Ui.set(u,d)),d.keyCount!==o&&(d.callbacks.forEach(f=>f(l)),d.callbacks=[],d.keyCount=o),d.callbacks.push(f=>{const p=y=>et(i,null,y),m=f[o];m===void 0?p(void 0):u[m]===s?p(m):p(void 0)}),s};let Ui;const Or=()=>{Ui?.forEach(({callbacks:u},i)=>{const s=Object.keys(i);u.forEach(l=>l(s))}),Ui=void 0},lb=(u,i,s)=>{const l=u.manager;return l.V!==st&&l.V!==s&&l.S(void 0,void 0),l.T.length===0&&queueMicrotask(()=>l.S(void 0,void 0)),l.V=s,l.T.push((o,d)=>et(i,void 0,s===d?o:void 0)),s},rb=(u=[Ar(),...Nv()],i,s)=>{const l=Array.isArray(u)?u:[u];let o=l.length+1;const d=f=>{o-=1,f!==void 0&&(o=Math.min(o,0)),o===0&&i(f)};l.forEach(f=>sb(f,p=>d(p===void 0?void 0:{key:p,host:f,isReactive:!1}),s));for(const f of l)if("manager"in f&&f.manager.component===f){lb(f,p=>d(p===void 0?void 0:{key:p,host:f,isReactive:!0}),s);break}return s},ob=(u="",i={},s=Ar())=>{const l={emit:o=>{u===""&&Or();const d=new CustomEvent(u,{detail:o,cancelable:!0,bubbles:!0,composed:!0,...i});return s.el.dispatchEvent(d),d}};return u===""&&rb(void 0,o=>u=o.key,l),l},l_=ob.bind(null,"");var Lm;Lm=Tu;class cb{constructor(i){this.#a=[],this.#e=[],this.#n=[],this.#o=[],this.#c=[],this.#u=[],this.#d=[],this.#f=[],this.#l=[],this.#r=!1,this.P=new Ys,this.connectedCalled=!1,this.loadedCalled=!1,this[Lm]=!0,this.#s=[];const s=this,l=i??Ar();s.#t=l,s.ready=s.P.promise,s.#i=Zp(s),s.component=l,s.#t.addController(s),s.#t.manager===void 0||(Rv(s),queueMicrotask(()=>s.catchUpLifecycle()))}#a;#e;#n;#o;#c;#u;#d;#f;#l;#r;#t;catchUpLifecycle(){const{manager:i}=this.#t;i.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),i.#r&&this.triggerLoad().then(()=>i.loadedCalled&&this.triggerLoaded()).catch(console.error)}#i;get exports(){return this.#i}set exports(i){const s=this.#i;s!==i&&(this.#i=i,this.#s.forEach(et),this.connectedCalled&&this.O!==!1&&this.#t.requestUpdate(this.O,s)),this.P.resolve(i)}setProvisionalExports(i,s=!0){this.#i=s?Zp(i):i,this.#s.forEach(et)}#s;watchExports(i){const s=()=>i(this.#i);return this.#s.push(s),()=>void this.#s.splice(this.#s.indexOf(s),1)}get use(){return Ls(this.#t),jv}get useRef(){return Ls(this.#t),zv}get useRefSync(){return Ls(this.#t),Eu}controllerRemoved(){this.#t.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(i){this.#a.push(i)}onDisconnected(i){this.#e.push(i)}onLoad(i){this.#n.push(i)}onLoaded(i){this.#o.push(i)}onUpdate(i){this.#c.push(i)}onUpdated(i){this.#u.push(i)}onDestroy(i){this.#d.push(i)}onLifecycle(i){this.#f.push(i),this.connectedCalled&&this.#t.el.isConnected&&this.#h(i)}triggerConnected(){const i=this;i.hostConnected&&et(i.hostConnected,i),i.#a.forEach(et),i.triggerLifecycle(),i.connectedCalled=!0}triggerDisconnected(){const i=this;i.hostDisconnected&&et(i.hostDisconnected,i),i.#e.forEach(et),i.#l.forEach(et),i.#l=[]}async triggerLoad(){if(this.#r)return;this.#r=!0;const i=this;i.hostLoad&&await su(i.hostLoad,i),this.#n.length>0&&await Promise.allSettled(this.#n.map(su)),this.P.resolve(this.#i)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&et(this.hostLoaded,this),this.#o.forEach(et),this.loadedCalled=!0)}triggerUpdate(i){this.hostUpdate&&et(this.hostUpdate,this,i),this.#c.forEach(Qp,i)}triggerUpdated(i){this.hostUpdated&&et(this.hostUpdated,this,i),this.#u.forEach(Qp,i)}triggerDestroy(){this.hostDestroy&&et(this.hostDestroy,this),this.#d.forEach(et)}triggerLifecycle(){this.hostLifecycle&&this.#h(()=>this.hostLifecycle()),this.#f.forEach(this.#h,this)}#h(i){Ls(this.#t);const s=et(i);(Array.isArray(s)?s:[s]).forEach(o=>{typeof o=="function"?this.#l.push(o):typeof o=="object"&&typeof o.remove=="function"&&this.#l.push(o.remove)})}}function Qp(u){et(u,void 0,this)}const ub=cb,Zp=u=>{if(typeof u!="object"&&typeof u!="function"||u===null)return u;const i={get(l,o,d){if(!((o==="exports"||o==="_exports")&&o in l&&l[o]===s)&&(o in l||o in Promise.prototype||typeof o=="symbol"))return typeof l=="function"?l[o]:Reflect.get(l,o,d)}},s=new Proxy(u,i);return s},Im=u=>u.replace(db,(i,s)=>`${s===0?"":"-"}${i.toLowerCase()}`),db=/[A-Z]+(?![a-z])|[A-Z]/gu,fb=";",Jc=",",hb=":",pb=1,mb=2,gb=4,yb=8,vb=16,bb=32,Sb=64,km=u=>{let i=u;for(;i=i.parentNode??i.host;)if(i?.constructor?.lumina){const s=i;return s.manager?.loadedCalled||(s.J??s._offspring).push(u),(s.I??s._postLoad).promise}return!1},Kp={};function Mu(){}const _b=(u,i)=>function(l,o){var p;if(!globalThis.customElements)return;const f=(o??l??{}).resourcesUrl;f&&u.setAssetPath(f);for(const[m,[y,g=""]]of Object.entries(i)){if(customElements.get(m))continue;const[b,S,w]=g.split(fb),E=b?b?.split(Jc).map(Tb):void 0,N=E?.map(([O])=>O),q=(p=class extends ou{constructor(){!q.B&&(q.B=y(),q.F()),super()}},p.observedAttributes=E?.map(([,D])=>D).filter(D=>D!==""),p.C=N,p.E=S?S?.split(Jc):void 0,p.D=w?.split(Jc),p.L=m,p.K=u,p);customElements.define(m,q)}},hr=Object.defineProperty,Tb=u=>{const i=u.split(hb);return i.length===1?[i[0],Im(i[0])]:i},Eb=globalThis.HTMLElement??Mu;var Bt,Ha,Li,Qs,cu;const Lu=class Lu extends Eb{constructor(){var o;super();fa(this,Qs);fa(this,Bt);fa(this,Ha);fa(this,Li);ha(this,Ha,{}),ha(this,Li,[]),this.I=new Ys,this.H=new Ys,this.J=[];const s=this,l=s.constructor;s._offspring=s.J,s._postLoad=s.I,l.C?.forEach(d=>{Object.hasOwn(s,d)&&(Ie(s,Ha)[d]=s[d],delete s[d])}),l.A?Rs(o=s,Qs,cu).call(o,{a:l.A}):l.B.then(async d=>{var f;await l.K.p,Rs(f=s,Qs,cu).call(f,await(d.default?.then(p=>typeof p=="function"?{a:p}:p)??d))}).catch(d=>{s.H.reject(d),setTimeout(()=>{throw d})})}static F(){for(const s of this.C??[])hr(this.prototype,s,{configurable:!0,enumerable:!0,get(){return Ie(this,Ha)[s]},set(l){Ie(this,Ha)[s]=l}});for(const s of this.E??[])hr(this.prototype,s,{async value(...l){return Ie(this,Bt)||await this.H.promise,await Ie(this,Bt)[s](...l)},configurable:!0});for(const s of this.D??[])hr(this.prototype,s,{value(...l){return Ie(this,Bt)[s](...l)},configurable:!0})}get manager(){return Ie(this,Bt)?.manager}attributeChangedCallback(s,l,o){Ie(this,Bt)?.attributeChangedCallback(s,l,o),Ie(this,Bt)||Ie(this,Li).push(s)}connectedCallback(){Ie(this,Bt)?Ie(this,Bt).connectedCallback?.():queueMicrotask(()=>this.G=km(this))}disconnectedCallback(){Ie(this,Bt)?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){Ie(this,Bt)?.requestUpdate()}};Bt=new WeakMap,Ha=new WeakMap,Li=new WeakMap,Qs=new WeakSet,cu=function(s){const l=this.constructor,o=l.L,d=Ie(this,Ha),f=Object.values(s).find(S=>S.L===o),p=`${o}--lazy`;let m=f;for(;m&&!Object.hasOwn(m,"lumina");)m=Object.getPrototypeOf(m);wb(m),!l.A&&(l.A=f,customElements.define(p,f)),f.N=this;const g=document.createElement(p);f.N=void 0,ha(this,Bt,g),ha(this,Ha,g),Ie(this,Li).forEach(S=>g.attributeChangedCallback(S,null,this.getAttribute(S))),Object.entries(d).forEach(Ab,g);const b=this.isConnected;(b||this.G)&&(g.connectedCallback?.(),b||g.disconnectedCallback())},Lu.lumina=!0;let ou=Lu;function Ab([u,i]){this[u]=i}const wb=u=>{const i=u.prototype,s=Element.prototype;Object.hasOwn(i,"isConnected")||(i.setAttribute=function(o,d){s.setAttribute.call(this.el,o,d)},i.removeAttribute=function(o){s.removeAttribute.call(this.el,o)},hr(i,"isConnected",{get(){return Reflect.get(s,"isConnected",this.el)}}))};const Bm={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},Hm=u=>(...i)=>({_$litDirective$:u,values:i});let $m=class{constructor(i){}get _$AU(){return this._$AM._$AU}_$AT(i,s,l){this._$Ct=i,this._$AM=s,this._$Ci=l}_$AS(i,s){return this.update(i,s)}update(i,s){return this.render(...s)}};const Cb=Hm(class extends $m{constructor(u){if(super(u),u.type!==Bm.ATTRIBUTE||u.name!=="class"||u.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(u){return" "+Object.keys(u).filter((i=>u[i])).join(" ")+" "}update(u,[i]){if(this.st===void 0){this.st=new Set,u.strings!==void 0&&(this.nt=new Set(u.strings.join(" ").split(/\s/).filter((l=>l!==""))));for(const l in i)i[l]&&!this.nt?.has(l)&&this.st.add(l);return this.render(i)}const s=u.element.classList;for(const l of this.st)l in i||(s.remove(l),this.st.delete(l));for(const l in i){const o=!!i[l];o===this.st.has(l)||this.nt?.has(l)||(o?(s.add(l),this.st.add(l)):(s.remove(l),this.st.delete(l)))}return bn}});const qm="important",Ob=" !"+qm,xb=Hm(class extends $m{constructor(u){if(super(u),u.type!==Bm.ATTRIBUTE||u.name!=="style"||u.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(u){return Object.keys(u).reduce(((i,s)=>{const l=u[s];return l==null?i:i+`${s=s.includes("-")?s:s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${l};`}),"")}update(u,[i]){const{style:s}=u.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(i)),this.render(i);for(const l of this.ft)i[l]==null&&(this.ft.delete(l),l.includes("-")?s.removeProperty(l):s[l]=null);for(const l in i){const o=i[l];if(o!=null){this.ft.add(l);const d=typeof o=="string"&&o.endsWith(Ob);l.includes("-")||d?s.setProperty(l,d?o.slice(0,-11):o,d?qm:""):s[l]=o}}return bn}});class Db extends ub{constructor(i){super(i),this.destroyed=!1,this.R=!1,this.V=st,this.T=[],this.#n=new WeakMap,this.#e=i,this.exports=void 0,this.hasDestroy=uu in i&&typeof i.destroy=="function",zi.prototype.addController.call(i,{hostConnected:()=>{if(this.destroyed){const s=i.el.localName;throw i.el.remove(),new Error(`The ${s} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${uu} prop.`)}this.#a!==void 0&&clearTimeout(this.#a),Or();for(const s of i.M)"triggerConnected"in s?s.triggerConnected():et(s.hostConnected,s)},hostDisconnected:()=>{for(const s of i.M)"triggerDisconnected"in s?s.triggerDisconnected():et(s.hostDisconnected,s);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const s of i.M)"triggerUpdate"in s?s.triggerUpdate(this.Q):et(s.hostUpdate,s,this.Q)},hostUpdated:()=>{for(const s of i.M)"triggerUpdated"in s?s.triggerUpdated(this.Q):et(s.hostUpdated,s,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),Ls(i)}#a;#e;async destroy(){if(!this.destroyed){this.#e.el.isConnected&&(this.hasDestroy=!1,this.#e.el.remove()),this.#a=void 0,this.destroyed=!0;for(const i of this.#e.M)"triggerDestroy"in i?i.triggerDestroy():et(i.hostDestroy,i);this.#e.M.splice(0)}}U(){if(this.#a!==void 0&&clearTimeout(this.#a),!this.#e.el.isConnected&&!this.#e.autoDestroyDisabled){const i=()=>void this.#e.destroy();this.#a=nb(i,Mb)}}S(i,s){const l=this.T;this.V=st,this.T=[],l.forEach(o=>o(i,s))}#n;W(i,s){(typeof s=="object"&&s!==null||typeof s=="function")&&this.#n.set(s,i)}X(i){if(typeof i=="object"&&i!==null||typeof i=="function")return this.#n.get(i)}}let Mb=1e3;const uu="autoDestroyDisabled";var Vn,Zs,Ks,Gn,ba,ki,Vm,Gm;const Vs=class Vs extends zi{constructor(){super();fa(this,ki);fa(this,Vn);fa(this,Zs);fa(this,Ks);fa(this,Gn);fa(this,ba);this.M=[],this.manager=new Db(this);const s=this,l=s.constructor,o=l.N,d=l.K.o,f=Vs.prototype.shouldUpdate;ha(s,Gn,o?.H??new Ys),s.I=o?.I??new Ys,s.J=o?.J??[],s._offspring=s.J,s._postLoad=s.I,s.el=o??s,ha(s,Ks,s.enableUpdating),s.enableUpdating=Mu,s.shouldUpdate!==f&&(ha(s,Zs,s.shouldUpdate),s.shouldUpdate=f),d&&(ha(s,Vn,new Map),l.elementProperties.forEach((p,m)=>Ie(s,Vn).set(m,d())))}static finalizeStyles(s){const l=super.finalizeStyles(s),o=this.shadowRootOptions===Kp;return this.K?.commonStyles===void 0||o?l:[this.K.commonStyles,...l]}static createProperty(s,l){const o=typeof l=="number"?l:Array.isArray(l)?l[0]:0,d=Array.isArray(l)?l[1]:void 0,f=d?.hasChanged??Cu,p={attribute:o&pb&&typeof s=="string"?Im(s):!1,reflect:!!(o&mb),type:o&gb?Boolean:o&yb?Number:void 0,state:!!(o&vb),readOnly:!!(o&bb),noAccessor:!!(o&Sb),c:!1,...d,hasChanged(m,y){const g=f(m,y);return p.c=g,g}};super.createProperty(s,p)}static getPropertyDescriptor(s,l,o){const d=this.K,f=super.getPropertyDescriptor(s,l,o);return o.d=f,{...f,get(){return d.t?.(Ie(this,Vn).get(s)),f.get?.call(this)},set(p){const m=this.manager;if(o.readOnly&&!lu&&(m.R||m.connectedCalled))throw Error(`Cannot assign to read-only property "${s}" of ${this.el.localName}. Trying to assign "${p}"`);f.set.call(this,p??void 0),o.c&&Ie(this,Vn)?.get(s)?.notify(),m.T.length>0&&(Or(),m?.S(s,p))}}}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const s=this.constructor.K.c?.(()=>this.requestUpdate());ha(this,ba,s);const l=!this.manager.connectedCalled;super.connectedCallback(),l?queueMicrotask(()=>Rs(this,ki,Gm).call(this).catch(o=>{Ie(this,Gn).reject(o),setTimeout(()=>{throw o})})):s&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),Ie(this,ba)?.destroy(),ha(this,ba,void 0)}createRenderRoot(){const s=this.el.shadowRoot,l=this.constructor,o=l.shadowRootOptions,f=s??(o===Kp?this.el:this.el.attachShadow(o));if(this.isConnected){const p=f.getRootNode();p.adoptedStyleSheets=[...p.adoptedStyleSheets,...l.elementStyles.map(m=>"styleSheet"in m?m.styleSheet:m)]}return f}shouldUpdate(s){var l;return this.manager.Q=s,((l=Ie(this,Zs))==null?void 0:l.call(this,s))??!0}update(s){Ie(this,ba)?Rs(this,ki,Vm).call(this,s):super.update(s)}listen(s,l,o){const d=l?.bind(this)??l;this.manager.onLifecycle(()=>(this.el.addEventListener(s,d,o),()=>this.el.removeEventListener(s,d,o)))}listenOn(s,l,o,d){const f=o?.bind(this)??o;this.manager.onLifecycle(()=>(s.addEventListener(l,f,d),()=>s.removeEventListener(l,f,d)))}async componentOnReady(){return await Ie(this,Gn).promise,this}addController(s){this.M.push(s),!(Tu in s)&&this.renderRoot&&this.el.isConnected&&s.hostConnected?.()}removeController(s){this.M.splice(this.M.indexOf(s),1),s.controllerRemoved?.()}};Vn=new WeakMap,Zs=new WeakMap,Ks=new WeakMap,Gn=new WeakMap,ba=new WeakMap,ki=new WeakSet,Vm=function(s){try{Ie(this,ba).clear(),this.constructor.K.r(Ie(this,ba),()=>zp(Vs.prototype,this,"update").call(this,s))}catch(l){throw Ie(this,ba).clear(),l}},Gm=async function(){const s=this.el.G??km(this.el);s&&await s;const l=[];for(const d of this.M)"triggerLoad"in d?l.push(d.triggerLoad()):l.push(su(d.hostLoad,d));await Promise.all(l),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(d=>d.has(uu)&&this.manager.U()),Ie(this,Ks).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const o=this.J.filter(d=>!d.manager?.loadedCalled);o.length&&await Promise.allSettled(o.map(async d=>await d.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const d of this.M)"triggerLoaded"in d?d.triggerLoaded():et(d.hostLoaded,d);this.loaded?.(),Ie(this,Gn).resolve()},Vs.lumina=!0;let Wp=Vs;const Rb=u=>{let i;const s=o=>{i=new URL(o,globalThis.location?.href||void 0).href},l={...u,getAssetPath(o){const d=new URL(o,i);return d.origin!==globalThis.location?.origin?d.href:d.pathname},setAssetPath:s,customElement(o,d){d.K=l,d.L=o,customElements.get(o)||customElements.define(o,d)}};return s(u.defaultAssetPath),l},o_=u=>typeof u=="object"&&u!=null?Cb(u):u,c_=u=>typeof u=="object"&&u!=null?xb(u):u,u_=st;function d_(u,i,s){s==null?u.removeAttribute(i):u.setAttribute(i,s)}const f_={toAttribute:u=>u===!0?"":u===!1?null:u},Nb={},Ub=(u,i)=>s=>{const l=s.tagName;let o=Nb;const d={name:l,get prototype(){if(o===void 0){const p=customElements.get(l);if(!p)throw new Error(`Custom element "${l}" not found`);p.F?.(),p.F=Mu,o=p.prototype,Object.defineProperty(d,"prototype",{value:o})}return o}},f=i({...s,react:u,elementClass:d});return o=void 0,f},$a=(u,i)=>({tagName:u,events:i}),Fm="calcite-mode-auto",Jm="calcite-mode-dark",jb="calcite-mode-light",h_={autoMode:Fm,darkMode:Jm,lightMode:jb,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},p_={filter:250,nextTick:0,resize:150,reposition:100},m_=10,g_=25;function Pp(){const{classList:u}=document.body,i=window.matchMedia("(prefers-color-scheme: dark)").matches,s=()=>u.contains(Jm)||u.contains(Fm)&&i?"dark":"light",l=f=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:f}})),o=f=>{d!==f&&l(f),d=f};let d=s();l(d),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",f=>o(f.matches?"dark":"light")),new MutationObserver(()=>o(s())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const Hs=globalThis.calciteConfig,y_=Hs?.focusTrapStack||[],v_=Hs?.logLevel||"info",em="3.3.3",zb="2025-10-08",Lb="7391af08e";function Ib(){if(Hs&&Hs.version)return;console.info(`Using Calcite Components ${em} [Date: ${zb}, Revision: ${Lb}]`);const u=Hs||globalThis.calciteConfig||{};Object.defineProperty(u,"version",{value:em,writable:!1}),globalThis.calciteConfig=u}document.readyState==="interactive"?Pp():document.addEventListener("DOMContentLoaded",Pp,{once:!0});queueMicrotask(Ib);const Ym=Rb({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.3.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:b_,getAssetPath:S_,setAssetPath:__}=Ym,kb=_b(Ym,{"calcite-accordion":[()=>F(()=>import("./customElement-CtRbv0YI.js"),__vite__mapDeps([0,1])),"appearance,iconPosition,iconType,scale,selectionMode"],"calcite-accordion-item":[()=>F(()=>import("./customElement-CIrwdGqs.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14])),"accordionParent:,appearance,description,expanded,heading,headingLevel,iconEnd,iconFlipRtl,iconPosition,iconStart,iconType,messageOverrides:,scale;setFocus"],"calcite-action":[()=>F(()=>import("./customElement-CoBm9_c7.js"),__vite__mapDeps([15,3,4,5,7,16,1,8,9,12,11,10,6,17])),"active,activeDescendant,alignment,appearance,aria:,compact,disabled,dragHandle,form,icon,iconFlipRtl,indicator,label,loading,messageOverrides:,scale,text,textEnabled,type,width;setFocus"],"calcite-action-bar":[()=>F(()=>import("./customElement-Bw7vzP9r.js"),__vite__mapDeps([18,6,7,1,19,5,4,20,21,12,11,22,10,8,9,23])),"actionsEndGroupLabel,expandDisabled,expanded,floating,layout,messageOverrides:,overflowActionsDisabled,overlayPositioning,position,scale;overflowActions,setFocus"],"calcite-action-group":[()=>F(()=>import("./customElement-C9zQ4Hs5.js"),__vite__mapDeps([24,21,6,7,12,11,10,8,9,20])),"columns,expanded,label,layout,menuFlipPlacements:,menuOpen,menuPlacement,messageOverrides:,overlayPositioning,scale;setFocus"],"calcite-action-menu":[()=>F(()=>import("./customElement-Uyb_3qsZ.js"),__vite__mapDeps([25,5,4,26,6,7,27,10,11,8,9,21])),"appearance,expanded,flipPlacements:,label,open,overlayPositioning,placement,scale;setFocus"],"calcite-action-pad":[()=>F(()=>import("./customElement-7vZ52veu.js"),__vite__mapDeps([28,6,7,19,5,4,20,21,1,12,11,10,8,9])),"actionsEndGroupLabel,expandDisabled,expanded,layout,messageOverrides:,overlayPositioning,position,scale;setFocus"],"calcite-alert":[()=>F(()=>import("./customElement-Ckpf5ZQj.js"),__vite__mapDeps([29,5,4,3,6,7,8,9,30,27,31,32,12,11,10])),"active,autoClose,autoCloseDuration,embedded,icon,iconFlipRtl,kind,label,messageOverrides:,numberingSystem,open,openAlertCount,placement,queue,scale;setFocus"],"calcite-autocomplete":[()=>F(()=>import("./customElement-CYZwBKkE.js"),__vite__mapDeps([33,5,4,34,11,35,6,7,23,16,31,36,17,12,22,37,38,1,10,8,9,39])),"alignment,autocomplete:,disabled,flipPlacements:,form,icon,iconFlipRtl,inputValue,label,labelText,loading,maxLength,messageOverrides:,minLength,name,open,overlayPositioning,pattern,placeholder,placement,prefixText,readOnly,required,scale,status,suffixText,validationIcon,validationMessage,validity:,value;reposition,scrollContentTo,selectText,setFocus"],"calcite-autocomplete-item":[()=>F(()=>import("./customElement-DGfLopiQ.js"),__vite__mapDeps([40,8,9,16,7,41])),"active,description,disabled,guid,heading,iconEnd,iconFlipRtl,iconStart,inputValueMatchPattern:,label,scale,value;;emitSelectEvent"],"calcite-autocomplete-item-group":[()=>F(()=>import("./customElement-10xOTjwj.js"),[]),"disableSpacing,heading,label,scale"],"calcite-avatar":[()=>F(()=>import("./customElement-S2Pan76z.js"),__vite__mapDeps([42,6,7,43,44])),"fullName,label,scale,thumbnail,userId,username"],"calcite-block":[()=>F(()=>import("./customElement-BtCWVi1p.js"),__vite__mapDeps([45,3,4,5,6,7,16,13,14,8,9,31,35,23,12,11,10,46])),"addToItems:,collapsible,description,disabled,dragDisabled,dragHandle,expanded,heading,headingLevel,iconEnd,iconFlipRtl,iconStart,label,loading,menuFlipPlacements:,menuPlacement,messageOverrides:,moveToItems:,open,overlayPositioning,scale,setPosition,setSize,sortDisabled,sortHandleOpen,status;setFocus"],"calcite-block-group":[()=>F(()=>import("./customElement-g6eCApit.js"),__vite__mapDeps([47,16,1,48,6,7,10,11,8,9,22,23])),"canPull:,canPut:,disabled,dragEnabled,group,label,loading,scale,sortDisabled;setFocus;emitOrderChangeEvent"],"calcite-block-section":[()=>F(()=>import("./customElement-DJLKzu-s.js"),__vite__mapDeps([49,3,4,6,7,27,8,9,12,11,10])),"expanded,iconEnd,iconFlipRtl,iconStart,messageOverrides:,open,scale,status,text,toggleDisplay;setFocus"],"calcite-button":[()=>F(()=>import("./customElement-C0kwHqnq.js"),__vite__mapDeps([50,5,4,14,11,17,6,7,16,36,1,8,9,12,10])),"alignment,appearance,disabled,download,form,href,iconEnd,iconFlipRtl,iconStart,kind,label,loading,messageOverrides:,name,rel,round,scale,splitChild,target,type,width;setFocus"],"calcite-card":[()=>F(()=>import("./customElement-BsPKW78m.js"),__vite__mapDeps([51,5,4,6,7,16,27,12,11,10,8,9])),"disabled,label,loading,messageOverrides:,selectable,selected,selectionMode,thumbnailPosition;setFocus"],"calcite-card-group":[()=>F(()=>import("./customElement-CWiFtn01.js"),__vite__mapDeps([52,5,4,6,7,16,10,11,8,9])),"disabled,label,selectedItems:,selectionMode;setFocus"],"calcite-carousel":[()=>F(()=>import("./customElement-CdusCypq.js"),__vite__mapDeps([53,34,4,5,6,7,16,1,54,44,26,12,11,10,8,9])),"arrowType,autoplay,autoplayDuration,controlOverlay,disabled,label,messageOverrides:,paused,selectedItem:;play,setFocus,stop"],"calcite-carousel-item":[()=>F(()=>import("./customElement-ijrptHMY.js"),__vite__mapDeps([55,7])),"label,selected"],"calcite-checkbox":[()=>F(()=>import("./customElement-eKl8IZSi.js"),__vite__mapDeps([56,5,4,6,7,17,16,27,36,37,12,11,10,8,9])),"checked,disabled,form,hovered,indeterminate,label,labelText,messageOverrides:,name,required,scale,status,validity:,value;setFocus"],"calcite-chip":[()=>F(()=>import("./customElement-Bt2a7CeL.js"),__vite__mapDeps([57,5,4,6,7,16,27,8,9,12,11,10])),"appearance,closable,closed,closeOnDelete,disabled,icon,iconFlipRtl,interactive,kind,label,messageOverrides:,parentChipGroup:,scale,selected,selectionMode,value;setFocus"],"calcite-chip-group":[()=>F(()=>import("./customElement-xYl9pTVF.js"),__vite__mapDeps([58,5,4,6,7,16,10,11,8,9])),"disabled,label,scale,selectedItems:,selectionMode;setFocus"],"calcite-color-picker":[()=>F(()=>import("./customElement-BJjZ8sgS.js"),__vite__mapDeps([59,34,4,3,43,44,5,6,7,16,27,60,12,11,22,1,10,8,9,61,23])),"allowEmpty,alphaChannel,channelsDisabled,clearable,color:,disabled,fieldDisabled,format,hexDisabled,messageOverrides:,numberingSystem,savedDisabled,scale,storageId,value;setFocus"],"calcite-color-picker-hex-input":[()=>F(()=>import("./customElement-DpSbM5_N.js"),__vite__mapDeps([62,3,4,43,44,5,10,11,8,9,6,7])),"allowEmpty,alphaChannel,hexLabel,messages:,numberingSystem,scale,value;setFocus"],"calcite-color-picker-swatch":[()=>F(()=>import("./customElement-Bx_yqy3s.js"),__vite__mapDeps([63,3,4,43,44,6,7])),"active,color,scale"],"calcite-combobox":[()=>F(()=>import("./customElement-DOOwSf_C.js"),__vite__mapDeps([64,3,4,65,66,5,67,39,6,7,35,23,17,16,36,1,31,68,8,9,37,38,12,11,41,10,22,69,70])),"allowCustomValues,clearDisabled,disabled,filteredItems:,filterProps:,filterText,flipPlacements:,form,label,labelText,maxItems,messageOverrides:,name,open,overlayPositioning,placeholder,placeholderIcon,placeholderIconFlipRtl,readOnly,required,scale,selectAllEnabled,selectedItems:,selectionDisplay,selectionMode,status,validationIcon,validationMessage,validity:,value;reposition,setFocus"],"calcite-combobox-item":[()=>F(()=>import("./customElement-DF5tIEG0.js"),__vite__mapDeps([71,3,4,7,16,70,6,69,8,9,41])),"active,ancestors:,description,disabled,filterDisabled,filterTextMatchPattern:,guid,heading,icon,iconFlipRtl,indeterminate,itemHidden,label,metadata:,scale,selected,selectionMode,shortHeading,textLabel,value"],"calcite-combobox-item-group":[()=>F(()=>import("./customElement-DyxPWdlJ.js"),__vite__mapDeps([72,7,70,6,69])),"afterEmptyGroup,ancestors:,itemHidden,label,scale"],"calcite-date-picker":[()=>F(()=>import("./customElement-BhBBc6ib.js"),__vite__mapDeps([73,74,30,27,12,11,10,8,9,6,7,75])),"activeDate:,activeRange,calendars,headingLevel,layout,max,maxAsDate:,messageOverrides:,min,minAsDate:,monthStyle,numberingSystem,proximitySelectionDisabled,range,scale,value,valueAsDate:;reset,setFocus"],"calcite-date-picker-day":[()=>F(()=>import("./customElement-2_mp191b.js"),__vite__mapDeps([76,74,30,27,6,7,16,10,11,8,9])),"active,currentMonth,dateTimeFormat:,day,disabled,endOfRange,highlighted,range,rangeEdge,rangeHover,scale,selected,startOfRange,value:;setFocus"],"calcite-date-picker-month":[()=>F(()=>import("./customElement-CeUJoCHs.js"),__vite__mapDeps([77,5,4,3,74,30,27])),"activeDate:,calendars,dateTimeFormat:,endDate:,headingLevel,hoverRange:,layout,localeData:,max:,messages:,min:,monthStyle,range,scale,selectedDate:,startDate:"],"calcite-date-picker-month-header":[()=>F(()=>import("./customElement-QMDN8yAV.js"),__vite__mapDeps([78,65,4,44,5,74,30,27,6,7])),"activeDate:,headingLevel,localeData:,max:,messages:,min:,monthStyle,position,scale,selectedDate:"],"calcite-dialog":[()=>F(()=>import("./customElement-Cy5OPZgZ.js"),__vite__mapDeps([79,3,4,80,5,6,7,1,81,31,82,12,11,83,84,10,8,9])),"beforeClose:,closeDisabled,description,dragEnabled,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,heading,headingLevel,icon,iconFlipRtl,kind,loading,menuOpen,messageOverrides:,modal,open,outsideCloseDisabled,overlayPositioning,placement,resizable,scale,width,widthScale;scrollContentTo,setFocus,updateFocusTrapElements"],"calcite-dropdown":[()=>F(()=>import("./customElement-CfTvZZr1.js"),__vite__mapDeps([85,5,4,6,7,35,23,16,27,1,31,81,10,11,8,9])),"closeOnSelectDisabled,disabled,flipPlacements:,maxItems,offsetDistance,offsetSkidding,open,overlayPositioning,placement,scale,selectedItems:,type,width,widthScale;reposition,setFocus"],"calcite-dropdown-group":[()=>F(()=>import("./customElement-w1yBT_74.js"),__vite__mapDeps([86,1,87])),"groupTitle,position,scale,selectionMode"],"calcite-dropdown-item":[()=>F(()=>import("./customElement-DR4I6G3H.js"),__vite__mapDeps([88,5,4,6,7,8,9,16,10,11,87])),"disabled,href,iconEnd,iconFlipRtl,iconStart,label,rel,scale,selected,selectionMode,target;setFocus"],"calcite-fab":[()=>F(()=>import("./customElement-DS157MOW.js"),__vite__mapDeps([89,5,4,16,10,11,8,9,6,7])),"appearance,disabled,icon,iconFlipRtl,kind,label,loading,scale,text,textEnabled;setFocus"],"calcite-filter":[()=>F(()=>import("./customElement-CYQWn8-p.js"),__vite__mapDeps([90,5,4,67,39,16,22,11,12,10,8,9,6,7,23])),"disabled,filteredItems:,filterProps:,items:,label,messageOverrides:,placeholder,scale,value;filter,setFocus"],"calcite-flow":[()=>F(()=>import("./customElement-j85yXPFn.js"),__vite__mapDeps([91,5,4,1,6,7,10,11,8,9])),"customItemSelectors;back,setFocus"],"calcite-flow-item":[()=>F(()=>import("./customElement-CncSy1vp.js"),__vite__mapDeps([92,3,4,5,6,7,16,82,12,11,10,8,9])),"beforeBack:,beforeClose:,closable,closed,collapsed,collapseDirection,collapsible,description,disabled,heading,headingLevel,icon,iconFlipRtl,loading,menuOpen,messageOverrides:,overlayPositioning,scale,selected,showBackButton;scrollContentTo,setFocus"],"calcite-graph":[()=>F(()=>import("./customElement-Cj2D3LaO.js"),__vite__mapDeps([93,7,1])),"colorStops:,data:,highlightMax,highlightMin,max,min"],"calcite-handle":[()=>F(()=>import("./customElement-CQfUGkHt.js"),__vite__mapDeps([94,5,4,16,12,11,9,10,8,6,7])),"blurUnselectDisabled,disabled,dragHandle,label,messageOverrides:,selected,setPosition,setSize;setFocus"],"calcite-icon":[()=>F(()=>import("./customElement-Cq2uujoM.js"),__vite__mapDeps([95,6,7,1,9])),"flipRtl,icon,preload,scale,textLabel"],"calcite-inline-editable":[()=>F(()=>import("./customElement-Dj7nTkMz.js"),__vite__mapDeps([96,5,4,16,36,6,7,12,11,10,8,9])),"afterConfirm:,controls,disabled,editingEnabled,loading,messageOverrides:,scale;setFocus"],"calcite-input":[()=>F(()=>import("./customElement-DRroC7Pe.js"),__vite__mapDeps([97,65,4,3,5,14,11,6,7,17,16,27,36,30,8,9,37,38,12,10,98])),"accept,alignment,autocomplete:,clearable,disabled,editingEnabled,files:,form,groupSeparator,icon,iconFlipRtl,label,labelText,loading,localeFormat,max,maxLength,messageOverrides:,min,minLength,multiple,name,numberButtonType,numberingSystem,pattern,placeholder,prefixText,readOnly,required,scale,status,step,suffixText,type,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-date-picker":[()=>F(()=>import("./customElement-Dfbejgko.js"),__vite__mapDeps([99,5,4,83,11,6,7,74,30,27,35,23,17,16,36,8,9,31,75,37,38,98,12,10])),"calendars,disabled,flipPlacements:,focusTrapDisabled,form,headingLevel,label,labelText,layout,max,maxAsDate:,messageOverrides:,min,minAsDate:,monthStyle,name,numberingSystem,open,overlayPositioning,placement,proximitySelectionDisabled,range,readOnly,required,scale,status,validationIcon,validationMessage,validity:,value,valueAsDate:;reposition,setFocus"],"calcite-input-message":[()=>F(()=>import("./customElement-BPrZAYPk.js"),__vite__mapDeps([100,6,7])),"icon,iconFlipRtl,scale,status"],"calcite-input-number":[()=>F(()=>import("./customElement-Coo6he7p.js"),__vite__mapDeps([101,65,4,3,5,11,6,7,17,16,27,36,30,8,9,37,38,98,12,10])),"alignment,autocomplete:,clearable,disabled,editingEnabled,form,groupSeparator,icon,iconFlipRtl,integer,label,labelText,loading,localeFormat,max,maxLength,messageOverrides:,min,minLength,name,numberButtonType,numberingSystem,placeholder,prefixText,readOnly,required,scale,status,step,suffixText,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-text":[()=>F(()=>import("./customElement-DFWbOTcO.js"),__vite__mapDeps([102,65,4,5,11,6,7,17,16,36,8,9,37,38,98,12,10])),"alignment,autocomplete:,clearable,disabled,editingEnabled,form,icon,iconFlipRtl,label,labelText,loading,maxLength,messageOverrides:,minLength,name,pattern,placeholder,prefixText,readOnly,required,scale,status,suffixText,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-time-picker":[()=>F(()=>import("./customElement-CktQvHZJ.js"),__vite__mapDeps([103,5,4,17,6,7,16,36,60,8,9,37,38,98,12,11,30,27,10,104,41])),"disabled,focusTrapDisabled,form,hourFormat,label,labelText,max,messageOverrides:,min,name,numberingSystem,open,overlayPositioning,placement,readOnly,required,scale,status,step,validationIcon,validationMessage,validity:,value;reposition,setFocus"],"calcite-input-time-zone":[()=>F(()=>import("./customElement-C7HoBM3K.js"),__vite__mapDeps([105,34,4,3,5,36,6,7,16,17,12,11,69,10,8,9,30,27])),"clearable,disabled,form,labelText,maxItems,messageOverrides:,mode,name,offsetStyle,open,overlayPositioning,readOnly,referenceDate,required,scale,status,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-label":[()=>F(()=>import("./customElement-DNcir1YL.js"),__vite__mapDeps([106,36,6,7])),"alignment,for,layout,scale"],"calcite-link":[()=>F(()=>import("./customElement-Cph3AcCx.js"),__vite__mapDeps([107,14,5,4,6,7,16,10,11,8,9])),"disabled,download,href,iconEnd,iconFlipRtl,iconStart,rel,target;setFocus"],"calcite-list":[()=>F(()=>import("./customElement-DBPzfzds.js"),__vite__mapDeps([108,5,4,3,6,7,16,1,109,48,110,30,27,12,11,22,10,8,9,23])),"canPull:,canPut:,disabled,displayMode,dragEnabled,filteredData:,filteredItems:,filterEnabled,filterLabel,filterPlaceholder,filterPredicate:,filterProps:,filterText,group,interactionMode,label,loading,messageOverrides:,numberingSystem,scale,selectedItems:,selectionAppearance,selectionMode,sortDisabled;setFocus;emitOrderChangeEvent"],"calcite-list-item":[()=>F(()=>import("./customElement-Bpte5ocm.js"),__vite__mapDeps([111,3,4,5,6,7,16,12,11,8,9,46,10,109,112])),"active,addToItems:,bordered,closable,closed,description,disabled,displayMode,dragDisabled,dragHandle,expanded,filterHidden,iconEnd,iconFlipRtl,iconStart,interactionMode,label,messageOverrides:,metadata:,moveToItems:,open,scale,selected,selectionAppearance,selectionMode,setPosition,setSize,sortDisabled,sortHandleOpen,unavailable,value;setFocus"],"calcite-list-item-group":[()=>F(()=>import("./customElement-BgEVpEFE.js"),__vite__mapDeps([113,16,112])),"disabled,filterHidden,heading,scale"],"calcite-loader":[()=>F(()=>import("./customElement-Cp780VM-.js"),__vite__mapDeps([114,7,12,11])),"complete,inline,label,scale,text,type,value"],"calcite-menu":[()=>F(()=>import("./customElement-CtnEt_g5.js"),__vite__mapDeps([115,11,6,7,12,10,8,9])),"label,layout,messageOverrides:;setFocus"],"calcite-menu-item":[()=>F(()=>import("./customElement-BPETfEw5.js"),__vite__mapDeps([116,3,4,5,6,7,12,11,10,8,9])),"active,breadcrumb,href,iconEnd,iconFlipRtl,iconStart,isTopLevelItem,label,layout,messageOverrides:,open,rel,target,text,topLevelMenuLayout;setFocus"],"calcite-meter":[()=>F(()=>import("./customElement-BulF4eww.js"),__vite__mapDeps([117,3,4,5,17,6,7,30,27,1,12,11])),"appearance,disabled,fillType,form,groupSeparator,high,label,low,max,min,name,numberingSystem,rangeLabels,rangeLabelType,scale,unitLabel,value,valueLabel,valueLabelType"],"calcite-modal":[()=>F(()=>import("./customElement-C4vhRf6k.js"),__vite__mapDeps([118,3,4,5,6,7,1,31,8,9,12,11,84,83,10])),"beforeClose:,closeButtonDisabled,docked,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,fullscreen,kind,messageOverrides:,open,opened,outsideCloseDisabled,scale,widthScale;scrollContent,setFocus,updateFocusTrapElements"],"calcite-navigation":[()=>F(()=>import("./customElement-Bde5WC-Z.js"),__vite__mapDeps([119,5,4,6,7,10,11,8,9])),"label,navigationAction;setFocus"],"calcite-navigation-logo":[()=>F(()=>import("./customElement-A60AnTAS.js"),__vite__mapDeps([120,3,4,13,14,10,11,8,9,6,7])),"active,description,heading,headingLevel,href,icon,iconFlipRtl,label,rel,target,thumbnail;setFocus"],"calcite-navigation-user":[()=>F(()=>import("./customElement-BXY6k5Pu.js"),__vite__mapDeps([121,3,4,10,11,8,9,6,7])),"active,fullName,label,textDisabled,thumbnail,userId,username;setFocus"],"calcite-notice":[()=>F(()=>import("./customElement-CKB7UejO.js"),__vite__mapDeps([122,5,4,6,7,32,31,8,9,12,11,10])),"closable,icon,iconFlipRtl,kind,messageOverrides:,open,scale,width;setFocus"],"calcite-option":[()=>F(()=>import("./customElement-CVdJo0Dw.js"),__vite__mapDeps([123,1])),"disabled,label,selected,value"],"calcite-option-group":[()=>F(()=>import("./customElement-BqZknF79.js"),[]),"disabled,label"],"calcite-pagination":[()=>F(()=>import("./customElement-tejdFgIe.js"),__vite__mapDeps([124,3,4,30,27,1,54,44,8,9,12,11,10,6,7])),"groupSeparator,messageOverrides:,numberingSystem,pageSize,scale,startItem,totalItems;goTo,nextPage,previousPage,setFocus"],"calcite-panel":[()=>F(()=>import("./customElement-B3GXEOff.js"),__vite__mapDeps([125,3,4,5,6,7,16,8,9,1,21,13,14,35,23,12,11,10,82])),"beforeClose:,closable,closed,collapsed,collapseDirection,collapsible,description,disabled,heading,headingLevel,icon,iconFlipRtl,loading,menuFlipPlacements:,menuOpen,menuPlacement,messageOverrides:,overlayPositioning,scale;scrollContentTo,setFocus"],"calcite-popover":[()=>F(()=>import("./customElement-C3ymixL_.js"),__vite__mapDeps([126,3,4,5,35,6,7,23,31,13,14,1,127,8,9,12,11,83,10,27])),"autoClose,closable,flipDisabled,flipPlacements:,focusTrapDisabled,focusTrapOptions:,heading,headingLevel,label,messageOverrides:,offsetDistance,offsetSkidding,open,overlayPositioning,placement,pointerDisabled,referenceElement,scale,triggerDisabled;reposition,setFocus,updateFocusTrapElements"],"calcite-progress":[()=>F(()=>import("./customElement-CcKy8jsj.js"),__vite__mapDeps([128,6,7])),"label,reversed,text,type,value"],"calcite-radio-button":[()=>F(()=>import("./customElement-V448WN0R.js"),__vite__mapDeps([129,5,4,26,6,7,17,16,36,37,10,11,8,9])),"checked,disabled,focused,form,hovered,label,labelText,name,required,scale,value;emitCheckedChange,setFocus"],"calcite-radio-button-group":[()=>F(()=>import("./customElement-CyUkzDWh.js"),__vite__mapDeps([130,1,37,38,5,4,12,11,10,8,9,6,7])),"disabled,labelText,layout,messageOverrides:,name,required,scale,selectedItem:,status,validationIcon,validationMessage;setFocus"],"calcite-rating":[()=>F(()=>import("./customElement-CgJDPgd1.js"),__vite__mapDeps([131,65,4,17,6,7,16,36,37,38,5,12,11,10,8,9])),"average,count,disabled,form,labelText,messageOverrides:,name,readOnly,required,scale,showChip,status,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-scrim":[()=>F(()=>import("./customElement-Bu2WZv0w.js"),__vite__mapDeps([132,5,4,1,6,7,12,11])),"loading,messageOverrides:"],"calcite-segmented-control":[()=>F(()=>import("./customElement-CVvqZT-j.js"),__vite__mapDeps([133,6,7,17,16,36,37,38,5,4,12,11,10,8,9])),"appearance,disabled,form,labelText,layout,messageOverrides:,name,required,scale,selectedItem:,status,validationIcon,validationMessage,validity:,value,width;setFocus"],"calcite-segmented-control-item":[()=>F(()=>import("./customElement-DPC_Bi-o.js"),__vite__mapDeps([134,6,7])),"appearance,checked,iconEnd,iconFlipRtl,iconStart,layout,scale,value"],"calcite-select":[()=>F(()=>import("./customElement-B-5chSbF.js"),__vite__mapDeps([135,5,4,12,11,17,6,7,16,36,1,8,9,37,38,10])),"disabled,form,label,labelText,messageOverrides:,name,required,scale,selectedOption:,status,validationIcon,validationMessage,validity:,value,width;setFocus"],"calcite-sheet":[()=>F(()=>import("./customElement-C7E9Uvzf.js"),__vite__mapDeps([136,5,4,3,80,6,7,1,31,81,60,12,11,84,83,10,8,9])),"beforeClose:,displayMode,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,height,heightScale,label,messageOverrides:,open,opened,outsideCloseDisabled,position,resizable,width,widthScale;setFocus,updateFocusTrapElements"],"calcite-shell":[()=>F(()=>import("./customElement-CV0_5DCy.js"),__vite__mapDeps([137,3,4,6,7])),"contentBehind"],"calcite-shell-center-row":[()=>F(()=>import("./customElement-CdgeHiN3.js"),__vite__mapDeps([138,3,4,6,7,9])),"detached,heightScale,position"],"calcite-shell-panel":[()=>F(()=>import("./customElement-B_IfCC0U.js"),__vite__mapDeps([139,3,4,80,5,6,7,60,81,12,11])),"collapsed,displayMode,height,heightScale,layout,messageOverrides:,position,resizable,width,widthScale"],"calcite-slider":[()=>F(()=>import("./customElement-S51uTf4u.js"),__vite__mapDeps([140,3,4,5,7,6,37,38,17,16,27,36,30,60,12,11,10,8,9])),"disabled,fillPlacement,form,groupSeparator,hasHistogram,histogram:,histogramStops:,labelFormatter:,labelHandles,labelText,labelTicks,max,maxLabel,maxValue,messageOverrides:,min,minLabel,minValue,mirrored,name,numberingSystem,pageStep,precise,required,scale,snap,status,step,ticks,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-sort-handle":[()=>F(()=>import("./customElement-lvxfwpgn.js"),__vite__mapDeps([141,5,4,3,16,35,6,7,23,12,11,10,8,9])),"addToItems:,disabled,flipPlacements:,label,messageOverrides:,messages:,moveToItems:,open,overlayPositioning,placement,scale,setPosition,setSize,sortDisabled,widthScale;setFocus"],"calcite-sortable-list":[()=>F(()=>import("./customElement-8P70D8wI.js"),__vite__mapDeps([142,16,1,48,6,7,9])),"canPull:,canPut:,disabled,dragSelector,group,handleSelector,layout,loading"],"calcite-split-button":[()=>F(()=>import("./customElement-0hxbdNIl.js"),__vite__mapDeps([143,16,10,11,8,9,6,7])),"active,appearance,disabled,download,dropdownIconType,dropdownLabel,flipPlacements:,href,kind,loading,overlayPositioning,placement,primaryIconEnd,primaryIconFlipRtl,primaryIconStart,primaryLabel,primaryText,rel,scale,target,width;setFocus"],"calcite-stack":[()=>F(()=>import("./customElement-DduWaqAx.js"),__vite__mapDeps([144,3,4,6,7,110])),"disabled"],"calcite-stepper":[()=>F(()=>import("./customElement-BdRcvWEp.js"),__vite__mapDeps([145,5,4,6,7,1,12,11,8,9])),"icon,layout,messageOverrides:,numbered,numberingSystem,scale,selectedItem:;endStep,goToStep,nextStep,prevStep,startStep"],"calcite-stepper-item":[()=>F(()=>import("./customElement-DSzGMSUf.js"),__vite__mapDeps([146,5,4,16,30,27,12,11,8,9,10,6,7])),"complete,description,disabled,error,heading,icon,iconFlipRtl,itemHidden,layout,messageOverrides:,numbered,numberingSystem,scale,selected;setFocus"],"calcite-swatch":[()=>F(()=>import("./customElement-SOvddh-K.js"),__vite__mapDeps([147,3,4,5,43,44,6,7,16,10,11,8,9])),"color,disabled,interactive,label,parentSwatchGroup:,scale,selected,selectionMode,value;setFocus"],"calcite-swatch-group":[()=>F(()=>import("./customElement-DLo1KqoO.js"),__vite__mapDeps([148,5,4,6,7,16,10,11,8,9])),"disabled,label,scale,selectedItems:,selectionMode;setFocus"],"calcite-switch":[()=>F(()=>import("./customElement-CHjlC9Et.js"),__vite__mapDeps([149,5,4,17,6,7,16,27,36,37,10,11,8,9])),"checked,disabled,form,label,labelTextEnd,labelTextStart,name,scale,value;setFocus"],"calcite-tab":[()=>F(()=>import("./customElement-CvFUF1Wx.js"),__vite__mapDeps([150,6,7])),"scale,selected,tab;getTabIndex;_updateAriaInfo"],"calcite-tab-nav":[()=>F(()=>import("./customElement-cWaVtlsH.js"),__vite__mapDeps([151,5,4,3,66,6,7,1,12,11])),"bordered,layout,messageOverrides:,position,scale,selectedTitle:,storageId,syncId"],"calcite-tab-title":[()=>F(()=>import("./customElement-DLvRxXWs.js"),__vite__mapDeps([152,3,4,5,6,7,16,1,8,9,68,12,11])),"bordered,closable,closed,disabled,iconEnd,iconFlipRtl,iconStart,layout,messageOverrides:,position,scale,selected,tab;activateTab,getTabIdentifier,getTabIndex;_updateAriaInfo"],"calcite-table":[()=>F(()=>import("./customElement-C4uvSl3p.js"),__vite__mapDeps([153,5,4,30,27,12,11,8,9])),"bordered,caption,groupSeparator,interactionMode,layout,messageOverrides:,numbered,numberingSystem,pageSize,scale,selectedItems:,selectionDisplay,selectionMode,striped"],"calcite-table-cell":[()=>F(()=>import("./customElement-Coq3jhtc.js"),__vite__mapDeps([154,5,4,16,6,7,12,11,10,8,9])),"alignment,colSpan,disabled,interactionMode,lastCell,messageOverrides:,numberCell,parentRowAlignment,parentRowIsSelected,parentRowPositionLocalized,parentRowType,positionInRow,readCellContentsToAT,rowSpan,scale,selectionCell;setFocus"],"calcite-table-header":[()=>F(()=>import("./customElement-CAiO85JU.js"),__vite__mapDeps([155,5,4,8,9,12,11,10,6,7])),"alignment,bodyRowCount,colSpan,description,heading,interactionMode,lastCell,messageOverrides:,numberCell,parentRowAlignment,parentRowIsSelected,parentRowType,positionInRow,rowSpan,scale,selectedRowCount,selectedRowCountLocalized,selectionCell,selectionMode;setFocus"],"calcite-table-row":[()=>F(()=>import("./customElement-ed8nqxrK.js"),__vite__mapDeps([156,3,4,5,6,7,27,16,8,9])),"alignment,bodyRowCount,cellCount,disabled,interactionMode,itemHidden,lastVisibleRow,numbered,positionAll,positionSection,positionSectionLocalized,readCellContentsToAT,rowType,scale,selected,selectedRowCount,selectedRowCountLocalized,selectionMode"],"calcite-tabs":[()=>F(()=>import("./customElement-BQbTp34n.js"),__vite__mapDeps([157,5,4,6,7])),"bordered,layout,position,scale"],"calcite-text-area":[()=>F(()=>import("./customElement-5bx8Q9cC.js"),__vite__mapDeps([158,65,4,5,11,17,6,7,36,30,27,1,16,37,38,98,12,22,10,8,9,61,23])),"columns,disabled,form,groupSeparator,label,labelText,limitText,maxLength,messageOverrides:,minLength,name,numberingSystem,placeholder,readOnly,required,resize,rows,scale,status,validationIcon,validationMessage,validity:,value,wrap;selectText,setFocus"],"calcite-tile":[()=>F(()=>import("./customElement-gmUyF1La.js"),__vite__mapDeps([159,5,4,16,6,7,10,11,8,9])),"active,alignment,description,disabled,embed,heading,href,icon,iconFlipRtl,interactive,label,layout,scale,selected,selectionAppearance,selectionMode;setFocus"],"calcite-tile-group":[()=>F(()=>import("./customElement-BE-pqv3c.js"),__vite__mapDeps([160,5,4,16,1,6,7])),"alignment,disabled,label,layout,scale,selectedItems:,selectionAppearance,selectionMode"],"calcite-tile-select":[()=>F(()=>import("./customElement-DGzqmCpT.js"),__vite__mapDeps([161,7,16,9,10,11,8,6])),"checked,description,disabled,heading,icon,iconFlipRtl,inputAlignment,inputEnabled,name,type,value,width;setFocus"],"calcite-tile-select-group":[()=>F(()=>import("./customElement-ubuW22mf.js"),__vite__mapDeps([162,16,9])),"disabled,layout"],"calcite-time-picker":[()=>F(()=>import("./customElement-pR1ScHev.js"),__vite__mapDeps([163,5,4,30,27,8,9,60,6,7,12,11,10,104,41])),"hourFormat,messageOverrides:,numberingSystem,scale,step,time:,value;setFocus"],"calcite-tip":[()=>F(()=>import("./customElement-Dgv8BIUY.js"),__vite__mapDeps([164,3,4,13,14,9,6,7,12,11])),"closed,closeDisabled,heading,headingLevel,messageOverrides:,selected"],"calcite-tip-group":[()=>F(()=>import("./customElement-Dp4DR-W2.js"),__vite__mapDeps([165,9])),"groupTitle"],"calcite-tip-manager":[()=>F(()=>import("./customElement-DpfW20I8.js"),__vite__mapDeps([166,5,4,3,6,7,1,13,14,9,12,11])),"closed,headingLevel,messageOverrides:;nextTip,previousTip"],"calcite-tooltip":[()=>F(()=>import("./customElement-Dc4gOalO.js"),__vite__mapDeps([167,5,4,35,6,7,23,31,127,3])),"closeOnClick,label,offsetDistance,offsetSkidding,open,overlayPositioning,placement,referenceElement;reposition"],"calcite-tree":[()=>F(()=>import("./customElement-CwoqSW19.js"),__vite__mapDeps([168,6,7])),"child,lines,parentExpanded,scale,selectedItems:,selectionMode"],"calcite-tree-item":[()=>F(()=>import("./customElement-wVPsLejA.js"),__vite__mapDeps([169,3,4,5,6,7,16,8,9])),"depth,disabled,expanded,hasChildren,iconFlipRtl,iconStart,indeterminate,label,lines,parentExpanded,scale,selected,selectionMode"]});var Yc={exports:{}},ve={};var tm;function Bb(){if(tm)return ve;tm=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function w(_){return _===null||typeof _!="object"?null:(_=S&&_[S]||_["@@iterator"],typeof _=="function"?_:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,q={};function O(_,U,I){this.props=_,this.context=U,this.refs=q,this.updater=I||E}O.prototype.isReactComponent={},O.prototype.setState=function(_,U){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,U,"setState")},O.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function D(){}D.prototype=O.prototype;function B(_,U,I){this.props=_,this.context=U,this.refs=q,this.updater=I||E}var K=B.prototype=new D;K.constructor=B,N(K,O.prototype),K.isPureReactComponent=!0;var X=Array.isArray;function J(){}var Z={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function pe(_,U,I){var Y=I.ref;return{$$typeof:u,type:_,key:U,ref:Y!==void 0?Y:null,props:I}}function be(_,U){return pe(_.type,U,_.props)}function ie(_){return typeof _=="object"&&_!==null&&_.$$typeof===u}function se(_){var U={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(I){return U[I]})}var oe=/\/+/g;function Ne(_,U){return typeof _=="object"&&_!==null&&_.key!=null?se(""+_.key):U.toString(36)}function ee(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(J,J):(_.status="pending",_.then(function(U){_.status==="pending"&&(_.status="fulfilled",_.value=U)},function(U){_.status==="pending"&&(_.status="rejected",_.reason=U)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function x(_,U,I,Y,ne){var P=typeof _;(P==="undefined"||P==="boolean")&&(_=null);var fe=!1;if(_===null)fe=!0;else switch(P){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(_.$$typeof){case u:case i:fe=!0;break;case g:return fe=_._init,x(fe(_._payload),U,I,Y,ne)}}if(fe)return ne=ne(_),fe=Y===""?"."+Ne(_,0):Y,X(ne)?(I="",fe!=null&&(I=fe.replace(oe,"$&/")+"/"),x(ne,U,I,"",function(de){return de})):ne!=null&&(ie(ne)&&(ne=be(ne,I+(ne.key==null||_&&_.key===ne.key?"":(""+ne.key).replace(oe,"$&/")+"/")+fe)),U.push(ne)),1;fe=0;var Q=Y===""?".":Y+":";if(X(_))for(var V=0;V<_.length;V++)Y=_[V],P=Q+Ne(Y,V),fe+=x(Y,U,I,P,ne);else if(V=w(_),typeof V=="function")for(_=V.call(_),V=0;!(Y=_.next()).done;)Y=Y.value,P=Q+Ne(Y,V++),fe+=x(Y,U,I,P,ne);else if(P==="object"){if(typeof _.then=="function")return x(ee(_),U,I,Y,ne);throw U=String(_),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return fe}function H(_,U,I){if(_==null)return _;var Y=[],ne=0;return x(_,Y,"","",function(P){return U.call(I,P,ne++)}),Y}function ae(_){if(_._status===-1){var U=_._result;U=U(),U.then(function(I){(_._status===0||_._status===-1)&&(_._status=1,_._result=I)},function(I){(_._status===0||_._status===-1)&&(_._status=2,_._result=I)}),_._status===-1&&(_._status=0,_._result=U)}if(_._status===1)return _._result.default;throw _._result}var ce=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},W={map:H,forEach:function(_,U,I){H(_,function(){U.apply(this,arguments)},I)},count:function(_){var U=0;return H(_,function(){U++}),U},toArray:function(_){return H(_,function(U){return U})||[]},only:function(_){if(!ie(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return ve.Activity=b,ve.Children=W,ve.Component=O,ve.Fragment=s,ve.Profiler=o,ve.PureComponent=B,ve.StrictMode=l,ve.Suspense=m,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ve.__COMPILER_RUNTIME={__proto__:null,c:function(_){return Z.H.useMemoCache(_)}},ve.cache=function(_){return function(){return _.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(_,U,I){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Y=N({},_.props),ne=_.key;if(U!=null)for(P in U.key!==void 0&&(ne=""+U.key),U)!re.call(U,P)||P==="key"||P==="__self"||P==="__source"||P==="ref"&&U.ref===void 0||(Y[P]=U[P]);var P=arguments.length-2;if(P===1)Y.children=I;else if(1<P){for(var fe=Array(P),Q=0;Q<P;Q++)fe[Q]=arguments[Q+2];Y.children=fe}return pe(_.type,ne,Y)},ve.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},ve.createElement=function(_,U,I){var Y,ne={},P=null;if(U!=null)for(Y in U.key!==void 0&&(P=""+U.key),U)re.call(U,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ne[Y]=U[Y]);var fe=arguments.length-2;if(fe===1)ne.children=I;else if(1<fe){for(var Q=Array(fe),V=0;V<fe;V++)Q[V]=arguments[V+2];ne.children=Q}if(_&&_.defaultProps)for(Y in fe=_.defaultProps,fe)ne[Y]===void 0&&(ne[Y]=fe[Y]);return pe(_,P,ne)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(_){return{$$typeof:p,render:_}},ve.isValidElement=ie,ve.lazy=function(_){return{$$typeof:g,_payload:{_status:-1,_result:_},_init:ae}},ve.memo=function(_,U){return{$$typeof:y,type:_,compare:U===void 0?null:U}},ve.startTransition=function(_){var U=Z.T,I={};Z.T=I;try{var Y=_(),ne=Z.S;ne!==null&&ne(I,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(J,ce)}catch(P){ce(P)}finally{U!==null&&I.types!==null&&(U.types=I.types),Z.T=U}},ve.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ve.use=function(_){return Z.H.use(_)},ve.useActionState=function(_,U,I){return Z.H.useActionState(_,U,I)},ve.useCallback=function(_,U){return Z.H.useCallback(_,U)},ve.useContext=function(_){return Z.H.useContext(_)},ve.useDebugValue=function(){},ve.useDeferredValue=function(_,U){return Z.H.useDeferredValue(_,U)},ve.useEffect=function(_,U){return Z.H.useEffect(_,U)},ve.useEffectEvent=function(_){return Z.H.useEffectEvent(_)},ve.useId=function(){return Z.H.useId()},ve.useImperativeHandle=function(_,U,I){return Z.H.useImperativeHandle(_,U,I)},ve.useInsertionEffect=function(_,U){return Z.H.useInsertionEffect(_,U)},ve.useLayoutEffect=function(_,U){return Z.H.useLayoutEffect(_,U)},ve.useMemo=function(_,U){return Z.H.useMemo(_,U)},ve.useOptimistic=function(_,U){return Z.H.useOptimistic(_,U)},ve.useReducer=function(_,U,I){return Z.H.useReducer(_,U,I)},ve.useRef=function(_){return Z.H.useRef(_)},ve.useState=function(_){return Z.H.useState(_)},ve.useSyncExternalStore=function(_,U,I){return Z.H.useSyncExternalStore(_,U,I)},ve.useTransition=function(){return Z.H.useTransition()},ve.version="19.2.0",ve}var am;function Ru(){return am||(am=1,Yc.exports=Bb()),Yc.exports}var ge=Ru();const Hb=wv(ge);var Xc={exports:{}},js={},Qc={exports:{}},Zc={};var nm;function $b(){return nm||(nm=1,(function(u){function i(x,H){var ae=x.length;x.push(H);e:for(;0<ae;){var ce=ae-1>>>1,W=x[ce];if(0<o(W,H))x[ce]=H,x[ae]=W,ae=ce;else break e}}function s(x){return x.length===0?null:x[0]}function l(x){if(x.length===0)return null;var H=x[0],ae=x.pop();if(ae!==H){x[0]=ae;e:for(var ce=0,W=x.length,_=W>>>1;ce<_;){var U=2*(ce+1)-1,I=x[U],Y=U+1,ne=x[Y];if(0>o(I,ae))Y<W&&0>o(ne,I)?(x[ce]=ne,x[Y]=ae,ce=Y):(x[ce]=I,x[U]=ae,ce=U);else if(Y<W&&0>o(ne,ae))x[ce]=ne,x[Y]=ae,ce=Y;else break e}}return H}function o(x,H){var ae=x.sortIndex-H.sortIndex;return ae!==0?ae:x.id-H.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();u.unstable_now=function(){return f.now()-p}}var m=[],y=[],g=1,b=null,S=3,w=!1,E=!1,N=!1,q=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function K(x){for(var H=s(y);H!==null;){if(H.callback===null)l(y);else if(H.startTime<=x)l(y),H.sortIndex=H.expirationTime,i(m,H);else break;H=s(y)}}function X(x){if(N=!1,K(x),!E)if(s(m)!==null)E=!0,J||(J=!0,se());else{var H=s(y);H!==null&&ee(X,H.startTime-x)}}var J=!1,Z=-1,re=5,pe=-1;function be(){return q?!0:!(u.unstable_now()-pe<re)}function ie(){if(q=!1,J){var x=u.unstable_now();pe=x;var H=!0;try{e:{E=!1,N&&(N=!1,D(Z),Z=-1),w=!0;var ae=S;try{t:{for(K(x),b=s(m);b!==null&&!(b.expirationTime>x&&be());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,S=b.priorityLevel;var W=ce(b.expirationTime<=x);if(x=u.unstable_now(),typeof W=="function"){b.callback=W,K(x),H=!0;break t}b===s(m)&&l(m),K(x)}else l(m);b=s(m)}if(b!==null)H=!0;else{var _=s(y);_!==null&&ee(X,_.startTime-x),H=!1}}break e}finally{b=null,S=ae,w=!1}H=void 0}}finally{H?se():J=!1}}}var se;if(typeof B=="function")se=function(){B(ie)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ne=oe.port2;oe.port1.onmessage=ie,se=function(){Ne.postMessage(null)}}else se=function(){O(ie,0)};function ee(x,H){Z=O(function(){x(u.unstable_now())},H)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(x){x.callback=null},u.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<x?Math.floor(1e3/x):5},u.unstable_getCurrentPriorityLevel=function(){return S},u.unstable_next=function(x){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var ae=S;S=H;try{return x()}finally{S=ae}},u.unstable_requestPaint=function(){q=!0},u.unstable_runWithPriority=function(x,H){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var ae=S;S=x;try{return H()}finally{S=ae}},u.unstable_scheduleCallback=function(x,H,ae){var ce=u.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ce+ae:ce):ae=ce,x){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ae+W,x={id:g++,callback:H,priorityLevel:x,startTime:ae,expirationTime:W,sortIndex:-1},ae>ce?(x.sortIndex=ae,i(y,x),s(m)===null&&x===s(y)&&(N?(D(Z),Z=-1):N=!0,ee(X,ae-ce))):(x.sortIndex=W,i(m,x),E||w||(E=!0,J||(J=!0,se()))),x},u.unstable_shouldYield=be,u.unstable_wrapCallback=function(x){var H=S;return function(){var ae=S;S=H;try{return x.apply(this,arguments)}finally{S=ae}}}})(Zc)),Zc}var im;function qb(){return im||(im=1,Qc.exports=$b()),Qc.exports}var Kc={exports:{}},wt={};var sm;function Vb(){if(sm)return wt;sm=1;var u=Ru();function i(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)y+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(m,y,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:y,implementation:g}}var f=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,wt.createPortal=function(m,y){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(i(299));return d(m,y,null,g)},wt.flushSync=function(m){var y=f.T,g=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=y,l.p=g,l.d.f()}},wt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(m,y))},wt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},wt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var g=y.as,b=p(g,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,w=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;g==="style"?l.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:w}):g==="script"&&l.d.X(m,{crossOrigin:b,integrity:S,fetchPriority:w,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},wt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var g=p(y.as,y.crossOrigin);l.d.M(m,{crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(m)},wt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var g=y.as,b=p(g,y.crossOrigin);l.d.L(m,g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},wt.preloadModule=function(m,y){if(typeof m=="string")if(y){var g=p(y.as,y.crossOrigin);l.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(m)},wt.requestFormReset=function(m){l.d.r(m)},wt.unstable_batchedUpdates=function(m,y){return m(y)},wt.useFormState=function(m,y,g){return f.H.useFormState(m,y,g)},wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},wt.version="19.2.0",wt}var lm;function Gb(){if(lm)return Kc.exports;lm=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),Kc.exports=Vb(),Kc.exports}var rm;function Fb(){if(rm)return js;rm=1;var u=qb(),i=Ru(),s=Gb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var c=r.alternate;if(c===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===a)return m(r),e;if(c===n)return m(r),t;c=c.sibling}throw Error(l(188))}if(a.return!==n.return)a=r,n=c;else{for(var h=!1,v=r.child;v;){if(v===a){h=!0,a=r,n=c;break}if(v===n){h=!0,n=r,a=c;break}v=v.sibling}if(!h){for(v=c.child;v;){if(v===a){h=!0,a=c,n=r;break}if(v===n){h=!0,n=c,a=r;break}v=v.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==n)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),B=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function Ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case O:return"Profiler";case q:return"StrictMode";case X:return"Suspense";case J:return"SuspenseList";case pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case B:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}var ee=Array.isArray,x=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ce=[],W=-1;function _(e){return{current:e}}function U(e){0>W||(e.current=ce[W],ce[W]=null,W--)}function I(e,t){W++,ce[W]=e.current,e.current=t}var Y=_(null),ne=_(null),P=_(null),fe=_(null);function Q(e,t){switch(I(P,t),I(ne,e),I(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?np(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=np(t),e=ip(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(Y),I(Y,e)}function V(){U(Y),U(ne),U(P)}function de(e){e.memoizedState!==null&&I(fe,e);var t=Y.current,a=ip(t,e.type);t!==a&&(I(ne,e),I(Y,a))}function Te(e){ne.current===e&&(U(Y),U(ne)),fe.current===e&&(U(fe),Os._currentValue=ae)}var ye,ct;function Pe(e){if(ye===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ye=t&&t[1]||"",ct=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+e+ct}var At=!1;function pt(e,t){if(!e||At)return"";At=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(L){var j=L}Reflect.construct(e,[],G)}else{try{G.call()}catch(L){j=L}e.call(G.prototype)}}else{try{throw Error()}catch(L){j=L}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(L){if(L&&j&&typeof L.stack=="string")return[L.stack,j.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),h=c[0],v=c[1];if(h&&v){var T=h.split(`
`),R=v.split(`
`);for(r=n=0;n<T.length&&!T[n].includes("DetermineComponentFrameRoot");)n++;for(;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;if(n===T.length||r===R.length)for(n=T.length-1,r=R.length-1;1<=n&&0<=r&&T[n]!==R[r];)r--;for(;1<=n&&0<=r;n--,r--)if(T[n]!==R[r]){if(n!==1||r!==1)do if(n--,r--,0>r||T[n]!==R[r]){var k=`
`+T[n].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=n&&0<=r);break}}}finally{At=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Pe(a):""}function Dt(e,t){switch(e.tag){case 26:case 27:case 5:return Pe(e.type);case 16:return Pe("Lazy");case 13:return e.child!==t&&t!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return pt(e.type,!1);case 11:return pt(e.type.render,!1);case 1:return pt(e.type,!0);case 31:return Pe("Activity");default:return""}}function Fe(e){try{var t="",a=null;do t+=Dt(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var ra=Object.prototype.hasOwnProperty,Mt=u.unstable_scheduleCallback,_a=u.unstable_cancelCallback,Sn=u.unstable_shouldYield,Ze=u.unstable_requestPaint,Se=u.unstable_now,xe=u.unstable_getCurrentPriorityLevel,Ae=u.unstable_ImmediatePriority,me=u.unstable_UserBlockingPriority,Ue=u.unstable_NormalPriority,Ge=u.unstable_LowPriority,tt=u.unstable_IdlePriority,Rt=u.log,_n=u.unstable_setDisableYieldValue,Qt=null,vt=null;function Ke(e){if(typeof Rt=="function"&&_n(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Qt,e)}catch{}}var we=Math.clz32?Math.clz32:oa,Je=Math.log,lt=Math.LN2;function oa(e){return e>>>=0,e===0?32:31-(Je(e)/lt|0)|0}var pa=256,Va=262144,at=4194304;function Ye(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zt(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=n&134217727;return v!==0?(n=v&~c,n!==0?r=Ye(n):(h&=v,h!==0?r=Ye(h):a||(a=v&~e,a!==0&&(r=Ye(a))))):(v=n&~c,v!==0?r=Ye(v):h!==0?r=Ye(h):a||(a=n&~e,a!==0&&(r=Ye(a)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:r}function Hi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ug(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var e=at;return at<<=1,(at&62914560)===0&&(at=4194304),e}function Mr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function $i(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dg(e,t,a,n,r,c){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,T=e.expirationTimes,R=e.hiddenUpdates;for(a=h&~a;0<a;){var k=31-we(a),G=1<<k;v[k]=0,T[k]=-1;var j=R[k];if(j!==null)for(R[k]=null,k=0;k<j.length;k++){var L=j[k];L!==null&&(L.lane&=-536870913)}a&=~G}n!==0&&ku(e,n,0),c!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function ku(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-we(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Bu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-we(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function Hu(e,t){var a=t&-t;return a=(a&42)!==0?1:Rr(a),(a&(e.suspendedLanes|t))!==0?0:a}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Nr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $u(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Op(e.type))}function qu(e,t){var a=H.p;try{return H.p=e,t()}finally{H.p=a}}var Ga=Math.random().toString(36).slice(2),bt="__reactFiber$"+Ga,Nt="__reactProps$"+Ga,Jn="__reactContainer$"+Ga,Ur="__reactEvents$"+Ga,fg="__reactListeners$"+Ga,hg="__reactHandles$"+Ga,Vu="__reactResources$"+Ga,qi="__reactMarker$"+Ga;function jr(e){delete e[bt],delete e[Nt],delete e[Ur],delete e[fg],delete e[hg]}function Yn(e){var t=e[bt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Jn]||a[bt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=dp(e);e!==null;){if(a=e[bt])return a;e=dp(e)}return t}e=a,a=e.parentNode}return null}function Xn(e){if(e=e[bt]||e[Jn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Vi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Qn(e){var t=e[Vu];return t||(t=e[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function gt(e){e[qi]=!0}var Gu=new Set,Fu={};function Tn(e,t){Zn(e,t),Zn(e+"Capture",t)}function Zn(e,t){for(Fu[e]=t,e=0;e<t.length;e++)Gu.add(t[e])}var pg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ju={},Yu={};function mg(e){return ra.call(Yu,e)?!0:ra.call(Ju,e)?!1:pg.test(e)?Yu[e]=!0:(Ju[e]=!0,!1)}function Ps(e,t,a){if(mg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function el(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ta(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gg(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(h){a=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zr(e){if(!e._valueTracker){var t=Xu(e)?"checked":"value";e._valueTracker=gg(e,t,""+e[t])}}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Xu(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yg=/[\n"\\]/g;function Wt(e){return e.replace(yg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Lr(e,t,a,n,r,c,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Ir(e,h,Kt(t)):a!=null?Ir(e,h,Kt(a)):n!=null&&e.removeAttribute("value"),r==null&&c!=null&&(e.defaultChecked=!!c),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Kt(v):e.removeAttribute("name")}function Zu(e,t,a,n,r,c,h,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){zr(e);return}a=a!=null?""+Kt(a):"",t=t!=null?""+Kt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=v?e.checked:!!n,e.defaultChecked=!!n,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),zr(e)}function Ir(e,t,a){t==="number"&&tl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Kn(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Kt(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Ku(e,t,a){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Kt(a):""}function Wu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(l(92));if(ee(n)){if(1<n.length)throw Error(l(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Kt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),zr(e)}function Wn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var vg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||vg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ed(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&Pu(e,r,n)}else for(var c in t)t.hasOwnProperty(c)&&Pu(e,c,t[c])}function kr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(e){return Sg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ea(){}var Br=null;function Hr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pn=null,ei=null;function td(e){var t=Xn(e);if(t&&(e=t.stateNode)){var a=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Lr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Wt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[Nt]||null;if(!r)throw Error(l(90));Lr(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Qu(n)}break e;case"textarea":Ku(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Kn(e,!!a.multiple,t,!1)}}}var $r=!1;function ad(e,t,a){if($r)return e(t,a);$r=!0;try{var n=e(t);return n}finally{if($r=!1,(Pn!==null||ei!==null)&&(Vl(),Pn&&(t=Pn,e=ei,ei=Pn=null,td(t),e)))for(t=0;t<e.length;t++)td(e[t])}}function Gi(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Nt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var Aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(Aa)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){qr=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{qr=!1}var Fa=null,Vr=null,nl=null;function nd(){if(nl)return nl;var e,t=Vr,a=t.length,n,r="value"in Fa?Fa.value:Fa.textContent,c=r.length;for(e=0;e<a&&t[e]===r[e];e++);var h=a-e;for(n=1;n<=h&&t[a-n]===r[c-n];n++);return nl=r.slice(e,1<n?1-n:void 0)}function il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sl(){return!0}function id(){return!1}function Ut(e){function t(a,n,r,c,h){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?sl:id,this.isPropagationStopped=id,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=Ut(En),Ji=b({},En,{view:0,detail:0}),_g=Ut(Ji),Gr,Fr,Yi,rl=b({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yi&&(Yi&&e.type==="mousemove"?(Gr=e.screenX-Yi.screenX,Fr=e.screenY-Yi.screenY):Fr=Gr=0,Yi=e),Gr)},movementY:function(e){return"movementY"in e?e.movementY:Fr}}),sd=Ut(rl),Tg=b({},rl,{dataTransfer:0}),Eg=Ut(Tg),Ag=b({},Ji,{relatedTarget:0}),Jr=Ut(Ag),wg=b({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),Cg=Ut(wg),Og=b({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xg=Ut(Og),Dg=b({},En,{data:0}),ld=Ut(Dg),Mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ng[e])?!!t[e]:!1}function Yr(){return Ug}var jg=b({},Ji,{key:function(e){if(e.key){var t=Mg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zg=Ut(jg),Lg=b({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=Ut(Lg),Ig=b({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),kg=Ut(Ig),Bg=b({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hg=Ut(Bg),$g=b({},rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qg=Ut($g),Vg=b({},En,{newState:0,oldState:0}),Gg=Ut(Vg),Fg=[9,13,27,32],Xr=Aa&&"CompositionEvent"in window,Xi=null;Aa&&"documentMode"in document&&(Xi=document.documentMode);var Jg=Aa&&"TextEvent"in window&&!Xi,od=Aa&&(!Xr||Xi&&8<Xi&&11>=Xi),cd=" ",ud=!1;function dd(e,t){switch(e){case"keyup":return Fg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ti=!1;function Yg(e,t){switch(e){case"compositionend":return fd(t);case"keypress":return t.which!==32?null:(ud=!0,cd);case"textInput":return e=t.data,e===cd&&ud?null:e;default:return null}}function Xg(e,t){if(ti)return e==="compositionend"||!Xr&&dd(e,t)?(e=nd(),nl=Vr=Fa=null,ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return od&&t.locale!=="ko"?null:t.data;default:return null}}var Qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qg[e.type]:t==="textarea"}function pd(e,t,a,n){Pn?ei?ei.push(n):ei=[n]:Pn=n,t=Zl(t,"onChange"),0<t.length&&(a=new ll("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Qi=null,Zi=null;function Zg(e){Kh(e,0)}function ol(e){var t=Vi(e);if(Qu(t))return e}function md(e,t){if(e==="change")return t}var gd=!1;if(Aa){var Qr;if(Aa){var Zr="oninput"in document;if(!Zr){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),Zr=typeof yd.oninput=="function"}Qr=Zr}else Qr=!1;gd=Qr&&(!document.documentMode||9<document.documentMode)}function vd(){Qi&&(Qi.detachEvent("onpropertychange",bd),Zi=Qi=null)}function bd(e){if(e.propertyName==="value"&&ol(Zi)){var t=[];pd(t,Zi,e,Hr(e)),ad(Zg,t)}}function Kg(e,t,a){e==="focusin"?(vd(),Qi=t,Zi=a,Qi.attachEvent("onpropertychange",bd)):e==="focusout"&&vd()}function Wg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(Zi)}function Pg(e,t){if(e==="click")return ol(t)}function ey(e,t){if(e==="input"||e==="change")return ol(t)}function ty(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:ty;function Ki(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!ra.call(t,r)||!$t(e[r],t[r]))return!1}return!0}function Sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _d(e,t){var a=Sd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sd(a)}}function Td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ed(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=tl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=tl(e.document)}return t}function Kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ay=Aa&&"documentMode"in document&&11>=document.documentMode,ai=null,Wr=null,Wi=null,Pr=!1;function Ad(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pr||ai==null||ai!==tl(n)||(n=ai,"selectionStart"in n&&Kr(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wi&&Ki(Wi,n)||(Wi=n,n=Zl(Wr,"onSelect"),0<n.length&&(t=new ll("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=ai)))}function An(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ni={animationend:An("Animation","AnimationEnd"),animationiteration:An("Animation","AnimationIteration"),animationstart:An("Animation","AnimationStart"),transitionrun:An("Transition","TransitionRun"),transitionstart:An("Transition","TransitionStart"),transitioncancel:An("Transition","TransitionCancel"),transitionend:An("Transition","TransitionEnd")},eo={},wd={};Aa&&(wd=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function wn(e){if(eo[e])return eo[e];if(!ni[e])return e;var t=ni[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in wd)return eo[e]=t[a];return e}var Cd=wn("animationend"),Od=wn("animationiteration"),xd=wn("animationstart"),ny=wn("transitionrun"),iy=wn("transitionstart"),sy=wn("transitioncancel"),Dd=wn("transitionend"),Md=new Map,to="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");to.push("scrollEnd");function ca(e,t){Md.set(e,t),Tn(t,[e])}var cl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pt=[],ii=0,ao=0;function ul(){for(var e=ii,t=ao=ii=0;t<e;){var a=Pt[t];Pt[t++]=null;var n=Pt[t];Pt[t++]=null;var r=Pt[t];Pt[t++]=null;var c=Pt[t];if(Pt[t++]=null,n!==null&&r!==null){var h=n.pending;h===null?r.next=r:(r.next=h.next,h.next=r),n.pending=r}c!==0&&Rd(a,r,c)}}function dl(e,t,a,n){Pt[ii++]=e,Pt[ii++]=t,Pt[ii++]=a,Pt[ii++]=n,ao|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function no(e,t,a,n){return dl(e,t,a,n),fl(e)}function Cn(e,t){return dl(e,null,null,t),fl(e)}function Rd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,c=e.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(r=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,r&&t!==null&&(r=31-we(a),e=c.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),c):null}function fl(e){if(50<Ss)throw Ss=0,hc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var si={};function ly(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,a,n){return new ly(e,t,a,n)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wa(e,t){var a=e.alternate;return a===null?(a=qt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hl(e,t,a,n,r,c){var h=0;if(n=e,typeof e=="function")io(e)&&(h=1);else if(typeof e=="string")h=dv(e,a,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pe:return e=qt(31,a,t,r),e.elementType=pe,e.lanes=c,e;case N:return On(a.children,r,c,t);case q:h=8,r|=24;break;case O:return e=qt(12,a,t,r|2),e.elementType=O,e.lanes=c,e;case X:return e=qt(13,a,t,r),e.elementType=X,e.lanes=c,e;case J:return e=qt(19,a,t,r),e.elementType=J,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:h=10;break e;case D:h=9;break e;case K:h=11;break e;case Z:h=14;break e;case re:h=16,n=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),n=null}return t=qt(h,a,t,r),t.elementType=e,t.type=n,t.lanes=c,t}function On(e,t,a,n){return e=qt(7,e,n,t),e.lanes=a,e}function so(e,t,a){return e=qt(6,e,null,t),e.lanes=a,e}function Ud(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function lo(e,t,a){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jd=new WeakMap;function ea(e,t){if(typeof e=="object"&&e!==null){var a=jd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Fe(t)},jd.set(e,t),t)}return{value:e,source:t,stack:Fe(t)}}var li=[],ri=0,pl=null,Pi=0,ta=[],aa=0,Ja=null,ma=1,ga="";function Ca(e,t){li[ri++]=Pi,li[ri++]=pl,pl=e,Pi=t}function zd(e,t,a){ta[aa++]=ma,ta[aa++]=ga,ta[aa++]=Ja,Ja=e;var n=ma;e=ga;var r=32-we(n)-1;n&=~(1<<r),a+=1;var c=32-we(t)+r;if(30<c){var h=r-r%5;c=(n&(1<<h)-1).toString(32),n>>=h,r-=h,ma=1<<32-we(t)+r|a<<r|n,ga=c+e}else ma=1<<c|a<<r|n,ga=e}function ro(e){e.return!==null&&(Ca(e,1),zd(e,1,0))}function oo(e){for(;e===pl;)pl=li[--ri],li[ri]=null,Pi=li[--ri],li[ri]=null;for(;e===Ja;)Ja=ta[--aa],ta[aa]=null,ga=ta[--aa],ta[aa]=null,ma=ta[--aa],ta[aa]=null}function Ld(e,t){ta[aa++]=ma,ta[aa++]=ga,ta[aa++]=Ja,ma=t.id,ga=t.overflow,Ja=e}var St=null,Xe=null,Re=!1,Ya=null,na=!1,co=Error(l(519));function Xa(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw es(ea(t,e)),co}function Id(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[bt]=e,t[Nt]=n,a){case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":case"embed":Oe("load",t);break;case"video":case"audio":for(a=0;a<Ts.length;a++)Oe(Ts[a],t);break;case"source":Oe("error",t);break;case"img":case"image":case"link":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"input":Oe("invalid",t),Zu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Oe("invalid",t);break;case"textarea":Oe("invalid",t),Wu(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||tp(t.textContent,a)?(n.popover!=null&&(Oe("beforetoggle",t),Oe("toggle",t)),n.onScroll!=null&&Oe("scroll",t),n.onScrollEnd!=null&&Oe("scrollend",t),n.onClick!=null&&(t.onclick=Ea),t=!0):t=!1,t||Xa(e,!0)}function kd(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:St=St.return}}function oi(e){if(e!==St)return!1;if(!Re)return kd(e),Re=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||xc(e.type,e.memoizedProps)),a=!a),a&&Xe&&Xa(e),kd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Xe=up(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Xe=up(e)}else t===27?(t=Xe,cn(e.type)?(e=Uc,Uc=null,Xe=e):Xe=t):Xe=St?sa(e.stateNode.nextSibling):null;return!0}function xn(){Xe=St=null,Re=!1}function uo(){var e=Ya;return e!==null&&(It===null?It=e:It.push.apply(It,e),Ya=null),e}function es(e){Ya===null?Ya=[e]:Ya.push(e)}var fo=_(null),Dn=null,Oa=null;function Qa(e,t,a){I(fo,t._currentValue),t._currentValue=a}function xa(e){e._currentValue=fo.current,U(fo)}function ho(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function po(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){var h=r.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=r;for(var T=0;T<t.length;T++)if(v.context===t[T]){c.lanes|=a,v=c.alternate,v!==null&&(v.lanes|=a),ho(c.return,a,e),n||(h=null);break e}c=v.next}}else if(r.tag===18){if(h=r.return,h===null)throw Error(l(341));h.lanes|=a,c=h.alternate,c!==null&&(c.lanes|=a),ho(h,a,e),h=null}else h=r.child;if(h!==null)h.return=r;else for(h=r;h!==null;){if(h===e){h=null;break}if(r=h.sibling,r!==null){r.return=h.return,h=r;break}h=h.return}r=h}}function ci(e,t,a,n){e=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var h=r.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var v=r.type;$t(r.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(r===fe.current){if(h=r.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Os):e=[Os])}r=r.return}e!==null&&po(t,e,a,n),t.flags|=262144}function ml(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mn(e){Dn=e,Oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return Bd(Dn,e)}function gl(e,t){return Dn===null&&Mn(e),Bd(e,t)}function Bd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Oa===null){if(e===null)throw Error(l(308));Oa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Oa=Oa.next=t;return a}var ry=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},oy=u.unstable_scheduleCallback,cy=u.unstable_NormalPriority,ut={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mo(){return{controller:new ry,data:new Map,refCount:0}}function ts(e){e.refCount--,e.refCount===0&&oy(cy,function(){e.controller.abort()})}var as=null,go=0,ui=0,di=null;function uy(e,t){if(as===null){var a=as=[];go=0,ui=bc(),di={status:"pending",value:void 0,then:function(n){a.push(n)}}}return go++,t.then(Hd,Hd),t}function Hd(){if(--go===0&&as!==null){di!==null&&(di.status="fulfilled");var e=as;as=null,ui=0,di=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dy(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var $d=x.S;x.S=function(e,t){wh=Se(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&uy(e,t),$d!==null&&$d(e,t)};var Rn=_(null);function yo(){var e=Rn.current;return e!==null?e:Ve.pooledCache}function yl(e,t){t===null?I(Rn,Rn.current):I(Rn,t.pool)}function qd(){var e=yo();return e===null?null:{parent:ut._currentValue,pool:e}}var fi=Error(l(460)),vo=Error(l(474)),vl=Error(l(542)),bl={then:function(){}};function Vd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ea,Ea),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jd(e),e;default:if(typeof t.status=="string")t.then(Ea,Ea);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jd(e),e}throw Un=t,fi}}function Nn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Un=a,fi):a}}var Un=null;function Fd(){if(Un===null)throw Error(l(459));var e=Un;return Un=null,e}function Jd(e){if(e===fi||e===vl)throw Error(l(483))}var hi=null,ns=0;function Sl(e){var t=ns;return ns+=1,hi===null&&(hi=[]),Gd(hi,e,t)}function is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _l(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yd(e){function t(C,A){if(e){var M=C.deletions;M===null?(C.deletions=[A],C.flags|=16):M.push(A)}}function a(C,A){if(!e)return null;for(;A!==null;)t(C,A),A=A.sibling;return null}function n(C){for(var A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function r(C,A){return C=wa(C,A),C.index=0,C.sibling=null,C}function c(C,A,M){return C.index=M,e?(M=C.alternate,M!==null?(M=M.index,M<A?(C.flags|=67108866,A):M):(C.flags|=67108866,A)):(C.flags|=1048576,A)}function h(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function v(C,A,M,$){return A===null||A.tag!==6?(A=so(M,C.mode,$),A.return=C,A):(A=r(A,M),A.return=C,A)}function T(C,A,M,$){var ue=M.type;return ue===N?k(C,A,M.props.children,$,M.key):A!==null&&(A.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===re&&Nn(ue)===A.type)?(A=r(A,M.props),is(A,M),A.return=C,A):(A=hl(M.type,M.key,M.props,null,C.mode,$),is(A,M),A.return=C,A)}function R(C,A,M,$){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=lo(M,C.mode,$),A.return=C,A):(A=r(A,M.children||[]),A.return=C,A)}function k(C,A,M,$,ue){return A===null||A.tag!==7?(A=On(M,C.mode,$,ue),A.return=C,A):(A=r(A,M),A.return=C,A)}function G(C,A,M){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=so(""+A,C.mode,M),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return M=hl(A.type,A.key,A.props,null,C.mode,M),is(M,A),M.return=C,M;case E:return A=lo(A,C.mode,M),A.return=C,A;case re:return A=Nn(A),G(C,A,M)}if(ee(A)||se(A))return A=On(A,C.mode,M,null),A.return=C,A;if(typeof A.then=="function")return G(C,Sl(A),M);if(A.$$typeof===B)return G(C,gl(C,A),M);_l(C,A)}return null}function j(C,A,M,$){var ue=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ue!==null?null:v(C,A,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return M.key===ue?T(C,A,M,$):null;case E:return M.key===ue?R(C,A,M,$):null;case re:return M=Nn(M),j(C,A,M,$)}if(ee(M)||se(M))return ue!==null?null:k(C,A,M,$,null);if(typeof M.then=="function")return j(C,A,Sl(M),$);if(M.$$typeof===B)return j(C,A,gl(C,M),$);_l(C,M)}return null}function L(C,A,M,$,ue){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return C=C.get(M)||null,v(A,C,""+$,ue);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return C=C.get($.key===null?M:$.key)||null,T(A,C,$,ue);case E:return C=C.get($.key===null?M:$.key)||null,R(A,C,$,ue);case re:return $=Nn($),L(C,A,M,$,ue)}if(ee($)||se($))return C=C.get(M)||null,k(A,C,$,ue,null);if(typeof $.then=="function")return L(C,A,M,Sl($),ue);if($.$$typeof===B)return L(C,A,M,gl(A,$),ue);_l(A,$)}return null}function te(C,A,M,$){for(var ue=null,je=null,le=A,Ee=A=0,Me=null;le!==null&&Ee<M.length;Ee++){le.index>Ee?(Me=le,le=null):Me=le.sibling;var ze=j(C,le,M[Ee],$);if(ze===null){le===null&&(le=Me);break}e&&le&&ze.alternate===null&&t(C,le),A=c(ze,A,Ee),je===null?ue=ze:je.sibling=ze,je=ze,le=Me}if(Ee===M.length)return a(C,le),Re&&Ca(C,Ee),ue;if(le===null){for(;Ee<M.length;Ee++)le=G(C,M[Ee],$),le!==null&&(A=c(le,A,Ee),je===null?ue=le:je.sibling=le,je=le);return Re&&Ca(C,Ee),ue}for(le=n(le);Ee<M.length;Ee++)Me=L(le,C,Ee,M[Ee],$),Me!==null&&(e&&Me.alternate!==null&&le.delete(Me.key===null?Ee:Me.key),A=c(Me,A,Ee),je===null?ue=Me:je.sibling=Me,je=Me);return e&&le.forEach(function(pn){return t(C,pn)}),Re&&Ca(C,Ee),ue}function he(C,A,M,$){if(M==null)throw Error(l(151));for(var ue=null,je=null,le=A,Ee=A=0,Me=null,ze=M.next();le!==null&&!ze.done;Ee++,ze=M.next()){le.index>Ee?(Me=le,le=null):Me=le.sibling;var pn=j(C,le,ze.value,$);if(pn===null){le===null&&(le=Me);break}e&&le&&pn.alternate===null&&t(C,le),A=c(pn,A,Ee),je===null?ue=pn:je.sibling=pn,je=pn,le=Me}if(ze.done)return a(C,le),Re&&Ca(C,Ee),ue;if(le===null){for(;!ze.done;Ee++,ze=M.next())ze=G(C,ze.value,$),ze!==null&&(A=c(ze,A,Ee),je===null?ue=ze:je.sibling=ze,je=ze);return Re&&Ca(C,Ee),ue}for(le=n(le);!ze.done;Ee++,ze=M.next())ze=L(le,C,Ee,ze.value,$),ze!==null&&(e&&ze.alternate!==null&&le.delete(ze.key===null?Ee:ze.key),A=c(ze,A,Ee),je===null?ue=ze:je.sibling=ze,je=ze);return e&&le.forEach(function(Tv){return t(C,Tv)}),Re&&Ca(C,Ee),ue}function qe(C,A,M,$){if(typeof M=="object"&&M!==null&&M.type===N&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case w:e:{for(var ue=M.key;A!==null;){if(A.key===ue){if(ue=M.type,ue===N){if(A.tag===7){a(C,A.sibling),$=r(A,M.props.children),$.return=C,C=$;break e}}else if(A.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===re&&Nn(ue)===A.type){a(C,A.sibling),$=r(A,M.props),is($,M),$.return=C,C=$;break e}a(C,A);break}else t(C,A);A=A.sibling}M.type===N?($=On(M.props.children,C.mode,$,M.key),$.return=C,C=$):($=hl(M.type,M.key,M.props,null,C.mode,$),is($,M),$.return=C,C=$)}return h(C);case E:e:{for(ue=M.key;A!==null;){if(A.key===ue)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){a(C,A.sibling),$=r(A,M.children||[]),$.return=C,C=$;break e}else{a(C,A);break}else t(C,A);A=A.sibling}$=lo(M,C.mode,$),$.return=C,C=$}return h(C);case re:return M=Nn(M),qe(C,A,M,$)}if(ee(M))return te(C,A,M,$);if(se(M)){if(ue=se(M),typeof ue!="function")throw Error(l(150));return M=ue.call(M),he(C,A,M,$)}if(typeof M.then=="function")return qe(C,A,Sl(M),$);if(M.$$typeof===B)return qe(C,A,gl(C,M),$);_l(C,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,A!==null&&A.tag===6?(a(C,A.sibling),$=r(A,M),$.return=C,C=$):(a(C,A),$=so(M,C.mode,$),$.return=C,C=$),h(C)):a(C,A)}return function(C,A,M,$){try{ns=0;var ue=qe(C,A,M,$);return hi=null,ue}catch(le){if(le===fi||le===vl)throw le;var je=qt(29,le,null,C.mode);return je.lanes=$,je.return=C,je}finally{}}}var jn=Yd(!0),Xd=Yd(!1),Za=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function So(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Le&2)!==0){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=fl(e),Rd(e,null,a),t}return dl(e,n,t,a),fl(e)}function ss(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Bu(e,a)}}function _o(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?r=c=h:c=c.next=h,a=a.next}while(a!==null);c===null?r=c=t:c=c.next=t}else r=c=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var To=!1;function ls(){if(To){var e=di;if(e!==null)throw e}}function rs(e,t,a,n){To=!1;var r=e.updateQueue;Za=!1;var c=r.firstBaseUpdate,h=r.lastBaseUpdate,v=r.shared.pending;if(v!==null){r.shared.pending=null;var T=v,R=T.next;T.next=null,h===null?c=R:h.next=R,h=T;var k=e.alternate;k!==null&&(k=k.updateQueue,v=k.lastBaseUpdate,v!==h&&(v===null?k.firstBaseUpdate=R:v.next=R,k.lastBaseUpdate=T))}if(c!==null){var G=r.baseState;h=0,k=R=T=null,v=c;do{var j=v.lane&-536870913,L=j!==v.lane;if(L?(De&j)===j:(n&j)===j){j!==0&&j===ui&&(To=!0),k!==null&&(k=k.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var te=e,he=v;j=t;var qe=a;switch(he.tag){case 1:if(te=he.payload,typeof te=="function"){G=te.call(qe,G,j);break e}G=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=he.payload,j=typeof te=="function"?te.call(qe,G,j):te,j==null)break e;G=b({},G,j);break e;case 2:Za=!0}}j=v.callback,j!==null&&(e.flags|=64,L&&(e.flags|=8192),L=r.callbacks,L===null?r.callbacks=[j]:L.push(j))}else L={lane:j,tag:v.tag,payload:v.payload,callback:v.callback,next:null},k===null?(R=k=L,T=G):k=k.next=L,h|=j;if(v=v.next,v===null){if(v=r.shared.pending,v===null)break;L=v,v=L.next,L.next=null,r.lastBaseUpdate=L,r.shared.pending=null}}while(!0);k===null&&(T=G),r.baseState=T,r.firstBaseUpdate=R,r.lastBaseUpdate=k,c===null&&(r.shared.lanes=0),nn|=h,e.lanes=h,e.memoizedState=G}}function Qd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Zd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Qd(a[e],t)}var pi=_(null),Tl=_(0);function Kd(e,t){e=Ia,I(Tl,e),I(pi,t),Ia=e|t.baseLanes}function Eo(){I(Tl,Ia),I(pi,pi.current)}function Ao(){Ia=Tl.current,U(pi),U(Tl)}var Vt=_(null),ia=null;function Pa(e){var t=e.alternate;I(rt,rt.current&1),I(Vt,e),ia===null&&(t===null||pi.current!==null||t.memoizedState!==null)&&(ia=e)}function wo(e){I(rt,rt.current),I(Vt,e),ia===null&&(ia=e)}function Wd(e){e.tag===22?(I(rt,rt.current),I(Vt,e),ia===null&&(ia=e)):en()}function en(){I(rt,rt.current),I(Vt,Vt.current)}function Gt(e){U(Vt),ia===e&&(ia=null),U(rt)}var rt=_(0);function El(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rc(a)||Nc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=0,_e=null,He=null,dt=null,Al=!1,mi=!1,zn=!1,wl=0,os=0,gi=null,fy=0;function nt(){throw Error(l(321))}function Co(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!$t(e[a],t[a]))return!1;return!0}function Oo(e,t,a,n,r,c){return Da=c,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x.H=e===null||e.memoizedState===null?Lf:qo,zn=!1,c=a(n,r),zn=!1,mi&&(c=ef(t,a,n,r)),Pd(e),c}function Pd(e){x.H=ds;var t=He!==null&&He.next!==null;if(Da=0,dt=He=_e=null,Al=!1,os=0,gi=null,t)throw Error(l(300));e===null||ft||(e=e.dependencies,e!==null&&ml(e)&&(ft=!0))}function ef(e,t,a,n){_e=e;var r=0;do{if(mi&&(gi=null),os=0,mi=!1,25<=r)throw Error(l(301));if(r+=1,dt=He=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}x.H=If,c=t(a,n)}while(mi);return c}function hy(){var e=x.H,t=e.useState()[0];return t=typeof t.then=="function"?cs(t):t,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(_e.flags|=1024),t}function xo(){var e=wl!==0;return wl=0,e}function Do(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Mo(e){if(Al){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Al=!1}Da=0,dt=He=_e=null,mi=!1,os=wl=0,gi=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?_e.memoizedState=dt=e:dt=dt.next=e,dt}function ot(){if(He===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=dt===null?_e.memoizedState:dt.next;if(t!==null)dt=t,He=e;else{if(e===null)throw _e.alternate===null?Error(l(467)):Error(l(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},dt===null?_e.memoizedState=dt=e:dt=dt.next=e}return dt}function Cl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cs(e){var t=os;return os+=1,gi===null&&(gi=[]),e=Gd(gi,e,t),t=_e,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,x.H=t===null||t.memoizedState===null?Lf:qo),e}function Ol(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cs(e);if(e.$$typeof===B)return _t(e)}throw Error(l(438,String(e)))}function Ro(e){var t=null,a=_e.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=_e.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Cl(),_e.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=be;return t.index++,a}function Ma(e,t){return typeof t=="function"?t(e):t}function xl(e){var t=ot();return No(t,He,e)}function No(e,t,a){var n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=a;var r=e.baseQueue,c=n.pending;if(c!==null){if(r!==null){var h=r.next;r.next=c.next,c.next=h}t.baseQueue=r=c,n.pending=null}if(c=e.baseState,r===null)e.memoizedState=c;else{t=r.next;var v=h=null,T=null,R=t,k=!1;do{var G=R.lane&-536870913;if(G!==R.lane?(De&G)===G:(Da&G)===G){var j=R.revertLane;if(j===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),G===ui&&(k=!0);else if((Da&j)===j){R=R.next,j===ui&&(k=!0);continue}else G={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},T===null?(v=T=G,h=c):T=T.next=G,_e.lanes|=j,nn|=j;G=R.action,zn&&a(c,G),c=R.hasEagerState?R.eagerState:a(c,G)}else j={lane:G,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},T===null?(v=T=j,h=c):T=T.next=j,_e.lanes|=G,nn|=G;R=R.next}while(R!==null&&R!==t);if(T===null?h=c:T.next=v,!$t(c,e.memoizedState)&&(ft=!0,k&&(a=di,a!==null)))throw a;e.memoizedState=c,e.baseState=h,e.baseQueue=T,n.lastRenderedState=c}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Uo(e){var t=ot(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,c=t.memoizedState;if(r!==null){a.pending=null;var h=r=r.next;do c=e(c,h.action),h=h.next;while(h!==r);$t(c,t.memoizedState)||(ft=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,n]}function tf(e,t,a){var n=_e,r=ot(),c=Re;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=t();var h=!$t((He||r).memoizedState,a);if(h&&(r.memoizedState=a,ft=!0),r=r.queue,Lo(sf.bind(null,n,r,e),[e]),r.getSnapshot!==t||h||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,yi(9,{destroy:void 0},nf.bind(null,n,r,a,t),null),Ve===null)throw Error(l(349));c||(Da&127)!==0||af(n,t,a)}return a}function af(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=_e.updateQueue,t===null?(t=Cl(),_e.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function nf(e,t,a,n){t.value=a,t.getSnapshot=n,lf(t)&&rf(e)}function sf(e,t,a){return a(function(){lf(t)&&rf(e)})}function lf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!$t(e,a)}catch{return!0}}function rf(e){var t=Cn(e,2);t!==null&&kt(t,e,2)}function jo(e){var t=Ot();if(typeof e=="function"){var a=e;if(e=a(),zn){Ke(!0);try{a()}finally{Ke(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t}function of(e,t,a,n){return e.baseState=a,No(e,He,typeof n=="function"?n:Ma)}function py(e,t,a,n,r){if(Rl(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};x.T!==null?a(!0):c.isTransition=!1,n(c),a=t.pending,a===null?(c.next=t.pending=c,cf(t,c)):(c.next=a.next,t.pending=a.next=c)}}function cf(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var c=x.T,h={};x.T=h;try{var v=a(r,n),T=x.S;T!==null&&T(h,v),uf(e,t,v)}catch(R){zo(e,t,R)}finally{c!==null&&h.types!==null&&(c.types=h.types),x.T=c}}else try{c=a(r,n),uf(e,t,c)}catch(R){zo(e,t,R)}}function uf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){df(e,t,n)},function(n){return zo(e,t,n)}):df(e,t,a)}function df(e,t,a){t.status="fulfilled",t.value=a,ff(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,cf(e,a)))}function zo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,ff(t),t=t.next;while(t!==n)}e.action=null}function ff(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hf(e,t){return t}function pf(e,t){if(Re){var a=Ve.formState;if(a!==null){e:{var n=_e;if(Re){if(Xe){t:{for(var r=Xe,c=na;r.nodeType!==8;){if(!c){r=null;break t}if(r=sa(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){Xe=sa(r.nextSibling),n=r.data==="F!";break e}}Xa(n)}n=!1}n&&(t=a[0])}}return a=Ot(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:t},a.queue=n,a=Uf.bind(null,_e,n),n.dispatch=a,n=jo(!1),c=$o.bind(null,_e,!1,n.queue),n=Ot(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=py.bind(null,_e,r,c,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function mf(e){var t=ot();return gf(t,He,e)}function gf(e,t,a){if(t=No(e,t,hf)[0],e=xl(Ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=cs(t)}catch(h){throw h===fi?vl:h}else n=t;t=ot();var r=t.queue,c=r.dispatch;return a!==t.memoizedState&&(_e.flags|=2048,yi(9,{destroy:void 0},my.bind(null,r,a),null)),[n,c,e]}function my(e,t){e.action=t}function yf(e){var t=ot(),a=He;if(a!==null)return gf(t,a,e);ot(),t=t.memoizedState,a=ot();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function yi(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=_e.updateQueue,t===null&&(t=Cl(),_e.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function vf(){return ot().memoizedState}function Dl(e,t,a,n){var r=Ot();_e.flags|=e,r.memoizedState=yi(1|t,{destroy:void 0},a,n===void 0?null:n)}function Ml(e,t,a,n){var r=ot();n=n===void 0?null:n;var c=r.memoizedState.inst;He!==null&&n!==null&&Co(n,He.memoizedState.deps)?r.memoizedState=yi(t,c,a,n):(_e.flags|=e,r.memoizedState=yi(1|t,c,a,n))}function bf(e,t){Dl(8390656,8,e,t)}function Lo(e,t){Ml(2048,8,e,t)}function gy(e){_e.flags|=4;var t=_e.updateQueue;if(t===null)t=Cl(),_e.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Sf(e){var t=ot().memoizedState;return gy({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function _f(e,t){return Ml(4,2,e,t)}function Tf(e,t){return Ml(4,4,e,t)}function Ef(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Af(e,t,a){a=a!=null?a.concat([e]):null,Ml(4,4,Ef.bind(null,t,e),a)}function Io(){}function wf(e,t){var a=ot();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Co(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Cf(e,t){var a=ot();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Co(t,n[1]))return n[0];if(n=e(),zn){Ke(!0);try{e()}finally{Ke(!1)}}return a.memoizedState=[n,t],n}function ko(e,t,a){return a===void 0||(Da&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Oh(),_e.lanes|=e,nn|=e,a)}function Of(e,t,a,n){return $t(a,t)?a:pi.current!==null?(e=ko(e,a,n),$t(e,t)||(ft=!0),e):(Da&42)===0||(Da&1073741824)!==0&&(De&261930)===0?(ft=!0,e.memoizedState=a):(e=Oh(),_e.lanes|=e,nn|=e,t)}function xf(e,t,a,n,r){var c=H.p;H.p=c!==0&&8>c?c:8;var h=x.T,v={};x.T=v,$o(e,!1,t,a);try{var T=r(),R=x.S;if(R!==null&&R(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var k=dy(T,n);us(e,t,k,Yt(e))}else us(e,t,n,Yt(e))}catch(G){us(e,t,{then:function(){},status:"rejected",reason:G},Yt())}finally{H.p=c,h!==null&&v.types!==null&&(h.types=v.types),x.T=h}}function yy(){}function Bo(e,t,a,n){if(e.tag!==5)throw Error(l(476));var r=Df(e).queue;xf(e,r,t,ae,a===null?yy:function(){return Mf(e),a(n)})}function Df(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Mf(e){var t=Df(e);t.next===null&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},Yt())}function Ho(){return _t(Os)}function Rf(){return ot().memoizedState}function Nf(){return ot().memoizedState}function vy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Yt();e=Ka(a);var n=Wa(t,e,a);n!==null&&(kt(n,t,a),ss(n,t,a)),t={cache:mo()},e.payload=t;return}t=t.return}}function by(e,t,a){var n=Yt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rl(e)?jf(t,a):(a=no(e,t,a,n),a!==null&&(kt(a,e,n),zf(a,t,n)))}function Uf(e,t,a){var n=Yt();us(e,t,a,n)}function us(e,t,a,n){var r={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rl(e))jf(t,r);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,v=c(h,a);if(r.hasEagerState=!0,r.eagerState=v,$t(v,h))return dl(e,t,r,0),Ve===null&&ul(),!1}catch{}finally{}if(a=no(e,t,r,n),a!==null)return kt(a,e,n),zf(a,t,n),!0}return!1}function $o(e,t,a,n){if(n={lane:2,revertLane:bc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rl(e)){if(t)throw Error(l(479))}else t=no(e,a,n,2),t!==null&&kt(t,e,2)}function Rl(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function jf(e,t){mi=Al=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function zf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Bu(e,a)}}var ds={readContext:_t,use:Ol,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};ds.useEffectEvent=nt;var Lf={readContext:_t,use:Ol,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:bf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Dl(4194308,4,Ef.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){Dl(4,2,e,t)},useMemo:function(e,t){var a=Ot();t=t===void 0?null:t;var n=e();if(zn){Ke(!0);try{e()}finally{Ke(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ot();if(a!==void 0){var r=a(t);if(zn){Ke(!0);try{a(t)}finally{Ke(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=by.bind(null,_e,e),[n.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=jo(e);var t=e.queue,a=Uf.bind(null,_e,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Io,useDeferredValue:function(e,t){var a=Ot();return ko(a,e,t)},useTransition:function(){var e=jo(!1);return e=xf.bind(null,_e,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=_e,r=Ot();if(Re){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Ve===null)throw Error(l(349));(De&127)!==0||af(n,t,a)}r.memoizedState=a;var c={value:a,getSnapshot:t};return r.queue=c,bf(sf.bind(null,n,c,e),[e]),n.flags|=2048,yi(9,{destroy:void 0},nf.bind(null,n,c,a,t),null),a},useId:function(){var e=Ot(),t=Ve.identifierPrefix;if(Re){var a=ga,n=ma;a=(n&~(1<<32-we(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=wl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=fy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ho,useFormState:pf,useActionState:pf,useOptimistic:function(e){var t=Ot();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=$o.bind(null,_e,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ro,useCacheRefresh:function(){return Ot().memoizedState=vy.bind(null,_e)},useEffectEvent:function(e){var t=Ot(),a={impl:e};return t.memoizedState=a,function(){if((Le&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},qo={readContext:_t,use:Ol,useCallback:wf,useContext:_t,useEffect:Lo,useImperativeHandle:Af,useInsertionEffect:_f,useLayoutEffect:Tf,useMemo:Cf,useReducer:xl,useRef:vf,useState:function(){return xl(Ma)},useDebugValue:Io,useDeferredValue:function(e,t){var a=ot();return Of(a,He.memoizedState,e,t)},useTransition:function(){var e=xl(Ma)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:cs(e),t]},useSyncExternalStore:tf,useId:Rf,useHostTransitionStatus:Ho,useFormState:mf,useActionState:mf,useOptimistic:function(e,t){var a=ot();return of(a,He,e,t)},useMemoCache:Ro,useCacheRefresh:Nf};qo.useEffectEvent=Sf;var If={readContext:_t,use:Ol,useCallback:wf,useContext:_t,useEffect:Lo,useImperativeHandle:Af,useInsertionEffect:_f,useLayoutEffect:Tf,useMemo:Cf,useReducer:Uo,useRef:vf,useState:function(){return Uo(Ma)},useDebugValue:Io,useDeferredValue:function(e,t){var a=ot();return He===null?ko(a,e,t):Of(a,He.memoizedState,e,t)},useTransition:function(){var e=Uo(Ma)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:cs(e),t]},useSyncExternalStore:tf,useId:Rf,useHostTransitionStatus:Ho,useFormState:yf,useActionState:yf,useOptimistic:function(e,t){var a=ot();return He!==null?of(a,He,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ro,useCacheRefresh:Nf};If.useEffectEvent=Sf;function Vo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Go={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Yt(),r=Ka(n);r.payload=t,a!=null&&(r.callback=a),t=Wa(e,r,n),t!==null&&(kt(t,e,n),ss(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Yt(),r=Ka(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Wa(e,r,n),t!==null&&(kt(t,e,n),ss(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Yt(),n=Ka(a);n.tag=2,t!=null&&(n.callback=t),t=Wa(e,n,a),t!==null&&(kt(t,e,a),ss(t,e,a))}};function kf(e,t,a,n,r,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,h):t.prototype&&t.prototype.isPureReactComponent?!Ki(a,n)||!Ki(r,c):!0}function Bf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function Ln(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}function Hf(e){cl(e)}function $f(e){console.error(e)}function qf(e){cl(e)}function Nl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Vf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Fo(e,t,a){return a=Ka(a),a.tag=3,a.payload={element:null},a.callback=function(){Nl(e,t)},a}function Gf(e){return e=Ka(e),e.tag=3,e}function Ff(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var c=n.value;e.payload=function(){return r(c)},e.callback=function(){Vf(t,a,n)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Vf(t,a,n),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})})}function Sy(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&ci(t,a,r,!0),a=Vt.current,a!==null){switch(a.tag){case 31:case 13:return ia===null?Gl():a.alternate===null&&it===0&&(it=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===bl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),gc(e,n,r)),!1;case 22:return a.flags|=65536,n===bl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),gc(e,n,r)),!1}throw Error(l(435,a.tag))}return gc(e,n,r),Gl(),!1}if(Re)return t=Vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==co&&(e=Error(l(422),{cause:n}),es(ea(e,a)))):(n!==co&&(t=Error(l(423),{cause:n}),es(ea(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=ea(n,a),r=Fo(e.stateNode,n,r),_o(e,r),it!==4&&(it=2)),!1;var c=Error(l(520),{cause:n});if(c=ea(c,a),bs===null?bs=[c]:bs.push(c),it!==4&&(it=2),t===null)return!0;n=ea(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=Fo(a.stateNode,n,e),_o(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(sn===null||!sn.has(c))))return a.flags|=65536,r&=-r,a.lanes|=r,r=Gf(r),Ff(r,e,a,n),_o(a,r),!1}a=a.return}while(a!==null);return!1}var Jo=Error(l(461)),ft=!1;function Tt(e,t,a,n){t.child=e===null?Xd(t,null,a,n):jn(t,e.child,a,n)}function Jf(e,t,a,n,r){a=a.render;var c=t.ref;if("ref"in n){var h={};for(var v in n)v!=="ref"&&(h[v]=n[v])}else h=n;return Mn(t),n=Oo(e,t,a,h,c,r),v=xo(),e!==null&&!ft?(Do(e,t,r),Ra(e,t,r)):(Re&&v&&ro(t),t.flags|=1,Tt(e,t,n,r),t.child)}function Yf(e,t,a,n,r){if(e===null){var c=a.type;return typeof c=="function"&&!io(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Xf(e,t,c,n,r)):(e=hl(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!ec(e,r)){var h=c.memoizedProps;if(a=a.compare,a=a!==null?a:Ki,a(h,n)&&e.ref===t.ref)return Ra(e,t,r)}return t.flags|=1,e=wa(c,n),e.ref=t.ref,e.return=t,t.child=e}function Xf(e,t,a,n,r){if(e!==null){var c=e.memoizedProps;if(Ki(c,n)&&e.ref===t.ref)if(ft=!1,t.pendingProps=n=c,ec(e,r))(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,Ra(e,t,r)}return Yo(e,t,a,n,r)}function Qf(e,t,a,n){var r=n.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;n=r&~c}else n=0,t.child=null;return Zf(e,t,c,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yl(t,c!==null?c.cachePool:null),c!==null?Kd(t,c):Eo(),Wd(t);else return n=t.lanes=536870912,Zf(e,t,c!==null?c.baseLanes|a:a,a,n)}else c!==null?(yl(t,c.cachePool),Kd(t,c),en(),t.memoizedState=null):(e!==null&&yl(t,null),Eo(),en());return Tt(e,t,r,a),t.child}function fs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zf(e,t,a,n,r){var c=yo();return c=c===null?null:{parent:ut._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&yl(t,null),Eo(),Wd(t),e!==null&&ci(e,t,n,!0),t.childLanes=r,null}function Ul(e,t){return t=zl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Kf(e,t,a){return jn(t,e.child,null,a),e=Ul(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function _y(e,t,a){var n=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(n.mode==="hidden")return e=Ul(t,n),t.lanes=536870912,fs(null,e);if(wo(t),(e=Xe)?(e=cp(e,na),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ja!==null?{id:ma,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},a=Ud(e),a.return=t,t.child=a,St=t,Xe=null)):e=null,e===null)throw Xa(t);return t.lanes=536870912,null}return Ul(t,n)}var c=e.memoizedState;if(c!==null){var h=c.dehydrated;if(wo(t),r)if(t.flags&256)t.flags&=-257,t=Kf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(ft||ci(e,t,a,!1),r=(a&e.childLanes)!==0,ft||r){if(n=Ve,n!==null&&(h=Hu(n,a),h!==0&&h!==c.retryLane))throw c.retryLane=h,Cn(e,h),kt(n,e,h),Jo;Gl(),t=Kf(e,t,a)}else e=c.treeContext,Xe=sa(h.nextSibling),St=t,Re=!0,Ya=null,na=!1,e!==null&&Ld(t,e),t=Ul(t,n),t.flags|=4096;return t}return e=wa(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function jl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Yo(e,t,a,n,r){return Mn(t),a=Oo(e,t,a,n,void 0,r),n=xo(),e!==null&&!ft?(Do(e,t,r),Ra(e,t,r)):(Re&&n&&ro(t),t.flags|=1,Tt(e,t,a,r),t.child)}function Wf(e,t,a,n,r,c){return Mn(t),t.updateQueue=null,a=ef(t,n,a,r),Pd(e),n=xo(),e!==null&&!ft?(Do(e,t,c),Ra(e,t,c)):(Re&&n&&ro(t),t.flags|=1,Tt(e,t,a,c),t.child)}function Pf(e,t,a,n,r){if(Mn(t),t.stateNode===null){var c=si,h=a.contextType;typeof h=="object"&&h!==null&&(c=_t(h)),c=new a(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Go,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},bo(t),h=a.contextType,c.context=typeof h=="object"&&h!==null?_t(h):si,c.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Vo(t,a,h,n),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&Go.enqueueReplaceState(c,c.state,null),rs(t,n,c,r),ls(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var v=t.memoizedProps,T=Ln(a,v);c.props=T;var R=c.context,k=a.contextType;h=si,typeof k=="object"&&k!==null&&(h=_t(k));var G=a.getDerivedStateFromProps;k=typeof G=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,k||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||R!==h)&&Bf(t,c,n,h),Za=!1;var j=t.memoizedState;c.state=j,rs(t,n,c,r),ls(),R=t.memoizedState,v||j!==R||Za?(typeof G=="function"&&(Vo(t,a,G,n),R=t.memoizedState),(T=Za||kf(t,a,T,n,j,R,h))?(k||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=R),c.props=n,c.state=R,c.context=h,n=T):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,So(e,t),h=t.memoizedProps,k=Ln(a,h),c.props=k,G=t.pendingProps,j=c.context,R=a.contextType,T=si,typeof R=="object"&&R!==null&&(T=_t(R)),v=a.getDerivedStateFromProps,(R=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==G||j!==T)&&Bf(t,c,n,T),Za=!1,j=t.memoizedState,c.state=j,rs(t,n,c,r),ls();var L=t.memoizedState;h!==G||j!==L||Za||e!==null&&e.dependencies!==null&&ml(e.dependencies)?(typeof v=="function"&&(Vo(t,a,v,n),L=t.memoizedState),(k=Za||kf(t,a,k,n,j,L,T)||e!==null&&e.dependencies!==null&&ml(e.dependencies))?(R||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,L,T),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,L,T)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=L),c.props=n,c.state=L,c.context=T,n=k):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,jl(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=jn(t,e.child,null,r),t.child=jn(t,null,a,r)):Tt(e,t,a,r),t.memoizedState=c.state,e=t.child):e=Ra(e,t,r),e}function eh(e,t,a,n){return xn(),t.flags|=256,Tt(e,t,a,n),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qo(e){return{baseLanes:e,cachePool:qd()}}function Zo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Jt),e}function th(e,t,a){var n=t.pendingProps,r=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),h&&(r=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(r?Pa(t):en(),(e=Xe)?(e=cp(e,na),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ja!==null?{id:ma,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},a=Ud(e),a.return=t,t.child=a,St=t,Xe=null)):e=null,e===null)throw Xa(t);return Nc(e)?t.lanes=32:t.lanes=536870912,null}var v=n.children;return n=n.fallback,r?(en(),r=t.mode,v=zl({mode:"hidden",children:v},r),n=On(n,r,a,null),v.return=t,n.return=t,v.sibling=n,t.child=v,n=t.child,n.memoizedState=Qo(a),n.childLanes=Zo(e,h,a),t.memoizedState=Xo,fs(null,n)):(Pa(t),Ko(t,v))}var T=e.memoizedState;if(T!==null&&(v=T.dehydrated,v!==null)){if(c)t.flags&256?(Pa(t),t.flags&=-257,t=Wo(e,t,a)):t.memoizedState!==null?(en(),t.child=e.child,t.flags|=128,t=null):(en(),v=n.fallback,r=t.mode,n=zl({mode:"visible",children:n.children},r),v=On(v,r,a,null),v.flags|=2,n.return=t,v.return=t,n.sibling=v,t.child=n,jn(t,e.child,null,a),n=t.child,n.memoizedState=Qo(a),n.childLanes=Zo(e,h,a),t.memoizedState=Xo,t=fs(null,n));else if(Pa(t),Nc(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var R=h.dgst;h=R,n=Error(l(419)),n.stack="",n.digest=h,es({value:n,source:null,stack:null}),t=Wo(e,t,a)}else if(ft||ci(e,t,a,!1),h=(a&e.childLanes)!==0,ft||h){if(h=Ve,h!==null&&(n=Hu(h,a),n!==0&&n!==T.retryLane))throw T.retryLane=n,Cn(e,n),kt(h,e,n),Jo;Rc(v)||Gl(),t=Wo(e,t,a)}else Rc(v)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Xe=sa(v.nextSibling),St=t,Re=!0,Ya=null,na=!1,e!==null&&Ld(t,e),t=Ko(t,n.children),t.flags|=4096);return t}return r?(en(),v=n.fallback,r=t.mode,T=e.child,R=T.sibling,n=wa(T,{mode:"hidden",children:n.children}),n.subtreeFlags=T.subtreeFlags&65011712,R!==null?v=wa(R,v):(v=On(v,r,a,null),v.flags|=2),v.return=t,n.return=t,n.sibling=v,t.child=n,fs(null,n),n=t.child,v=e.child.memoizedState,v===null?v=Qo(a):(r=v.cachePool,r!==null?(T=ut._currentValue,r=r.parent!==T?{parent:T,pool:T}:r):r=qd(),v={baseLanes:v.baseLanes|a,cachePool:r}),n.memoizedState=v,n.childLanes=Zo(e,h,a),t.memoizedState=Xo,fs(e.child,n)):(Pa(t),a=e.child,e=a.sibling,a=wa(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Ko(e,t){return t=zl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zl(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function Wo(e,t,a){return jn(t,e.child,null,a),e=Ko(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ah(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ho(e.return,t,a)}function Po(e,t,a,n,r,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r,treeForkCount:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=n,h.tail=a,h.tailMode=r,h.treeForkCount=c)}function nh(e,t,a){var n=t.pendingProps,r=n.revealOrder,c=n.tail;n=n.children;var h=rt.current,v=(h&2)!==0;if(v?(h=h&1|2,t.flags|=128):h&=1,I(rt,h),Tt(e,t,n,a),n=Re?Pi:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ah(e,a,t);else if(e.tag===19)ah(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&El(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Po(t,!1,r,a,c,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&El(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Po(t,!0,a,null,c,n);break;case"together":Po(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ra(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ci(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=wa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=wa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ec(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ml(e)))}function Ty(e,t,a){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Qa(t,ut,e.memoizedState.cache),xn();break;case 27:case 5:de(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Qa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,wo(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Pa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?th(e,t,a):(Pa(t),e=Ra(e,t,a),e!==null?e.sibling:null);Pa(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(ci(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return nh(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),I(rt,rt.current),n)break;return null;case 22:return t.lanes=0,Qf(e,t,a,t.pendingProps);case 24:Qa(t,ut,e.memoizedState.cache)}return Ra(e,t,a)}function ih(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ft=!0;else{if(!ec(e,a)&&(t.flags&128)===0)return ft=!1,Ty(e,t,a);ft=(e.flags&131072)!==0}else ft=!1,Re&&(t.flags&1048576)!==0&&zd(t,Pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Nn(t.elementType),t.type=e,typeof e=="function")io(e)?(n=Ln(e,n),t.tag=1,t=Pf(null,t,e,n,a)):(t.tag=0,t=Yo(null,t,e,n,a));else{if(e!=null){var r=e.$$typeof;if(r===K){t.tag=11,t=Jf(null,t,e,n,a);break e}else if(r===Z){t.tag=14,t=Yf(null,t,e,n,a);break e}}throw t=Ne(e)||e,Error(l(306,t,""))}}return t;case 0:return Yo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=Ln(n,t.pendingProps),Pf(e,t,n,r,a);case 3:e:{if(Q(t,t.stateNode.containerInfo),e===null)throw Error(l(387));n=t.pendingProps;var c=t.memoizedState;r=c.element,So(e,t),rs(t,n,null,a);var h=t.memoizedState;if(n=h.cache,Qa(t,ut,n),n!==c.cache&&po(t,[ut],a,!0),ls(),n=h.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=eh(e,t,n,a);break e}else if(n!==r){r=ea(Error(l(424)),t),es(r),t=eh(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=sa(e.firstChild),St=t,Re=!0,Ya=null,na=!0,a=Xd(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xn(),n===r){t=Ra(e,t,a);break e}Tt(e,t,n,a)}t=t.child}return t;case 26:return jl(e,t),e===null?(a=mp(t.type,null,t.pendingProps,null))?t.memoizedState=a:Re||(a=t.type,e=t.pendingProps,n=Kl(P.current).createElement(a),n[bt]=t,n[Nt]=e,Et(n,a,e),gt(n),t.stateNode=n):t.memoizedState=mp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return de(t),e===null&&Re&&(n=t.stateNode=fp(t.type,t.pendingProps,P.current),St=t,na=!0,r=Xe,cn(t.type)?(Uc=r,Xe=sa(n.firstChild)):Xe=r),Tt(e,t,t.pendingProps.children,a),jl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((r=n=Xe)&&(n=Wy(n,t.type,t.pendingProps,na),n!==null?(t.stateNode=n,St=t,Xe=sa(n.firstChild),na=!1,r=!0):r=!1),r||Xa(t)),de(t),r=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,n=c.children,xc(r,c)?n=null:h!==null&&xc(r,h)&&(t.flags|=32),t.memoizedState!==null&&(r=Oo(e,t,hy,null,null,a),Os._currentValue=r),jl(e,t),Tt(e,t,n,a),t.child;case 6:return e===null&&Re&&((e=a=Xe)&&(a=Py(a,t.pendingProps,na),a!==null?(t.stateNode=a,St=t,Xe=null,e=!0):e=!1),e||Xa(t)),null;case 13:return th(e,t,a);case 4:return Q(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=jn(t,null,n,a):Tt(e,t,n,a),t.child;case 11:return Jf(e,t,t.type,t.pendingProps,a);case 7:return Tt(e,t,t.pendingProps,a),t.child;case 8:return Tt(e,t,t.pendingProps.children,a),t.child;case 12:return Tt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Qa(t,t.type,n.value),Tt(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,Mn(t),r=_t(r),n=n(r),t.flags|=1,Tt(e,t,n,a),t.child;case 14:return Yf(e,t,t.type,t.pendingProps,a);case 15:return Xf(e,t,t.type,t.pendingProps,a);case 19:return nh(e,t,a);case 31:return _y(e,t,a);case 22:return Qf(e,t,a,t.pendingProps);case 24:return Mn(t),n=_t(ut),e===null?(r=yo(),r===null&&(r=Ve,c=mo(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=a),r=c),t.memoizedState={parent:n,cache:r},bo(t),Qa(t,ut,r)):((e.lanes&a)!==0&&(So(e,t),rs(t,null,null,a),ls()),r=e.memoizedState,c=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Qa(t,ut,n)):(n=c.cache,Qa(t,ut,n),n!==r.cache&&po(t,[ut],a,!0))),Tt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Na(e){e.flags|=4}function tc(e,t,a,n,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Rh())e.flags|=8192;else throw Un=bl,vo}else e.flags&=-16777217}function sh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sp(t))if(Rh())e.flags|=8192;else throw Un=bl,vo}function Ll(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Iu():536870912,e.lanes|=t,_i|=t)}function hs(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Ey(e,t,a){var n=t.pendingProps;switch(oo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xa(ut),V(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(oi(t)?Na(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,uo())),Qe(t),null;case 26:var r=t.type,c=t.memoizedState;return e===null?(Na(t),c!==null?(Qe(t),sh(t,c)):(Qe(t),tc(t,r,null,n,a))):c?c!==e.memoizedState?(Na(t),Qe(t),sh(t,c)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Na(t),Qe(t),tc(t,r,e,n,a)),null;case 27:if(Te(t),a=P.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Na(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Qe(t),null}e=Y.current,oi(t)?Id(t):(e=fp(r,n,a),t.stateNode=e,Na(t))}return Qe(t),null;case 5:if(Te(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Na(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Qe(t),null}if(c=Y.current,oi(t))Id(t);else{var h=Kl(P.current);switch(c){case 1:c=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:c=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":c=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":c=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":c=h.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof n.is=="string"?h.createElement("select",{is:n.is}):h.createElement("select"),n.multiple?c.multiple=!0:n.size&&(c.size=n.size);break;default:c=typeof n.is=="string"?h.createElement(r,{is:n.is}):h.createElement(r)}}c[bt]=t,c[Nt]=n;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)c.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=c;e:switch(Et(c,r,n),r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Na(t)}}return Qe(t),tc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Na(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(l(166));if(e=P.current,oi(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=St,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[bt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||tp(e.nodeValue,a)),e||Xa(t,!0)}else e=Kl(e).createTextNode(n),e[bt]=t,t.stateNode=e}return Qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=oi(t),a!==null){if(e===null){if(!n)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[bt]=t}else xn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else a=uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Qe(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=oi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(l(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(317));r[bt]=t}else xn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),r=!1}else r=uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ll(t,t.updateQueue),Qe(t),null);case 4:return V(),e===null&&Ec(t.stateNode.containerInfo),Qe(t),null;case 10:return xa(t.type),Qe(t),null;case 19:if(U(rt),n=t.memoizedState,n===null)return Qe(t),null;if(r=(t.flags&128)!==0,c=n.rendering,c===null)if(r)hs(n,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=El(e),c!==null){for(t.flags|=128,hs(n,!1),e=c.updateQueue,t.updateQueue=e,Ll(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Nd(a,e),a=a.sibling;return I(rt,rt.current&1|2),Re&&Ca(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Se()>$l&&(t.flags|=128,r=!0,hs(n,!1),t.lanes=4194304)}else{if(!r)if(e=El(c),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Ll(t,e),hs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!c.alternate&&!Re)return Qe(t),null}else 2*Se()-n.renderingStartTime>$l&&a!==536870912&&(t.flags|=128,r=!0,hs(n,!1),t.lanes=4194304);n.isBackwards?(c.sibling=t.child,t.child=c):(e=n.last,e!==null?e.sibling=c:t.child=c,n.last=c)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Se(),e.sibling=null,a=rt.current,I(rt,r?a&1|2:a&1),Re&&Ca(t,n.treeForkCount),e):(Qe(t),null);case 22:case 23:return Gt(t),Ao(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),a=t.updateQueue,a!==null&&Ll(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&U(Rn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),xa(ut),Qe(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Ay(e,t){switch(oo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xa(ut),V(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Te(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(l(340));xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(rt),null;case 4:return V(),null;case 10:return xa(t.type),null;case 22:case 23:return Gt(t),Ao(),e!==null&&U(Rn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xa(ut),null;case 25:return null;default:return null}}function lh(e,t){switch(oo(t),t.tag){case 3:xa(ut),V();break;case 26:case 27:case 5:Te(t);break;case 4:V();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:U(rt);break;case 10:xa(t.type);break;case 22:case 23:Gt(t),Ao(),e!==null&&U(Rn);break;case 24:xa(ut)}}function ps(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var c=a.create,h=a.inst;n=c(),h.destroy=n}a=a.next}while(a!==r)}}catch(v){Be(t,t.return,v)}}function tn(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){var h=n.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,r=t;var T=a,R=v;try{R()}catch(k){Be(r,T,k)}}}n=n.next}while(n!==c)}}catch(k){Be(t,t.return,k)}}function rh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Zd(t,a)}catch(n){Be(e,e.return,n)}}}function oh(e,t,a){a.props=Ln(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Be(e,t,n)}}function ms(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){Be(e,t,r)}}function ya(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){Be(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Be(e,t,r)}else a.current=null}function ch(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){Be(e,e.return,r)}}function ac(e,t,a){try{var n=e.stateNode;Jy(n,e.type,a,t),n[Nt]=t}catch(r){Be(e,e.return,r)}}function uh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cn(e.type)||e.tag===4}function nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ea));else if(n!==4&&(n===27&&cn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(ic(e,t,a),e=e.sibling;e!==null;)ic(e,t,a),e=e.sibling}function Il(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&cn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Il(e,t,a),e=e.sibling;e!==null;)Il(e,t,a),e=e.sibling}function dh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Et(t,n,a),t[bt]=e,t[Nt]=a}catch(c){Be(e,e.return,c)}}var Ua=!1,ht=!1,sc=!1,fh=typeof WeakSet=="function"?WeakSet:Set,yt=null;function wy(e,t){if(e=e.containerInfo,Cc=ir,e=Ed(e),Kr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var h=0,v=-1,T=-1,R=0,k=0,G=e,j=null;t:for(;;){for(var L;G!==a||r!==0&&G.nodeType!==3||(v=h+r),G!==c||n!==0&&G.nodeType!==3||(T=h+n),G.nodeType===3&&(h+=G.nodeValue.length),(L=G.firstChild)!==null;)j=G,G=L;for(;;){if(G===e)break t;if(j===a&&++R===r&&(v=h),j===c&&++k===n&&(T=h),(L=G.nextSibling)!==null)break;G=j,j=G.parentNode}G=L}a=v===-1||T===-1?null:{start:v,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Oc={focusedElem:e,selectionRange:a},ir=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)r=e[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,r=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var te=Ln(a.type,r);e=n.getSnapshotBeforeUpdate(te,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(he){Be(a,a.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Mc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}}function hh(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:za(e,a),n&4&&ps(5,a);break;case 1:if(za(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){Be(a,a.return,h)}else{var r=Ln(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Be(a,a.return,h)}}n&64&&rh(a),n&512&&ms(a,a.return);break;case 3:if(za(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Zd(e,t)}catch(h){Be(a,a.return,h)}}break;case 27:t===null&&n&4&&dh(a);case 26:case 5:za(e,a),t===null&&n&4&&ch(a),n&512&&ms(a,a.return);break;case 12:za(e,a);break;case 31:za(e,a),n&4&&gh(e,a);break;case 13:za(e,a),n&4&&yh(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=jy.bind(null,a),ev(e,a))));break;case 22:if(n=a.memoizedState!==null||Ua,!n){t=t!==null&&t.memoizedState!==null||ht,r=Ua;var c=ht;Ua=n,(ht=t)&&!c?La(e,a,(a.subtreeFlags&8772)!==0):za(e,a),Ua=r,ht=c}break;case 30:break;default:za(e,a)}}function ph(e){var t=e.alternate;t!==null&&(e.alternate=null,ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,jt=!1;function ja(e,t,a){for(a=a.child;a!==null;)mh(e,t,a),a=a.sibling}function mh(e,t,a){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Qt,a)}catch{}switch(a.tag){case 26:ht||ya(a,t),ja(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||ya(a,t);var n=We,r=jt;cn(a.type)&&(We=a.stateNode,jt=!1),ja(e,t,a),As(a.stateNode),We=n,jt=r;break;case 5:ht||ya(a,t);case 6:if(n=We,r=jt,We=null,ja(e,t,a),We=n,jt=r,We!==null)if(jt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(a.stateNode)}catch(c){Be(a,t,c)}else try{We.removeChild(a.stateNode)}catch(c){Be(a,t,c)}break;case 18:We!==null&&(jt?(e=We,rp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Di(e)):rp(We,a.stateNode));break;case 4:n=We,r=jt,We=a.stateNode.containerInfo,jt=!0,ja(e,t,a),We=n,jt=r;break;case 0:case 11:case 14:case 15:tn(2,a,t),ht||tn(4,a,t),ja(e,t,a);break;case 1:ht||(ya(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&oh(a,t,n)),ja(e,t,a);break;case 21:ja(e,t,a);break;case 22:ht=(n=ht)||a.memoizedState!==null,ja(e,t,a),ht=n;break;default:ja(e,t,a)}}function gh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Di(e)}catch(a){Be(t,t.return,a)}}}function yh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Di(e)}catch(a){Be(t,t.return,a)}}function Cy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fh),t;default:throw Error(l(435,e.tag))}}function kl(e,t){var a=Cy(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var r=zy.bind(null,e,n);n.then(r,r)}})}function zt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],c=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(cn(v.type)){We=v.stateNode,jt=!1;break e}break;case 5:We=v.stateNode,jt=!1;break e;case 3:case 4:We=v.stateNode.containerInfo,jt=!0;break e}v=v.return}if(We===null)throw Error(l(160));mh(c,h,r),We=null,jt=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vh(t,e),t=t.sibling}var ua=null;function vh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Lt(e),n&4&&(tn(3,e,e.return),ps(3,e),tn(5,e,e.return));break;case 1:zt(t,e),Lt(e),n&512&&(ht||a===null||ya(a,a.return)),n&64&&Ua&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=ua;if(zt(t,e),Lt(e),n&512&&(ht||a===null||ya(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":c=r.getElementsByTagName("title")[0],(!c||c[qi]||c[bt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(n),r.head.insertBefore(c,r.querySelector("head > title"))),Et(c,n,a),c[bt]=e,gt(c),n=c;break e;case"link":var h=vp("link","href",r).get(n+(a.href||""));if(h){for(var v=0;v<h.length;v++)if(c=h[v],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(v,1);break t}}c=r.createElement(n),Et(c,n,a),r.head.appendChild(c);break;case"meta":if(h=vp("meta","content",r).get(n+(a.content||""))){for(v=0;v<h.length;v++)if(c=h[v],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(v,1);break t}}c=r.createElement(n),Et(c,n,a),r.head.appendChild(c);break;default:throw Error(l(468,n))}c[bt]=e,gt(c),n=c}e.stateNode=n}else bp(r,e.type,e.stateNode);else e.stateNode=yp(r,n,e.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?bp(r,e.type,e.stateNode):yp(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&ac(e,e.memoizedProps,a.memoizedProps)}break;case 27:zt(t,e),Lt(e),n&512&&(ht||a===null||ya(a,a.return)),a!==null&&n&4&&ac(e,e.memoizedProps,a.memoizedProps);break;case 5:if(zt(t,e),Lt(e),n&512&&(ht||a===null||ya(a,a.return)),e.flags&32){r=e.stateNode;try{Wn(r,"")}catch(te){Be(e,e.return,te)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,ac(e,r,a!==null?a.memoizedProps:r)),n&1024&&(sc=!0);break;case 6:if(zt(t,e),Lt(e),n&4){if(e.stateNode===null)throw Error(l(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(te){Be(e,e.return,te)}}break;case 3:if(er=null,r=ua,ua=Wl(t.containerInfo),zt(t,e),ua=r,Lt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(te){Be(e,e.return,te)}sc&&(sc=!1,bh(e));break;case 4:n=ua,ua=Wl(e.stateNode.containerInfo),zt(t,e),Lt(e),ua=n;break;case 12:zt(t,e),Lt(e);break;case 31:zt(t,e),Lt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,kl(e,n)));break;case 13:zt(t,e),Lt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hl=Se()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,kl(e,n)));break;case 22:r=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,R=Ua,k=ht;if(Ua=R||r,ht=k||T,zt(t,e),ht=k,Ua=R,Lt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||T||Ua||ht||In(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){T=a=t;try{if(c=T.stateNode,r)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=T.stateNode;var G=T.memoizedProps.style,j=G!=null&&G.hasOwnProperty("display")?G.display:null;v.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(te){Be(T,T.return,te)}}}else if(t.tag===6){if(a===null){T=t;try{T.stateNode.nodeValue=r?"":T.memoizedProps}catch(te){Be(T,T.return,te)}}}else if(t.tag===18){if(a===null){T=t;try{var L=T.stateNode;r?op(L,!0):op(T.stateNode,!1)}catch(te){Be(T,T.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,kl(e,a))));break;case 19:zt(t,e),Lt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,kl(e,n)));break;case 30:break;case 21:break;default:zt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(uh(n)){a=n;break}n=n.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var r=a.stateNode,c=nc(e);Il(e,c,r);break;case 5:var h=a.stateNode;a.flags&32&&(Wn(h,""),a.flags&=-33);var v=nc(e);Il(e,v,h);break;case 3:case 4:var T=a.stateNode.containerInfo,R=nc(e);ic(e,R,T);break;default:throw Error(l(161))}}catch(k){Be(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hh(e,t.alternate,t),t=t.sibling}function In(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:tn(4,t,t.return),In(t);break;case 1:ya(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&oh(t,t.return,a),In(t);break;case 27:As(t.stateNode);case 26:case 5:ya(t,t.return),In(t);break;case 22:t.memoizedState===null&&In(t);break;case 30:In(t);break;default:In(t)}e=e.sibling}}function La(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:La(r,c,a),ps(4,c);break;case 1:if(La(r,c,a),n=c,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(R){Be(n,n.return,R)}if(n=c,r=n.updateQueue,r!==null){var v=n.stateNode;try{var T=r.shared.hiddenCallbacks;if(T!==null)for(r.shared.hiddenCallbacks=null,r=0;r<T.length;r++)Qd(T[r],v)}catch(R){Be(n,n.return,R)}}a&&h&64&&rh(c),ms(c,c.return);break;case 27:dh(c);case 26:case 5:La(r,c,a),a&&n===null&&h&4&&ch(c),ms(c,c.return);break;case 12:La(r,c,a);break;case 31:La(r,c,a),a&&h&4&&gh(r,c);break;case 13:La(r,c,a),a&&h&4&&yh(r,c);break;case 22:c.memoizedState===null&&La(r,c,a),ms(c,c.return);break;case 30:break;default:La(r,c,a)}t=t.sibling}}function lc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ts(a))}function rc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ts(e))}function da(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sh(e,t,a,n),t=t.sibling}function Sh(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:da(e,t,a,n),r&2048&&ps(9,t);break;case 1:da(e,t,a,n);break;case 3:da(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ts(e)));break;case 12:if(r&2048){da(e,t,a,n),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,v=c.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Be(t,t.return,T)}}else da(e,t,a,n);break;case 31:da(e,t,a,n);break;case 13:da(e,t,a,n);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?da(e,t,a,n):gs(e,t):c._visibility&2?da(e,t,a,n):(c._visibility|=2,vi(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),r&2048&&lc(h,t);break;case 24:da(e,t,a,n),r&2048&&rc(t.alternate,t);break;default:da(e,t,a,n)}}function vi(e,t,a,n,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,h=t,v=a,T=n,R=h.flags;switch(h.tag){case 0:case 11:case 15:vi(c,h,v,T,r),ps(8,h);break;case 23:break;case 22:var k=h.stateNode;h.memoizedState!==null?k._visibility&2?vi(c,h,v,T,r):gs(c,h):(k._visibility|=2,vi(c,h,v,T,r)),r&&R&2048&&lc(h.alternate,h);break;case 24:vi(c,h,v,T,r),r&&R&2048&&rc(h.alternate,h);break;default:vi(c,h,v,T,r)}t=t.sibling}}function gs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:gs(a,n),r&2048&&lc(n.alternate,n);break;case 24:gs(a,n),r&2048&&rc(n.alternate,n);break;default:gs(a,n)}t=t.sibling}}var ys=8192;function bi(e,t,a){if(e.subtreeFlags&ys)for(e=e.child;e!==null;)_h(e,t,a),e=e.sibling}function _h(e,t,a){switch(e.tag){case 26:bi(e,t,a),e.flags&ys&&e.memoizedState!==null&&fv(a,ua,e.memoizedState,e.memoizedProps);break;case 5:bi(e,t,a);break;case 3:case 4:var n=ua;ua=Wl(e.stateNode.containerInfo),bi(e,t,a),ua=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ys,ys=16777216,bi(e,t,a),ys=n):bi(e,t,a));break;default:bi(e,t,a)}}function Th(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];yt=n,Ah(n,e)}Th(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Eh(e),e=e.sibling}function Eh(e){switch(e.tag){case 0:case 11:case 15:vs(e),e.flags&2048&&tn(9,e,e.return);break;case 3:vs(e);break;case 12:vs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bl(e)):vs(e);break;default:vs(e)}}function Bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];yt=n,Ah(n,e)}Th(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:tn(8,t,t.return),Bl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Bl(t));break;default:Bl(t)}e=e.sibling}}function Ah(e,t){for(;yt!==null;){var a=yt;switch(a.tag){case 0:case 11:case 15:tn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ts(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,yt=n;else e:for(a=e;yt!==null;){n=yt;var r=n.sibling,c=n.return;if(ph(n),n===a){yt=null;break e}if(r!==null){r.return=c,yt=r;break e}yt=c}}}var Oy={getCacheForType:function(e){var t=_t(ut),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return _t(ut).controller.signal}},xy=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ve=null,Ce=null,De=0,ke=0,Ft=null,an=!1,Si=!1,oc=!1,Ia=0,it=0,nn=0,kn=0,cc=0,Jt=0,_i=0,bs=null,It=null,uc=!1,Hl=0,wh=0,$l=1/0,ql=null,sn=null,mt=0,ln=null,Ti=null,ka=0,dc=0,fc=null,Ch=null,Ss=0,hc=null;function Yt(){return(Le&2)!==0&&De!==0?De&-De:x.T!==null?bc():$u()}function Oh(){if(Jt===0)if((De&536870912)===0||Re){var e=Va;Va<<=1,(Va&3932160)===0&&(Va=262144),Jt=e}else Jt=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Jt}function kt(e,t,a){(e===Ve&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(Ei(e,0),rn(e,De,Jt,!1)),$i(e,a),((Le&2)===0||e!==Ve)&&(e===Ve&&((Le&2)===0&&(kn|=a),it===4&&rn(e,De,Jt,!1)),va(e))}function xh(e,t,a){if((Le&6)!==0)throw Error(l(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Hi(e,t),r=n?Ry(e,t):mc(e,t,!0),c=n;do{if(r===0){Si&&!n&&rn(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Dy(a)){r=mc(e,t,!1),c=!1;continue}if(r===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;r=bs;var T=v.current.memoizedState.isDehydrated;if(T&&(Ei(v,h).flags|=256),h=mc(v,h,!1),h!==2){if(oc&&!T){v.errorRecoveryDisabledLanes|=c,kn|=c,r=4;break e}c=It,It=r,c!==null&&(It===null?It=c:It.push.apply(It,c))}r=h}if(c=!1,r!==2)continue}}if(r===1){Ei(e,0),rn(e,t,0,!0);break}e:{switch(n=e,c=r,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:rn(n,t,Jt,!an);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(r=Hl+300-Se(),10<r)){if(rn(n,t,Jt,!an),Zt(n,0,!0)!==0)break e;ka=t,n.timeoutHandle=sp(Dh.bind(null,n,a,It,ql,uc,t,Jt,kn,_i,an,c,"Throttled",-0,0),r);break e}Dh(n,a,It,ql,uc,t,Jt,kn,_i,an,c,null,-0,0)}}break}while(!0);va(e)}function Dh(e,t,a,n,r,c,h,v,T,R,k,G,j,L){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},_h(t,c,G);var te=(c&62914560)===c?Hl-Se():(c&4194048)===c?wh-Se():0;if(te=hv(G,te),te!==null){ka=c,e.cancelPendingCommit=te(Ih.bind(null,e,t,c,a,n,r,h,v,T,k,G,null,j,L)),rn(e,c,h,!R);return}}Ih(e,t,c,a,n,r,h,v,T)}function Dy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],c=r.getSnapshot;r=r.value;try{if(!$t(c(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t,a,n){t&=~cc,t&=~kn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var c=31-we(r),h=1<<c;n[c]=-1,r&=~h}a!==0&&ku(e,a,t)}function Vl(){return(Le&6)===0?(_s(0),!1):!0}function pc(){if(Ce!==null){if(ke===0)var e=Ce.return;else e=Ce,Oa=Dn=null,Mo(e),hi=null,ns=0,e=Ce;for(;e!==null;)lh(e.alternate,e),e=e.return;Ce=null}}function Ei(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Qy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ka=0,pc(),Ve=e,Ce=a=wa(e.current,null),De=t,ke=0,Ft=null,an=!1,Si=Hi(e,t),oc=!1,_i=Jt=cc=kn=nn=it=0,It=bs=null,uc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-we(n),c=1<<r;t|=e[r],n&=~c}return Ia=t,ul(),a}function Mh(e,t){_e=null,x.H=ds,t===fi||t===vl?(t=Fd(),ke=3):t===vo?(t=Fd(),ke=4):ke=t===Jo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ft=t,Ce===null&&(it=1,Nl(e,ea(t,e.current)))}function Rh(){var e=Vt.current;return e===null?!0:(De&4194048)===De?ia===null:(De&62914560)===De||(De&536870912)!==0?e===ia:!1}function Nh(){var e=x.H;return x.H=ds,e===null?ds:e}function Uh(){var e=x.A;return x.A=Oy,e}function Gl(){it=4,an||(De&4194048)!==De&&Vt.current!==null||(Si=!0),(nn&134217727)===0&&(kn&134217727)===0||Ve===null||rn(Ve,De,Jt,!1)}function mc(e,t,a){var n=Le;Le|=2;var r=Nh(),c=Uh();(Ve!==e||De!==t)&&(ql=null,Ei(e,t)),t=!1;var h=it;e:do try{if(ke!==0&&Ce!==null){var v=Ce,T=Ft;switch(ke){case 8:pc(),h=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(t=!0);var R=ke;if(ke=0,Ft=null,Ai(e,v,T,R),a&&Si){h=0;break e}break;default:R=ke,ke=0,Ft=null,Ai(e,v,T,R)}}My(),h=it;break}catch(k){Mh(e,k)}while(!0);return t&&e.shellSuspendCounter++,Oa=Dn=null,Le=n,x.H=r,x.A=c,Ce===null&&(Ve=null,De=0,ul()),h}function My(){for(;Ce!==null;)jh(Ce)}function Ry(e,t){var a=Le;Le|=2;var n=Nh(),r=Uh();Ve!==e||De!==t?(ql=null,$l=Se()+500,Ei(e,t)):Si=Hi(e,t);e:do try{if(ke!==0&&Ce!==null){t=Ce;var c=Ft;t:switch(ke){case 1:ke=0,Ft=null,Ai(e,t,c,1);break;case 2:case 9:if(Vd(c)){ke=0,Ft=null,zh(t);break}t=function(){ke!==2&&ke!==9||Ve!==e||(ke=7),va(e)},c.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Vd(c)?(ke=0,Ft=null,zh(t)):(ke=0,Ft=null,Ai(e,t,c,7));break;case 5:var h=null;switch(Ce.tag){case 26:h=Ce.memoizedState;case 5:case 27:var v=Ce;if(h?Sp(h):v.stateNode.complete){ke=0,Ft=null;var T=v.sibling;if(T!==null)Ce=T;else{var R=v.return;R!==null?(Ce=R,Fl(R)):Ce=null}break t}}ke=0,Ft=null,Ai(e,t,c,5);break;case 6:ke=0,Ft=null,Ai(e,t,c,6);break;case 8:pc(),it=6;break e;default:throw Error(l(462))}}Ny();break}catch(k){Mh(e,k)}while(!0);return Oa=Dn=null,x.H=n,x.A=r,Le=a,Ce!==null?0:(Ve=null,De=0,ul(),it)}function Ny(){for(;Ce!==null&&!Sn();)jh(Ce)}function jh(e){var t=ih(e.alternate,e,Ia);e.memoizedProps=e.pendingProps,t===null?Fl(e):Ce=t}function zh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wf(a,t,t.pendingProps,t.type,void 0,De);break;case 11:t=Wf(a,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:Mo(t);default:lh(a,t),t=Ce=Nd(t,Ia),t=ih(a,t,Ia)}e.memoizedProps=e.pendingProps,t===null?Fl(e):Ce=t}function Ai(e,t,a,n){Oa=Dn=null,Mo(t),hi=null,ns=0;var r=t.return;try{if(Sy(e,r,t,a,De)){it=1,Nl(e,ea(a,e.current)),Ce=null;return}}catch(c){if(r!==null)throw Ce=r,c;it=1,Nl(e,ea(a,e.current)),Ce=null;return}t.flags&32768?(Re||n===1?e=!0:Si||(De&536870912)!==0?e=!1:(an=e=!0,(n===2||n===9||n===3||n===6)&&(n=Vt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Lh(t,e)):Fl(t)}function Fl(e){var t=e;do{if((t.flags&32768)!==0){Lh(t,an);return}e=t.return;var a=Ey(t.alternate,t,Ia);if(a!==null){Ce=a;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);it===0&&(it=5)}function Lh(e,t){do{var a=Ay(e.alternate,e);if(a!==null){a.flags&=32767,Ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=a}while(e!==null);it=6,Ce=null}function Ih(e,t,a,n,r,c,h,v,T){e.cancelPendingCommit=null;do Jl();while(mt!==0);if((Le&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=ao,dg(e,a,c,h,v,T),e===Ve&&(Ce=Ve=null,De=0),Ti=t,ln=e,ka=a,dc=c,fc=r,Ch=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ly(Ue,function(){return qh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=x.T,x.T=null,r=H.p,H.p=2,h=Le,Le|=4;try{wy(e,t,a)}finally{Le=h,H.p=r,x.T=n}}mt=1,kh(),Bh(),Hh()}}function kh(){if(mt===1){mt=0;var e=ln,t=Ti,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=x.T,x.T=null;var n=H.p;H.p=2;var r=Le;Le|=4;try{vh(t,e);var c=Oc,h=Ed(e.containerInfo),v=c.focusedElem,T=c.selectionRange;if(h!==v&&v&&v.ownerDocument&&Td(v.ownerDocument.documentElement,v)){if(T!==null&&Kr(v)){var R=T.start,k=T.end;if(k===void 0&&(k=R),"selectionStart"in v)v.selectionStart=R,v.selectionEnd=Math.min(k,v.value.length);else{var G=v.ownerDocument||document,j=G&&G.defaultView||window;if(j.getSelection){var L=j.getSelection(),te=v.textContent.length,he=Math.min(T.start,te),qe=T.end===void 0?he:Math.min(T.end,te);!L.extend&&he>qe&&(h=qe,qe=he,he=h);var C=_d(v,he),A=_d(v,qe);if(C&&A&&(L.rangeCount!==1||L.anchorNode!==C.node||L.anchorOffset!==C.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var M=G.createRange();M.setStart(C.node,C.offset),L.removeAllRanges(),he>qe?(L.addRange(M),L.extend(A.node,A.offset)):(M.setEnd(A.node,A.offset),L.addRange(M))}}}}for(G=[],L=v;L=L.parentNode;)L.nodeType===1&&G.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<G.length;v++){var $=G[v];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}ir=!!Cc,Oc=Cc=null}finally{Le=r,H.p=n,x.T=a}}e.current=t,mt=2}}function Bh(){if(mt===2){mt=0;var e=ln,t=Ti,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=x.T,x.T=null;var n=H.p;H.p=2;var r=Le;Le|=4;try{hh(e,t.alternate,t)}finally{Le=r,H.p=n,x.T=a}}mt=3}}function Hh(){if(mt===4||mt===3){mt=0,Ze();var e=ln,t=Ti,a=ka,n=Ch;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mt=5:(mt=0,Ti=ln=null,$h(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(sn=null),Nr(a),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Qt,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=x.T,r=H.p,H.p=2,x.T=null;try{for(var c=e.onRecoverableError,h=0;h<n.length;h++){var v=n[h];c(v.value,{componentStack:v.stack})}}finally{x.T=t,H.p=r}}(ka&3)!==0&&Jl(),va(e),r=e.pendingLanes,(a&261930)!==0&&(r&42)!==0?e===hc?Ss++:(Ss=0,hc=e):Ss=0,_s(0)}}function $h(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ts(t)))}function Jl(){return kh(),Bh(),Hh(),qh()}function qh(){if(mt!==5)return!1;var e=ln,t=dc;dc=0;var a=Nr(ka),n=x.T,r=H.p;try{H.p=32>a?32:a,x.T=null,a=fc,fc=null;var c=ln,h=ka;if(mt=0,Ti=ln=null,ka=0,(Le&6)!==0)throw Error(l(331));var v=Le;if(Le|=4,Eh(c.current),Sh(c,c.current,h,a),Le=v,_s(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Qt,c)}catch{}return!0}finally{H.p=r,x.T=n,$h(e,t)}}function Vh(e,t,a){t=ea(a,t),t=Fo(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&($i(e,2),va(e))}function Be(e,t,a){if(e.tag===3)Vh(e,e,a);else for(;t!==null;){if(t.tag===3){Vh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sn===null||!sn.has(n))){e=ea(a,e),a=Gf(2),n=Wa(t,a,2),n!==null&&(Ff(a,n,t,e),$i(n,2),va(n));break}}t=t.return}}function gc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new xy;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(oc=!0,r.add(a),e=Uy.bind(null,e,t,a),t.then(e,e))}function Uy(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ve===e&&(De&a)===a&&(it===4||it===3&&(De&62914560)===De&&300>Se()-Hl?(Le&2)===0&&Ei(e,0):cc|=a,_i===De&&(_i=0)),va(e)}function Gh(e,t){t===0&&(t=Iu()),e=Cn(e,t),e!==null&&($i(e,t),va(e))}function jy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Gh(e,a)}function zy(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(t),Gh(e,a)}function Ly(e,t){return Mt(e,t)}var Yl=null,wi=null,yc=!1,Xl=!1,vc=!1,on=0;function va(e){e!==wi&&e.next===null&&(wi===null?Yl=wi=e:wi=wi.next=e),Xl=!0,yc||(yc=!0,ky())}function _s(e,t){if(!vc&&Xl){vc=!0;do for(var a=!1,n=Yl;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var c=0;else{var h=n.suspendedLanes,v=n.pingedLanes;c=(1<<31-we(42|e)+1)-1,c&=r&~(h&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Xh(n,c))}else c=De,c=Zt(n,n===Ve?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||Hi(n,c)||(a=!0,Xh(n,c));n=n.next}while(a);vc=!1}}function Iy(){Fh()}function Fh(){Xl=yc=!1;var e=0;on!==0&&Xy()&&(e=on);for(var t=Se(),a=null,n=Yl;n!==null;){var r=n.next,c=Jh(n,t);c===0?(n.next=null,a===null?Yl=r:a.next=r,r===null&&(wi=a)):(a=n,(e!==0||(c&3)!==0)&&(Xl=!0)),n=r}mt!==0&&mt!==5||_s(e),on!==0&&(on=0)}function Jh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-we(c),v=1<<h,T=r[h];T===-1?((v&a)===0||(v&n)!==0)&&(r[h]=ug(v,t)):T<=t&&(e.expiredLanes|=v),c&=~v}if(t=Ve,a=De,a=Zt(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&_a(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&_a(n),Nr(a)){case 2:case 8:a=me;break;case 32:a=Ue;break;case 268435456:a=tt;break;default:a=Ue}return n=Yh.bind(null,e),a=Mt(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&_a(n),e.callbackPriority=2,e.callbackNode=null,2}function Yh(e,t){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Jl()&&e.callbackNode!==a)return null;var n=De;return n=Zt(e,e===Ve?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(xh(e,n,t),Jh(e,Se()),e.callbackNode!=null&&e.callbackNode===a?Yh.bind(null,e):null)}function Xh(e,t){if(Jl())return null;xh(e,t,!0)}function ky(){Zy(function(){(Le&6)!==0?Mt(Ae,Iy):Fh()})}function bc(){if(on===0){var e=ui;e===0&&(e=pa,pa<<=1,(pa&261888)===0&&(pa=256)),on=e}return on}function Qh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:al(""+e)}function Zh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function By(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var c=Qh((r[Nt]||null).action),h=n.submitter;h&&(t=(t=h[Nt]||null)?Qh(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var v=new ll("action","action",null,n,r);e.push({event:v,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(on!==0){var T=h?Zh(r,h):new FormData(r);Bo(a,{pending:!0,data:T,method:r.method,action:c},null,T)}}else typeof c=="function"&&(v.preventDefault(),T=h?Zh(r,h):new FormData(r),Bo(a,{pending:!0,data:T,method:r.method,action:c},c,T))},currentTarget:r}]})}}for(var Sc=0;Sc<to.length;Sc++){var _c=to[Sc],Hy=_c.toLowerCase(),$y=_c[0].toUpperCase()+_c.slice(1);ca(Hy,"on"+$y)}ca(Cd,"onAnimationEnd"),ca(Od,"onAnimationIteration"),ca(xd,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(ny,"onTransitionRun"),ca(iy,"onTransitionStart"),ca(sy,"onTransitionCancel"),ca(Dd,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ts));function Kh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var h=n.length-1;0<=h;h--){var v=n[h],T=v.instance,R=v.currentTarget;if(v=v.listener,T!==c&&r.isPropagationStopped())break e;c=v,r.currentTarget=R;try{c(r)}catch(k){cl(k)}r.currentTarget=null,c=T}else for(h=0;h<n.length;h++){if(v=n[h],T=v.instance,R=v.currentTarget,v=v.listener,T!==c&&r.isPropagationStopped())break e;c=v,r.currentTarget=R;try{c(r)}catch(k){cl(k)}r.currentTarget=null,c=T}}}}function Oe(e,t){var a=t[Ur];a===void 0&&(a=t[Ur]=new Set);var n=e+"__bubble";a.has(n)||(Wh(t,e,2,!1),a.add(n))}function Tc(e,t,a){var n=0;t&&(n|=4),Wh(a,e,n,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Ec(e){if(!e[Ql]){e[Ql]=!0,Gu.forEach(function(a){a!=="selectionchange"&&(qy.has(a)||Tc(a,!1,e),Tc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,Tc("selectionchange",!1,t))}}function Wh(e,t,a,n){switch(Op(t)){case 2:var r=gv;break;case 8:r=yv;break;default:r=kc}a=r.bind(null,t,a,e),r=void 0,!qr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Ac(e,t,a,n,r){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var h=n.tag;if(h===3||h===4){var v=n.stateNode.containerInfo;if(v===r)break;if(h===4)for(h=n.return;h!==null;){var T=h.tag;if((T===3||T===4)&&h.stateNode.containerInfo===r)return;h=h.return}for(;v!==null;){if(h=Yn(v),h===null)return;if(T=h.tag,T===5||T===6||T===26||T===27){n=c=h;continue e}v=v.parentNode}}n=n.return}ad(function(){var R=c,k=Hr(a),G=[];e:{var j=Md.get(e);if(j!==void 0){var L=ll,te=e;switch(e){case"keypress":if(il(a)===0)break e;case"keydown":case"keyup":L=zg;break;case"focusin":te="focus",L=Jr;break;case"focusout":te="blur",L=Jr;break;case"beforeblur":case"afterblur":L=Jr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=kg;break;case Cd:case Od:case xd:L=Cg;break;case Dd:L=Hg;break;case"scroll":case"scrollend":L=_g;break;case"wheel":L=qg;break;case"copy":case"cut":case"paste":L=xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=rd;break;case"toggle":case"beforetoggle":L=Gg}var he=(t&4)!==0,qe=!he&&(e==="scroll"||e==="scrollend"),C=he?j!==null?j+"Capture":null:j;he=[];for(var A=R,M;A!==null;){var $=A;if(M=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||M===null||C===null||($=Gi(A,C),$!=null&&he.push(Es(A,$,M))),qe)break;A=A.return}0<he.length&&(j=new L(j,te,null,a,k),G.push({event:j,listeners:he}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",j&&a!==Br&&(te=a.relatedTarget||a.fromElement)&&(Yn(te)||te[Jn]))break e;if((L||j)&&(j=k.window===k?k:(j=k.ownerDocument)?j.defaultView||j.parentWindow:window,L?(te=a.relatedTarget||a.toElement,L=R,te=te?Yn(te):null,te!==null&&(qe=d(te),he=te.tag,te!==qe||he!==5&&he!==27&&he!==6)&&(te=null)):(L=null,te=R),L!==te)){if(he=sd,$="onMouseLeave",C="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(he=rd,$="onPointerLeave",C="onPointerEnter",A="pointer"),qe=L==null?j:Vi(L),M=te==null?j:Vi(te),j=new he($,A+"leave",L,a,k),j.target=qe,j.relatedTarget=M,$=null,Yn(k)===R&&(he=new he(C,A+"enter",te,a,k),he.target=M,he.relatedTarget=qe,$=he),qe=$,L&&te)t:{for(he=Vy,C=L,A=te,M=0,$=C;$;$=he($))M++;$=0;for(var ue=A;ue;ue=he(ue))$++;for(;0<M-$;)C=he(C),M--;for(;0<$-M;)A=he(A),$--;for(;M--;){if(C===A||A!==null&&C===A.alternate){he=C;break t}C=he(C),A=he(A)}he=null}else he=null;L!==null&&Ph(G,j,L,he,!1),te!==null&&qe!==null&&Ph(G,qe,te,he,!0)}}e:{if(j=R?Vi(R):window,L=j.nodeName&&j.nodeName.toLowerCase(),L==="select"||L==="input"&&j.type==="file")var je=md;else if(hd(j))if(gd)je=ey;else{je=Wg;var le=Kg}else L=j.nodeName,!L||L.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?R&&kr(R.elementType)&&(je=md):je=Pg;if(je&&(je=je(e,R))){pd(G,je,a,k);break e}le&&le(e,j,R),e==="focusout"&&R&&j.type==="number"&&R.memoizedProps.value!=null&&Ir(j,"number",j.value)}switch(le=R?Vi(R):window,e){case"focusin":(hd(le)||le.contentEditable==="true")&&(ai=le,Wr=R,Wi=null);break;case"focusout":Wi=Wr=ai=null;break;case"mousedown":Pr=!0;break;case"contextmenu":case"mouseup":case"dragend":Pr=!1,Ad(G,a,k);break;case"selectionchange":if(ay)break;case"keydown":case"keyup":Ad(G,a,k)}var Ee;if(Xr)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ti?dd(e,a)&&(Me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(od&&a.locale!=="ko"&&(ti||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ti&&(Ee=nd()):(Fa=k,Vr="value"in Fa?Fa.value:Fa.textContent,ti=!0)),le=Zl(R,Me),0<le.length&&(Me=new ld(Me,e,null,a,k),G.push({event:Me,listeners:le}),Ee?Me.data=Ee:(Ee=fd(a),Ee!==null&&(Me.data=Ee)))),(Ee=Jg?Yg(e,a):Xg(e,a))&&(Me=Zl(R,"onBeforeInput"),0<Me.length&&(le=new ld("onBeforeInput","beforeinput",null,a,k),G.push({event:le,listeners:Me}),le.data=Ee)),By(G,e,R,a,k)}Kh(G,t)})}function Es(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Zl(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=Gi(e,a),r!=null&&n.unshift(Es(e,r,c)),r=Gi(e,t),r!=null&&n.push(Es(e,r,c))),e.tag===3)return n;e=e.return}return[]}function Vy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ph(e,t,a,n,r){for(var c=t._reactName,h=[];a!==null&&a!==n;){var v=a,T=v.alternate,R=v.stateNode;if(v=v.tag,T!==null&&T===n)break;v!==5&&v!==26&&v!==27||R===null||(T=R,r?(R=Gi(a,c),R!=null&&h.unshift(Es(a,R,T))):r||(R=Gi(a,c),R!=null&&h.push(Es(a,R,T)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var Gy=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function ep(e){return(typeof e=="string"?e:""+e).replace(Gy,`
`).replace(Fy,"")}function tp(e,t){return t=ep(t),ep(e)===t}function $e(e,t,a,n,r,c){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Wn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Wn(e,""+n);break;case"className":el(e,"class",n);break;case"tabIndex":el(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":el(e,a,n);break;case"style":ed(e,n,c);break;case"data":if(t!=="object"){el(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=al(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&$e(e,t,"name",r.name,r,null),$e(e,t,"formEncType",r.formEncType,r,null),$e(e,t,"formMethod",r.formMethod,r,null),$e(e,t,"formTarget",r.formTarget,r,null)):($e(e,t,"encType",r.encType,r,null),$e(e,t,"method",r.method,r,null),$e(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=al(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ea);break;case"onScroll":n!=null&&Oe("scroll",e);break;case"onScrollEnd":n!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=al(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),Ps(e,"popover",n);break;case"xlinkActuate":Ta(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Ta(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Ta(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Ta(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Ta(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Ta(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Ta(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Ta(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Ta(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ps(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bg.get(a)||a,Ps(e,a,n))}}function wc(e,t,a,n,r,c){switch(a){case"style":ed(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Wn(e,n):(typeof n=="number"||typeof n=="bigint")&&Wn(e,""+n);break;case"onScroll":n!=null&&Oe("scroll",e);break;case"onScrollEnd":n!=null&&Oe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),c=e[Nt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,r),typeof n=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ps(e,a,n)}}}function Et(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var n=!1,r=!1,c;for(c in a)if(a.hasOwnProperty(c)){var h=a[c];if(h!=null)switch(c){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:$e(e,t,c,h,a,null)}}r&&$e(e,t,"srcSet",a.srcSet,a,null),n&&$e(e,t,"src",a.src,a,null);return;case"input":Oe("invalid",e);var v=c=h=r=null,T=null,R=null;for(n in a)if(a.hasOwnProperty(n)){var k=a[n];if(k!=null)switch(n){case"name":r=k;break;case"type":h=k;break;case"checked":T=k;break;case"defaultChecked":R=k;break;case"value":c=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:$e(e,t,n,k,a,null)}}Zu(e,c,v,T,R,h,r,!1);return;case"select":Oe("invalid",e),n=h=c=null;for(r in a)if(a.hasOwnProperty(r)&&(v=a[r],v!=null))switch(r){case"value":c=v;break;case"defaultValue":h=v;break;case"multiple":n=v;default:$e(e,t,r,v,a,null)}t=c,a=h,e.multiple=!!n,t!=null?Kn(e,!!n,t,!1):a!=null&&Kn(e,!!n,a,!0);return;case"textarea":Oe("invalid",e),c=r=n=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":n=v;break;case"defaultValue":r=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:$e(e,t,h,v,a,null)}Wu(e,n,r,c);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(n=a[T],n!=null))switch(T){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:$e(e,t,T,n,a,null)}return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(n=0;n<Ts.length;n++)Oe(Ts[n],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(n=a[R],n!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:$e(e,t,R,n,a,null)}return;default:if(kr(t)){for(k in a)a.hasOwnProperty(k)&&(n=a[k],n!==void 0&&wc(e,t,k,n,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(n=a[v],n!=null&&$e(e,t,v,n,a,null))}function Jy(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,h=null,v=null,T=null,R=null,k=null;for(L in a){var G=a[L];if(a.hasOwnProperty(L)&&G!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":T=G;default:n.hasOwnProperty(L)||$e(e,t,L,null,n,G)}}for(var j in n){var L=n[j];if(G=a[j],n.hasOwnProperty(j)&&(L!=null||G!=null))switch(j){case"type":c=L;break;case"name":r=L;break;case"checked":R=L;break;case"defaultChecked":k=L;break;case"value":h=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:L!==G&&$e(e,t,j,L,n,G)}}Lr(e,h,v,T,R,k,c,r);return;case"select":L=h=v=j=null;for(c in a)if(T=a[c],a.hasOwnProperty(c)&&T!=null)switch(c){case"value":break;case"multiple":L=T;default:n.hasOwnProperty(c)||$e(e,t,c,null,n,T)}for(r in n)if(c=n[r],T=a[r],n.hasOwnProperty(r)&&(c!=null||T!=null))switch(r){case"value":j=c;break;case"defaultValue":v=c;break;case"multiple":h=c;default:c!==T&&$e(e,t,r,c,n,T)}t=v,a=h,n=L,j!=null?Kn(e,!!a,j,!1):!!n!=!!a&&(t!=null?Kn(e,!!a,t,!0):Kn(e,!!a,a?[]:"",!1));return;case"textarea":L=j=null;for(v in a)if(r=a[v],a.hasOwnProperty(v)&&r!=null&&!n.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:$e(e,t,v,null,n,r)}for(h in n)if(r=n[h],c=a[h],n.hasOwnProperty(h)&&(r!=null||c!=null))switch(h){case"value":j=r;break;case"defaultValue":L=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(l(91));break;default:r!==c&&$e(e,t,h,r,n,c)}Ku(e,j,L);return;case"option":for(var te in a)if(j=a[te],a.hasOwnProperty(te)&&j!=null&&!n.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:$e(e,t,te,null,n,j)}for(T in n)if(j=n[T],L=a[T],n.hasOwnProperty(T)&&j!==L&&(j!=null||L!=null))switch(T){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:$e(e,t,T,j,n,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)j=a[he],a.hasOwnProperty(he)&&j!=null&&!n.hasOwnProperty(he)&&$e(e,t,he,null,n,j);for(R in n)if(j=n[R],L=a[R],n.hasOwnProperty(R)&&j!==L&&(j!=null||L!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,t));break;default:$e(e,t,R,j,n,L)}return;default:if(kr(t)){for(var qe in a)j=a[qe],a.hasOwnProperty(qe)&&j!==void 0&&!n.hasOwnProperty(qe)&&wc(e,t,qe,void 0,n,j);for(k in n)j=n[k],L=a[k],!n.hasOwnProperty(k)||j===L||j===void 0&&L===void 0||wc(e,t,k,j,n,L);return}}for(var C in a)j=a[C],a.hasOwnProperty(C)&&j!=null&&!n.hasOwnProperty(C)&&$e(e,t,C,null,n,j);for(G in n)j=n[G],L=a[G],!n.hasOwnProperty(G)||j===L||j==null&&L==null||$e(e,t,G,j,n,L)}function ap(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var r=a[n],c=r.transferSize,h=r.initiatorType,v=r.duration;if(c&&v&&ap(h)){for(h=0,v=r.responseEnd,n+=1;n<a.length;n++){var T=a[n],R=T.startTime;if(R>v)break;var k=T.transferSize,G=T.initiatorType;k&&ap(G)&&(T=T.responseEnd,h+=k*(T<v?1:(v-R)/(T-R)))}if(--n,t+=8*(c+h)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cc=null,Oc=null;function Kl(e){return e.nodeType===9?e:e.ownerDocument}function np(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ip(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dc=null;function Xy(){var e=window.event;return e&&e.type==="popstate"?e===Dc?!1:(Dc=e,!0):(Dc=null,!1)}var sp=typeof setTimeout=="function"?setTimeout:void 0,Qy=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,Zy=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(e){return lp.resolve(null).then(e).catch(Ky)}:sp;function Ky(e){setTimeout(function(){throw e})}function cn(e){return e==="head"}function rp(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(r),Di(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")As(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,As(a);for(var c=a.firstChild;c;){var h=c.nextSibling,v=c.nodeName;c[qi]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=h}}else a==="body"&&As(e.ownerDocument.body);a=r}while(a);Di(t)}function op(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Mc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mc(a),jr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Wy(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[qi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=sa(e.nextSibling),e===null)break}return null}function Py(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=sa(e.nextSibling),e===null))return null;return e}function cp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=sa(e.nextSibling),e===null))return null;return e}function Rc(e){return e.data==="$?"||e.data==="$~"}function Nc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ev(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Uc=null;function up(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return sa(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function dp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function fp(e,t,a){switch(t=Kl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function As(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jr(e)}var la=new Map,hp=new Set;function Wl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ba=H.d;H.d={f:tv,r:av,D:nv,C:iv,L:sv,m:lv,X:ov,S:rv,M:cv};function tv(){var e=Ba.f(),t=Vl();return e||t}function av(e){var t=Xn(e);t!==null&&t.tag===5&&t.type==="form"?Mf(t):Ba.r(e)}var Ci=typeof document>"u"?null:document;function pp(e,t,a){var n=Ci;if(n&&typeof t=="string"&&t){var r=Wt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),hp.has(r)||(hp.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),Et(t,"link",e),gt(t),n.head.appendChild(t)))}}function nv(e){Ba.D(e),pp("dns-prefetch",e,null)}function iv(e,t){Ba.C(e,t),pp("preconnect",e,t)}function sv(e,t,a){Ba.L(e,t,a);var n=Ci;if(n&&e&&t){var r='link[rel="preload"][as="'+Wt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+Wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+Wt(a.imageSizes)+'"]')):r+='[href="'+Wt(e)+'"]';var c=r;switch(t){case"style":c=Oi(e);break;case"script":c=xi(e)}la.has(c)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),la.set(c,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(ws(c))||t==="script"&&n.querySelector(Cs(c))||(t=n.createElement("link"),Et(t,"link",e),gt(t),n.head.appendChild(t)))}}function lv(e,t){Ba.m(e,t);var a=Ci;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Wt(n)+'"][href="'+Wt(e)+'"]',c=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=xi(e)}if(!la.has(c)&&(e=b({rel:"modulepreload",href:e},t),la.set(c,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cs(c)))return}n=a.createElement("link"),Et(n,"link",e),gt(n),a.head.appendChild(n)}}}function rv(e,t,a){Ba.S(e,t,a);var n=Ci;if(n&&e){var r=Qn(n).hoistableStyles,c=Oi(e);t=t||"default";var h=r.get(c);if(!h){var v={loading:0,preload:null};if(h=n.querySelector(ws(c)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=la.get(c))&&jc(e,a);var T=h=n.createElement("link");gt(T),Et(T,"link",e),T._p=new Promise(function(R,k){T.onload=R,T.onerror=k}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Pl(h,t,n)}h={type:"stylesheet",instance:h,count:1,state:v},r.set(c,h)}}}function ov(e,t){Ba.X(e,t);var a=Ci;if(a&&e){var n=Qn(a).hoistableScripts,r=xi(e),c=n.get(r);c||(c=a.querySelector(Cs(r)),c||(e=b({src:e,async:!0},t),(t=la.get(r))&&zc(e,t),c=a.createElement("script"),gt(c),Et(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function cv(e,t){Ba.M(e,t);var a=Ci;if(a&&e){var n=Qn(a).hoistableScripts,r=xi(e),c=n.get(r);c||(c=a.querySelector(Cs(r)),c||(e=b({src:e,async:!0,type:"module"},t),(t=la.get(r))&&zc(e,t),c=a.createElement("script"),gt(c),Et(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function mp(e,t,a,n){var r=(r=P.current)?Wl(r):null;if(!r)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Oi(a.href),a=Qn(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Oi(a.href);var c=Qn(r).hoistableStyles,h=c.get(e);if(h||(r=r.ownerDocument||r,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=r.querySelector(ws(e)))&&!c._p&&(h.instance=c,h.state.loading=5),la.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},la.set(e,a),c||uv(r,e,a,h.state))),t&&n===null)throw Error(l(528,""));return h}if(t&&n!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xi(a),a=Qn(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Oi(e){return'href="'+Wt(e)+'"'}function ws(e){return'link[rel="stylesheet"]['+e+"]"}function gp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function uv(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Et(t,"link",a),gt(t),e.head.appendChild(t))}function xi(e){return'[src="'+Wt(e)+'"]'}function Cs(e){return"script[async]"+e}function yp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Wt(a.href)+'"]');if(n)return t.instance=n,gt(n),n;var r=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),gt(n),Et(n,"style",r),Pl(n,a.precedence,e),t.instance=n;case"stylesheet":r=Oi(a.href);var c=e.querySelector(ws(r));if(c)return t.state.loading|=4,t.instance=c,gt(c),c;n=gp(a),(r=la.get(r))&&jc(n,r),c=(e.ownerDocument||e).createElement("link"),gt(c);var h=c;return h._p=new Promise(function(v,T){h.onload=v,h.onerror=T}),Et(c,"link",n),t.state.loading|=4,Pl(c,a.precedence,e),t.instance=c;case"script":return c=xi(a.src),(r=e.querySelector(Cs(c)))?(t.instance=r,gt(r),r):(n=a,(r=la.get(c))&&(n=b({},a),zc(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),gt(r),Et(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Pl(n,a.precedence,e));return t.instance}function Pl(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,c=r,h=0;h<n.length;h++){var v=n[h];if(v.dataset.precedence===t)c=v;else if(c!==r)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function jc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var er=null;function vp(e,t,a){if(er===null){var n=new Map,r=er=new Map;r.set(a,n)}else r=er,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var c=a[r];if(!(c[qi]||c[bt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var v=n.get(h);v?v.push(c):n.set(h,[c])}}return n}function bp(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function dv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Sp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fv(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var r=Oi(n.href),c=t.querySelector(ws(r));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=tr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,gt(c);return}c=t.ownerDocument||t,n=gp(n),(r=la.get(r))&&jc(n,r),c=c.createElement("link"),gt(c);var h=c;h._p=new Promise(function(v,T){h.onload=v,h.onerror=T}),Et(c,"link",n),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=tr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Lc=0;function hv(e,t){return e.stylesheets&&e.count===0&&nr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&nr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Lc===0&&(Lc=62500*Yy());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Lc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(r)}}:null}function tr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ar=null;function nr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ar=new Map,t.forEach(pv,e),ar=null,tr.call(e))}function pv(e,t){if(!(t.state.loading&4)){var a=ar.get(e);if(a)var n=a.get(null);else{a=new Map,ar.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var h=r[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),n=h)}n&&a.set(null,n)}r=t.instance,h=r.getAttribute("data-precedence"),c=a.get(h)||n,c===n&&a.set(null,r),a.set(h,r),this.count++,n=tr.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),c?c.parentNode.insertBefore(r,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Os={$$typeof:B,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function mv(e,t,a,n,r,c,h,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function _p(e,t,a,n,r,c,h,v,T,R,k,G){return e=new mv(e,t,a,h,T,R,k,G,v),t=1,c===!0&&(t|=24),c=qt(3,null,null,t),e.current=c,c.stateNode=e,t=mo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:t},bo(c),e}function Tp(e){return e?(e=si,e):si}function Ep(e,t,a,n,r,c){r=Tp(r),n.context===null?n.context=r:n.pendingContext=r,n=Ka(t),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=Wa(e,n,t),a!==null&&(kt(a,e,t),ss(a,e,t))}function Ap(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ic(e,t){Ap(e,t),(e=e.alternate)&&Ap(e,t)}function wp(e){if(e.tag===13||e.tag===31){var t=Cn(e,67108864);t!==null&&kt(t,e,67108864),Ic(e,67108864)}}function Cp(e){if(e.tag===13||e.tag===31){var t=Yt();t=Rr(t);var a=Cn(e,t);a!==null&&kt(a,e,t),Ic(e,t)}}var ir=!0;function gv(e,t,a,n){var r=x.T;x.T=null;var c=H.p;try{H.p=2,kc(e,t,a,n)}finally{H.p=c,x.T=r}}function yv(e,t,a,n){var r=x.T;x.T=null;var c=H.p;try{H.p=8,kc(e,t,a,n)}finally{H.p=c,x.T=r}}function kc(e,t,a,n){if(ir){var r=Bc(n);if(r===null)Ac(e,t,n,sr,a),xp(e,n);else if(bv(r,e,t,a,n))n.stopPropagation();else if(xp(e,n),t&4&&-1<vv.indexOf(e)){for(;r!==null;){var c=Xn(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=Ye(c.pendingLanes);if(h!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var T=1<<31-we(h);v.entanglements[1]|=T,h&=~T}va(c),(Le&6)===0&&($l=Se()+500,_s(0))}}break;case 31:case 13:v=Cn(c,2),v!==null&&kt(v,c,2),Vl(),Ic(c,2)}if(c=Bc(n),c===null&&Ac(e,t,n,sr,a),c===r)break;r=c}r!==null&&n.stopPropagation()}else Ac(e,t,n,null,a)}}function Bc(e){return e=Hr(e),Hc(e)}var sr=null;function Hc(e){if(sr=null,e=Yn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sr=e,null}function Op(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Ae:return 2;case me:return 8;case Ue:case Ge:return 32;case tt:return 268435456;default:return 32}default:return 32}}var $c=!1,un=null,dn=null,fn=null,xs=new Map,Ds=new Map,hn=[],vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xp(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(t.pointerId)}}function Ms(e,t,a,n,r,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[r]},t!==null&&(t=Xn(t),t!==null&&wp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function bv(e,t,a,n,r){switch(t){case"focusin":return un=Ms(un,e,t,a,n,r),!0;case"dragenter":return dn=Ms(dn,e,t,a,n,r),!0;case"mouseover":return fn=Ms(fn,e,t,a,n,r),!0;case"pointerover":var c=r.pointerId;return xs.set(c,Ms(xs.get(c)||null,e,t,a,n,r)),!0;case"gotpointercapture":return c=r.pointerId,Ds.set(c,Ms(Ds.get(c)||null,e,t,a,n,r)),!0}return!1}function Dp(e){var t=Yn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,qu(e.priority,function(){Cp(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,qu(e.priority,function(){Cp(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Bc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Br=n,a.target.dispatchEvent(n),Br=null}else return t=Xn(a),t!==null&&wp(t),e.blockedOn=a,!1;t.shift()}return!0}function Mp(e,t,a){lr(e)&&a.delete(t)}function Sv(){$c=!1,un!==null&&lr(un)&&(un=null),dn!==null&&lr(dn)&&(dn=null),fn!==null&&lr(fn)&&(fn=null),xs.forEach(Mp),Ds.forEach(Mp)}function rr(e,t){e.blockedOn===t&&(e.blockedOn=null,$c||($c=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Sv)))}var or=null;function Rp(e){or!==e&&(or=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){or===e&&(or=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(Hc(n||a)===null)continue;break}var c=Xn(a);c!==null&&(e.splice(t,3),t-=3,Bo(c,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function Di(e){function t(T){return rr(T,e)}un!==null&&rr(un,e),dn!==null&&rr(dn,e),fn!==null&&rr(fn,e),xs.forEach(t),Ds.forEach(t);for(var a=0;a<hn.length;a++){var n=hn[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<hn.length&&(a=hn[0],a.blockedOn===null);)Dp(a),a.blockedOn===null&&hn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],c=a[n+1],h=r[Nt]||null;if(typeof c=="function")h||Rp(a);else if(h){var v=null;if(c&&c.hasAttribute("formAction")){if(r=c,h=c[Nt]||null)v=h.formAction;else if(Hc(r)!==null)continue}else v=h.action;typeof v=="function"?a[n+1]=v:(a.splice(n,3),n-=3),Rp(a)}}}function Np(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(h){return r=h})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function qc(e){this._internalRoot=e}cr.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,n=Yt();Ep(a,n,e,t,null,null)},cr.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ep(e.current,2,null,e,null,null),Vl(),t[Jn]=null}};function cr(e){this._internalRoot=e}cr.prototype.unstable_scheduleHydration=function(e){if(e){var t=$u();e={blockedOn:null,target:e,priority:t};for(var a=0;a<hn.length&&t!==0&&t<hn[a].priority;a++);hn.splice(a,0,e),a===0&&Dp(e)}};var Up=i.version;if(Up!=="19.2.0")throw Error(l(527,Up,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var _v={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ur.isDisabled&&ur.supportsFiber)try{Qt=ur.inject(_v),vt=ur}catch{}}return js.createRoot=function(e,t){if(!o(e))throw Error(l(299));var a=!1,n="",r=Hf,c=$f,h=qf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=_p(e,1,!1,null,null,a,n,null,r,c,h,Np),e[Jn]=t.current,Ec(e),new qc(t)},js.hydrateRoot=function(e,t,a){if(!o(e))throw Error(l(299));var n=!1,r="",c=Hf,h=$f,v=qf,T=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(T=a.formState)),t=_p(e,1,!0,t,a??null,n,r,T,c,h,v,Np),t.context=Tp(null),a=t.current,n=Yt(),n=Rr(n),r=Ka(n),r.callback=null,Wa(a,r,n),a=n,t.current.lanes=a,$i(t,a),va(t),e[Jn]=t.current,Ec(e),new cr(t)},js.version="19.2.0",js}var om;function Jb(){if(om)return Xc.exports;om=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),Xc.exports=Fb(),Xc.exports}var Yb=Jb();var Xt=function(){return Xt=Object.assign||function(i){for(var s,l=1,o=arguments.length;l<o;l++){s=arguments[l];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(i[d]=s[d])}return i},Xt.apply(this,arguments)};var du=function(u,i){return du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var o in l)l.hasOwnProperty(o)&&(s[o]=l[o])},du(u,i)};function Xb(u,i){du(u,i);function s(){this.constructor=u}u.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}var xt=function(){return xt=Object.assign||function(i){for(var s,l=1,o=arguments.length;l<o;l++){s=arguments[l];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(i[d]=s[d])}return i},xt.apply(this,arguments)};function Xm(u){return Object.keys(u).some(function(i){var s=u[i];if(!s)return!1;s&&s.toParam&&(s=s.toParam());var l=s.constructor.name;switch(l){case"Array":return!1;case"Object":return!1;case"Date":return!1;case"Function":return!1;case"Boolean":return!1;case"String":return!1;case"Number":return!1;default:return!0}})}function Qm(u){var i={};return Object.keys(u).forEach(function(s){var l,o,d=u[s];if(d&&d.toParam&&(d=d.toParam()),!(!d&&d!==0&&typeof d!="boolean"&&typeof d!="string")){var f=d.constructor.name,p;switch(f){case"Array":var m=(o=(l=d[0])===null||l===void 0?void 0:l.constructor)===null||o===void 0?void 0:o.name;p=m==="Array"?d:m==="Object"?JSON.stringify(d):d.join(",");break;case"Object":p=JSON.stringify(d);break;case"Date":p=d.valueOf();break;case"Function":p=null;break;case"Boolean":p=d+"";break;default:p=d;break}(p||p===0||typeof p=="string"||Array.isArray(p))&&(i[s]=p)}}),i}function Zm(u,i){return Array.isArray(i)&&i[0]&&Array.isArray(i[0])?i.map(function(s){return Zm(u,s)}).join("&"):encodeURIComponent(u)+"="+encodeURIComponent(i)}function yr(u){var i=Qm(u);return Object.keys(i).map(function(s){return Zm(s,i[s])}).join("&")}function Qb(u,i){var s=Xm(u)||i,l=Qm(u);if(s){var o=new FormData;return Object.keys(l).forEach(function(d){if(typeof Blob<"u"&&l[d]instanceof Blob){var f=l.fileName||l[d].name||d;o.append(d,l[d],f)}else l[d].constructor&&l[d].constructor.name==="ReadStream"&&Number.isInteger(l.dataSize)?o.append(d,l[d],{knownLength:l.dataSize}):o.append(d,l[d])}),o}else return yr(u)}var yn=(function(){function u(i,s,l,o,d){i=i||"UNKNOWN_ERROR",s=s||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message=s==="UNKNOWN_ERROR_CODE"?i:s+": "+i,this.originalMessage=i,this.code=s,this.response=l,this.url=o,this.options=d}return u})();yn.prototype=Object.create(Error.prototype);yn.prototype.constructor=yn;var Zb={noCorsDomains:[],crossOriginNoCorsDomains:{},pendingNoCorsRequests:{}},fu="ARCGIS_REST_JS_NO_CORS";globalThis[fu]||(globalThis[fu]=xt({},Zb));var Ht=globalThis[fu];function Kb(u){var i=new URL(u);u=i.origin+i.pathname,i.search.includes("f=json")&&(u+="?f=json");var s=i.origin;return Ht.pendingNoCorsRequests[s]||(Ht.pendingNoCorsRequests[s]=fetch(u,{mode:"no-cors",credentials:"include"}).then(function(l){Ht.noCorsDomains.indexOf(s)===-1&&Ht.noCorsDomains.push(s),Ht.crossOriginNoCorsDomains[s.toLowerCase()]=Date.now(),delete Ht.pendingNoCorsRequests[s]}).catch(function(l){return delete Ht.pendingNoCorsRequests[s],Promise.reject(new Error("no-cors request to "+s+" failed"))})),Ht.pendingNoCorsRequests[s]}function Wb(u){u.forEach(function(i){i=i.toLowerCase(),/^https?:\/\//.test(i)?Wc(i):(Wc("http://"+i),Wc("https://"+i))})}function Wc(u){var i=new URL(u),s=i.origin;Ht.noCorsDomains.indexOf(s)===-1&&Ht.noCorsDomains.push(s)}function Nu(u){var i=!1;if(Ht.noCorsDomains.length){var s=new URL(u).origin.toLowerCase();i=Ht.noCorsDomains.some(function(l){return s.includes(l)})}return i}function Pb(u){var i=!1;if(Nu(u)){var s=new URL(u).origin.toLowerCase(),l=Ht.crossOriginNoCorsDomains[s]||0;Date.now()-60*6e4>l&&(i=!0)}return i}function e0(u,i){var s;if(!i&&!window)return!1;i=i||window;var l=(s=i.location)===null||s===void 0?void 0:s.origin;return u.startsWith(l)}var Km="@esri/arcgis-rest-js",Pc={httpMethod:"POST",params:{f:"json"}},$n=(function(u){Xb(i,u);function i(s,l,o,d,f){s===void 0&&(s="AUTHENTICATION_ERROR"),l===void 0&&(l="AUTHENTICATION_ERROR_CODE");var p=u.call(this,s,l,o,d,f)||this;return p.name="ArcGISAuthError",p.message=l==="AUTHENTICATION_ERROR_CODE"?s:l+": "+s,p}return i.prototype.retry=function(s,l){var o=this;l===void 0&&(l=3);var d=0,f=function(p,m){s(o.url,o.options).then(function(y){var g=xt(xt({},o.options),{authentication:y});return d=d+1,gn(o.url,g)}).then(function(y){p(y)}).catch(function(y){y.name==="ArcGISAuthError"&&d<l?f(p,m):y.name==="ArcGISAuthError"&&d>=l?m(o):m(y)})};return new Promise(function(p,m){f(p,m)})},i})(yn);function t0(u,i,s,l,o){if(u.code>=400){var d=u.message,f=u.code;throw new yn(d,f,u,i,l)}if(u.error){var p=u.error,d=p.message,f=p.code,m=p.messageCode,y=m||f||"UNKNOWN_ERROR_CODE";throw f===498||f===499||m==="GWM_0003"||f===400&&d==="Unable to generate token."?o||new $n(d,y,u,i,l):new yn(d,y,u,i,l)}if(u.status==="failed"||u.status==="failure"){var d=void 0,f="UNKNOWN_ERROR_CODE";try{d=JSON.parse(u.statusMessage).message,f=JSON.parse(u.statusMessage).code}catch{d=u.statusMessage||u.message}throw new yn(d,f,u,i,l)}return u}function gn(u,i){i===void 0&&(i={params:{f:"json"}});var s=xt(xt(xt({httpMethod:"POST"},Pc),i),{params:xt(xt({},Pc.params),i.params),headers:xt(xt({},Pc.headers),i.headers)}),l=[],o=[];if(!s.fetch&&typeof fetch<"u"?s.fetch=fetch.bind(Function("return this")()):(l.push("`fetch`"),o.push("`node-fetch`")),typeof Promise>"u"&&(l.push("`Promise`"),o.push("`es6-promise`")),typeof FormData>"u"&&(l.push("`FormData`"),o.push("`isomorphic-form-data`")),!s.fetch||typeof Promise>"u"||typeof FormData>"u")throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+l.join(", ")+". We recommend installing the "+o.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var d=s.httpMethod,f=s.authentication,p=s.rawResponse,m=xt({f:"json"},s.params),y=null,g={method:d,credentials:s.credentials||"same-origin"};Nu(u)&&(g.credentials="include");var b=!1;typeof window<"u"&&(b=e0(u));var S=!b&&Pb(u);s.headers&&s.headers["X-Esri-Auth-Client-Id"]&&u.indexOf("/oauth2/platformSelf")>-1&&(g.credentials="include");var w=Promise.resolve();return S&&(g.credentials="include",w=Kb(u)),w.then(function(){return f?f.getToken(u,{fetch:s.fetch}).catch(function(E){return E.url=u,E.options=s,y=E,Promise.resolve("")}):Promise.resolve("")}).then(function(E){E.length&&(m.token=E),f&&f.getDomainCredentials&&(g.credentials=f.getDomainCredentials(u));var N={};if(g.method==="GET"){m.token&&s.hideToken&&typeof window>"u"&&(N["X-Esri-Authorization"]="Bearer "+m.token,delete m.token);var q=yr(m),O=q===""?u:u+"?"+yr(m);s.maxUrlLength&&O.length>s.maxUrlLength||m.token&&s.hideToken?(g.method="POST",E.length&&s.hideToken&&(m.token=E,delete N["X-Esri-Authorization"])):u=O}var D=new RegExp("/items/.+/updateResources").test(u);return g.method==="POST"&&(g.body=Qb(m,D)),g.headers=xt(xt({},N),s.headers),typeof window>"u"&&!g.headers.referer&&(g.headers.referer=Km),!Xm(m)&&!D&&(g.headers["Content-Type"]="application/x-www-form-urlencoded"),s.fetch(u,g)}).then(function(E){if(!E.ok){var N=E.status,q=E.statusText;throw new yn(q,"HTTP "+N,E,u,s)}if(p)return E;switch(m.f){case"json":return E.json();case"geojson":return E.json();case"html":return E.text();case"text":return E.text();default:return E.blob()}}).then(function(E){if((m.f==="json"||m.f==="geojson")&&!p){var N=t0(E,u,m,s,y);if(E&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(u)&&Array.isArray(E.authorizedCrossOriginNoCorsDomains)&&Wb(E.authorizedCrossOriginNoCorsDomains),y){var q=u.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];s.authentication.federatedServers[q]={token:[],expires:new Date(Date.now()+86400*1e3)},y=null}return N}else return E})}function vr(u){return typeof u!="string"||(u=u.trim(),u[u.length-1]==="/"&&(u=u.slice(0,-1))),u}function a0(u){var i=u.split("="),s=i[0],l=i[1];return{key:decodeURIComponent(s),value:decodeURIComponent(l)}}function n0(u){return u.replace(/^#/,"").split("&").reduce(function(i,s){var l=a0(s),o=l.key,d=l.value;return i[o]=d,i},{})}function eu(u,i){var s=i;return s.rawResponse=!1,gn(u,s).then(function(l){var o={token:l.access_token,username:l.username,expires:new Date(Date.now()+(l.expires_in*1e3-1e3)),ssl:l.ssl===!0};return l.refresh_token&&(o.refreshToken=l.refresh_token),o})}function tu(u,i){var s=i;return typeof window<"u"&&window.location&&window.location.host?s.params.referer=window.location.host:s.params.referer=Km,gn(u,s)}var br=/^https?:\/\/(\S+)\.arcgis\.com.+/;function cm(u){return br.test(u)}function i0(u){if(!br.test(u))return u;switch(hu(u)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}function hu(u){if(!br.test(u))return null;var i=u.match(br),s=i[1].split(".").pop();return s.includes("dev")?"dev":s.includes("qa")?"qa":"production"}function s0(u,i){var s=vr(i0(i)).replace(/https?:\/\//,""),l=vr(u).replace(/https?:\/\//,"");return new RegExp(l,"i").test(s)}function l0(u,i){var s=cm(u),l=cm(i),o=hu(u),d=hu(i);return!!(s&&l&&o===d)}function r0(u,i,s){s===void 0&&(s="https://www.arcgis.com/sharing/rest");var l=s+"/oauth2/validateAppAccess",o={method:"POST",params:{f:"json",client_id:i,token:u}};return gn(l,o)}function o0(){var u={promise:null,resolve:null,reject:null};return u.promise=new Promise(function(i,s){u.resolve=i,u.reject=s}),u}var pu=(function(){function u(i){if(this.clientId=i.clientId,this._refreshToken=i.refreshToken,this._refreshTokenExpires=i.refreshTokenExpires,this.username=i.username,this.password=i.password,this._token=i.token,this._tokenExpires=i.tokenExpires,this.portal=i.portal?vr(i.portal):"https://www.arcgis.com/sharing/rest",this.ssl=i.ssl,this.provider=i.provider||"arcgis",this.tokenDuration=i.tokenDuration||20160,this.redirectUri=i.redirectUri,this.refreshTokenTTL=i.refreshTokenTTL||20160,this.server=i.server,this.federatedServers={},this.trustedDomains=[],i.server){var s=this.getServerRootUrl(i.server);this.federatedServers[s]={token:i.token,expires:i.tokenExpires}}this._pendingTokenRequests={}}return Object.defineProperty(u.prototype,"token",{get:function(){return this._token},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tokenExpires",{get:function(){return this._tokenExpires},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"refreshToken",{get:function(){return this._refreshToken},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"refreshTokenExpires",{get:function(){return this._refreshTokenExpires},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"trustedServers",{get:function(){return console.log("DEPRECATED: use federatedServers instead"),this.federatedServers},enumerable:!1,configurable:!0}),u.beginOAuth2=function(i,s){s===void 0&&(s=window),i.duration&&console.log("DEPRECATED: 'duration' is deprecated - use 'expiration' instead");var l=Xt({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",expiration:20160,popup:!0,popupWindowFeatures:"height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes",state:i.clientId,locale:""},i),o=l.portal,d=l.provider,f=l.clientId,p=l.expiration,m=l.redirectUri,y=l.popup,g=l.popupWindowFeatures,b=l.state,S=l.locale,w=l.params,E;if(d==="arcgis"?E=o+"/oauth2/authorize?client_id="+f+"&response_type=token&expiration="+(i.duration||p)+"&redirect_uri="+encodeURIComponent(m)+"&state="+b+"&locale="+S:E=o+"/oauth2/social/authorize?client_id="+f+"&socialLoginProviderName="+d+"&autoAccountCreateForSocial=true&response_type=token&expiration="+(i.duration||p)+"&redirect_uri="+encodeURIComponent(m)+"&state="+b+"&locale="+S,w&&(E=E+"&"+yr(w)),!y){s.location.href=E;return}var N=o0();return s["__ESRI_REST_AUTH_HANDLER_"+f]=function(q,O){if(q){var D=JSON.parse(q);N.reject(new $n(D.errorMessage,D.error));return}if(O){var B=JSON.parse(O);N.resolve(new u({clientId:f,portal:o,ssl:B.ssl,token:B.token,tokenExpires:new Date(B.expires),username:B.username}))}},s.open(E,"oauth-window",g),N.promise},u.completeOAuth2=function(i,s){s===void 0&&(s=window);var l=Xt({portal:"https://www.arcgis.com/sharing/rest",popup:!0},i),o=l.portal,d=l.clientId,f=l.popup;function p(N,q){try{var O=void 0,D="__ESRI_REST_AUTH_HANDLER_"+d;if(f&&(s.opener?s.opener.parent&&s.opener.parent[D]?O=s.opener.parent[D]:s.opener&&s.opener[D]&&(O=s.opener[D]):s!==s.parent&&s.parent&&s.parent[D]&&(O=s.parent[D]),O)){O(N?JSON.stringify(N):void 0,JSON.stringify(q)),s.close();return}}catch{throw new $n(`Unable to complete authentication. It's possible you specified popup based oAuth2 but no handler from "beginOAuth2()" present. This generally happens because the "popup" option differs between "beginOAuth2()" and "completeOAuth2()".`)}if(N)throw new $n(N.errorMessage,N.error);return new u({clientId:d,portal:o,ssl:q.ssl,token:q.token,tokenExpires:q.expires,username:q.username})}var m=n0(s.location.hash);if(!m.access_token){var y=void 0,g="Unknown error";return m.error&&(y=m.error,g=m.error_description),p({error:y,errorMessage:g})}var b=m.access_token,S=new Date(Date.now()+parseInt(m.expires_in,10)*1e3-60*1e3),w=m.username,E=m.ssl==="true";return p(void 0,{token:b,expires:S,ssl:E,username:w})},u.fromParent=function(i,s){!s&&window&&(s=window);var l;return new Promise(function(o,d){l=function(f){if(f.source===s.parent&&f.data)try{return o(u.parentMessageHandler(f))}catch(p){return d(p)}},s.addEventListener("message",l,!1),s.parent.postMessage({type:"arcgis:auth:requestCredential"},i)}).then(function(o){return s.removeEventListener("message",l,!1),o})},u.authorize=function(i,s){i.duration&&console.log("DEPRECATED: 'duration' is deprecated - use 'expiration' instead");var l=Xt({portal:"https://arcgis.com/sharing/rest",expiration:20160},i),o=l.portal,d=l.clientId,f=l.expiration,p=l.redirectUri;s.writeHead(301,{Location:o+"/oauth2/authorize?client_id="+d+"&expiration="+(i.duration||f)+"&response_type=code&redirect_uri="+encodeURIComponent(p)}),s.end()},u.exchangeAuthorizationCode=function(i,s){var l=Xt({portal:"https://www.arcgis.com/sharing/rest",refreshTokenTTL:20160},i),o=l.portal,d=l.clientId,f=l.redirectUri,p=l.refreshTokenTTL;return eu(o+"/oauth2/token",{params:{grant_type:"authorization_code",client_id:d,redirect_uri:f,code:s}}).then(function(m){return new u({clientId:d,portal:o,ssl:m.ssl,redirectUri:f,refreshToken:m.refreshToken,refreshTokenTTL:p,refreshTokenExpires:new Date(Date.now()+(p-1)*60*1e3),token:m.token,tokenExpires:m.expires,username:m.username})})},u.deserialize=function(i){var s=JSON.parse(i);return new u({clientId:s.clientId,refreshToken:s.refreshToken,refreshTokenExpires:new Date(s.refreshTokenExpires),username:s.username,password:s.password,token:s.token,tokenExpires:new Date(s.tokenExpires),portal:s.portal,ssl:s.ssl,tokenDuration:s.tokenDuration,redirectUri:s.redirectUri,refreshTokenTTL:s.refreshTokenTTL})},u.fromCredential=function(i){var s=typeof i.ssl<"u"?i.ssl:!0,l=i.expires||Date.now()+72e5;return new u({portal:i.server.includes("sharing/rest")?i.server:i.server+"/sharing/rest",ssl:s,token:i.token,username:i.userId,tokenExpires:new Date(l)})},u.parentMessageHandler=function(i){if(i.data.type==="arcgis:auth:credential")return u.fromCredential(i.data.credential);if(i.data.type==="arcgis:auth:error"){var s=new Error(i.data.error.message);throw s.name=i.data.error.name,s}else throw new Error("Unknown message type.")},u.prototype.toCredential=function(){return{expires:this.tokenExpires.getTime(),server:this.portal,ssl:this.ssl,token:this.token,userId:this.username}},u.prototype.getUser=function(i){var s=this;if(this._pendingUserRequest)return this._pendingUserRequest;if(this._user)return Promise.resolve(this._user);var l=this.portal+"/community/self",o=Xt(Xt({httpMethod:"GET",authentication:this},i),{rawResponse:!1});return this._pendingUserRequest=gn(l,o).then(function(d){return s._user=d,s._pendingUserRequest=null,d}),this._pendingUserRequest},u.prototype.getPortal=function(i){var s=this;if(this._pendingPortalRequest)return this._pendingPortalRequest;if(this._portalInfo)return Promise.resolve(this._portalInfo);var l=this.portal+"/portals/self",o=Xt(Xt({httpMethod:"GET",authentication:this},i),{rawResponse:!1});return this._pendingPortalRequest=gn(l,o).then(function(d){return s._portalInfo=d,s._pendingPortalRequest=null,d}),this._pendingPortalRequest},u.prototype.getUsername=function(){return this.username?Promise.resolve(this.username):this._user?Promise.resolve(this._user.username):this.getUser().then(function(i){return i.username})},u.prototype.getToken=function(i,s){return l0(this.portal,i)?this.getFreshToken(s):new RegExp(this.portal,"i").test(i)?this.getFreshToken(s):this.getTokenForServer(i,s)},u.prototype.validateAppAccess=function(i){return this.getToken(this.portal).then(function(s){return r0(s,i)})},u.prototype.toJSON=function(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,refreshTokenTTL:this.refreshTokenTTL}},u.prototype.serialize=function(){return JSON.stringify(this)},u.prototype.enablePostMessageAuth=function(i,s){!s&&window&&(s=window),this._hostHandler=this.createPostMessageHandler(i),s.addEventListener("message",this._hostHandler,!1)},u.prototype.disablePostMessageAuth=function(i){!i&&window&&(i=window),i.removeEventListener("message",this._hostHandler,!1)},u.prototype.refreshSession=function(i){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(i):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new $n("Unable to refresh token."))},u.prototype.getServerRootUrl=function(i){var s=vr(i).split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/)[0],l=s.match(/(https?:\/\/)(.+)/);l[0];var o=l[1],d=l[2],f=d.split("/"),p=f[0],m=f.slice(1);return""+o+p.toLowerCase()+"/"+m.join("/")},u.prototype.getDomainCredentials=function(i){var s=Nu(i);return s?"include":!this.trustedDomains||!this.trustedDomains.length?"same-origin":this.trustedDomains.some(function(l){return i.startsWith(l)})?"include":"same-origin"},u.prototype.createPostMessageHandler=function(i){var s=this;return function(l){var o=i.indexOf(l.origin)>-1,d=l.data.type==="arcgis:auth:requestCredential",f=s.tokenExpires.getTime()>Date.now();if(o&&d){var p={};if(f){var m=s.toCredential();m.server=m.server.replace("/sharing/rest",""),p={type:"arcgis:auth:credential",credential:m}}else p={type:"arcgis:auth:error",error:{name:"tokenExpiredError",message:"Session token was expired, and not returned to the child application"}};l.source.postMessage(p,l.origin)}}},u.prototype.getTokenForServer=function(i,s){var l=this,o=this.getServerRootUrl(i),d=this.federatedServers[o];return d&&d.expires&&d.expires.getTime()>Date.now()?Promise.resolve(d.token):this._pendingTokenRequests[o]?this._pendingTokenRequests[o]:(this._pendingTokenRequests[o]=this.fetchAuthorizedDomains().then(function(){return gn(o+"/rest/info",{credentials:l.getDomainCredentials(i)}).then(function(f){if(f.owningSystemUrl){if(s0(f.owningSystemUrl,l.portal))return gn(f.owningSystemUrl+"/sharing/rest/info",s);throw new $n(i+" is not federated with "+l.portal+".","NOT_FEDERATED")}else{if(f.authInfo&&l.federatedServers[o]!==void 0)return Promise.resolve({authInfo:f.authInfo});throw new $n(i+" is not federated with any portal and is not explicitly trusted.","NOT_FEDERATED")}}).then(function(f){return f.authInfo.tokenServicesUrl}).then(function(f){return l.token&&l.tokenExpires.getTime()>Date.now()?tu(f,{params:{token:l.token,serverUrl:i,expiration:l.tokenDuration,client:"referer"}}):tu(f,{params:{username:l.username,password:l.password,expiration:l.tokenDuration,client:"referer"}}).then(function(p){return l._token=p.token,l._tokenExpires=new Date(p.expires),p})}).then(function(f){return l.federatedServers[o]={expires:new Date(f.expires),token:f.token},delete l._pendingTokenRequests[o],f.token})}),this._pendingTokenRequests[o])},u.prototype.getFreshToken=function(i){var s=this;return this.token&&!this.tokenExpires?Promise.resolve(this.token):this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshSession(i).then(function(l){return s._pendingTokenRequests[s.portal]=null,l.token})),this._pendingTokenRequests[this.portal])},u.prototype.refreshWithUsernameAndPassword=function(i){var s=this,l=Xt({params:{username:this.username,password:this.password,expiration:this.tokenDuration}},i);return tu(this.portal+"/generateToken",l).then(function(o){return s._token=o.token,s._tokenExpires=new Date(o.expires),s})},u.prototype.refreshWithRefreshToken=function(i){var s=this;if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()<Date.now())return this.refreshRefreshToken(i);var l=Xt({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},i);return eu(this.portal+"/oauth2/token",l).then(function(o){return s._token=o.token,s._tokenExpires=o.expires,s})},u.prototype.refreshRefreshToken=function(i){var s=this,l=Xt({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},i);return eu(this.portal+"/oauth2/token",l).then(function(o){return s._token=o.token,s._tokenExpires=o.expires,s._refreshToken=o.refreshToken,s._refreshTokenExpires=new Date(Date.now()+(s.refreshTokenTTL-1)*60*1e3),s})},u.prototype.fetchAuthorizedDomains=function(){var i=this;return this.server||!this.portal?Promise.resolve(this):this.getPortal().then(function(s){return s.authorizedCrossOriginDomains&&s.authorizedCrossOriginDomains.length&&(i.trustedDomains=s.authorizedCrossOriginDomains.filter(function(l){return!l.startsWith("http://")}).map(function(l){return l.startsWith("https://")?l:"https://"+l})),i})},u})();const um="wJK4zhJHaHyFzyQ2",dm="https://regal-sable-0a6dde.netlify.app/",Sr="arcgis_session",mu="arcgis_user_info";function c0(u){try{const i=u.serialize();sessionStorage.setItem(Sr,i)}catch(i){console.warn("Could not serialize session:",i)}}function u0(){const u=sessionStorage.getItem(Sr);if(u)try{return pu.deserialize(u)}catch{sessionStorage.removeItem(Sr)}return null}function au(u){try{sessionStorage.setItem(mu,JSON.stringify(u))}catch(i){console.warn("Could not persist userInfo",i)}}function d0(){const u=sessionStorage.getItem(mu);if(!u)return null;try{return JSON.parse(u)}catch{return sessionStorage.removeItem(mu),null}}function f0(){const u=window.location.hash.substring(1),i=new URLSearchParams(u),s=i.get("access_token")||i.get("token"),l=i.get("expires_in");return{token:s,expires:l?Date.now()+parseInt(l,10)*1e3:null}}async function fm(u){const s=await(await fetch(`https://www.arcgis.com/sharing/rest/community/self?f=json&token=${u}`)).json();return{username:s.username,role:s.role,userLicenseTypeId:s.userLicenseTypeId}}const gu="refactor-flag-updated";function hm(){return new URLSearchParams(window.location.search).get("refactor")==="1"}function Wm(){const[u,i]=ge.useState(()=>hm());return ge.useEffect(()=>{const s=()=>i(hm());return window.addEventListener("popstate",s),window.addEventListener(gu,s),()=>{window.removeEventListener("popstate",s),window.removeEventListener(gu,s)}},[]),u}function h0(){new URLSearchParams(window.location.search).get("refactor")==="1"&&sessionStorage.setItem("refactorFlag","1")}function p0(){const u=sessionStorage.getItem("refactorFlag")==="1",i=new URLSearchParams(window.location.search);if(u&&i.get("refactor")!=="1"){i.set("refactor","1");const s=`${window.location.pathname}?${i.toString()}`;window.history.replaceState({},"",s)}u&&sessionStorage.removeItem("refactorFlag"),window.dispatchEvent(new Event(gu))}const Pm=ge.createContext({session:null,token:null,signIn:()=>{},signOut:()=>{},loading:!1,userInfo:null,setUserInfo:()=>{}}),m0=({children:u})=>{const[i,s]=ge.useState(u0()),[l,o]=ge.useState(!0),[d,f]=ge.useState(d0()),[p]=ge.useState(()=>new URLSearchParams(window.location.search).get("refactor")==="1");ge.useEffect(()=>{const{token:g,expires:b}=f0();if(!g){setTimeout(()=>o(!1),0);return}const S=sessionStorage.getItem("refactorFlag")==="1"||p,w=new pu({clientId:um,redirectUri:dm,token:g,tokenExpires:b?new Date(b):new Date(Date.now()+1e3*60*60*24*14),portal:"https://www.arcgis.com/sharing/rest"});s(w),c0(w);try{if(window.location.hash&&/access_token=/.test(window.location.hash)){const E=window.location.pathname+window.location.search;window.history.replaceState({},"",E)}}catch{}fm(g).then(E=>{const N=w.portal.replace(/\/$/,""),q=`${N}/community/users/${E.username}?f=json&token=${g}`;return fetch(q).then(O=>O.ok?O.json():Promise.reject(O.status)).then(O=>{const D=O?.thumbnail?`${N}/community/users/${E.username}/info/${O.thumbnail}?token=${g}`:void 0,B={username:E.username,role:E.role,userType:E.userLicenseTypeId,fullName:O?.fullName||E.username,thumbnailUrl:D};f(B),au(B)}).catch(()=>{const O={username:E.username,role:E.role,userType:E.userLicenseTypeId};f(O),au(O)})}).catch(()=>f(null)).finally(()=>{S?p0():sessionStorage.removeItem("refactorFlag"),o(!1)})},[p]),ge.useEffect(()=>{if(i&&!d&&!l){const g=i.token;fm(g).then(b=>{const S=i.portal.replace(/\/$/,""),w=`${S}/community/users/${b.username}?f=json&token=${g}`;return fetch(w).then(E=>E.ok?E.json():Promise.reject(E.status)).then(E=>{const N=E?.thumbnail?`${S}/community/users/${b.username}/info/${E.thumbnail}?token=${g}`:void 0,q={username:b.username,role:b.role,userType:b.userLicenseTypeId,fullName:E?.fullName||b.username,thumbnailUrl:N};f(q),au(q)})}).catch(()=>{})}},[i,d,l]),ge.useEffect(()=>{i&&console.log("Session token (updated):",i.token)},[i]);const m=()=>{h0(),pu.beginOAuth2({clientId:um,redirectUri:dm,responseType:"token",popup:!1})},y=()=>{i&&(s(null),sessionStorage.removeItem(Sr))};return z.jsx(Pm.Provider,{value:{session:i,token:i?.token??null,signIn:m,signOut:y,loading:l,userInfo:d,setUserInfo:f},children:u})},xr=()=>ge.useContext(Pm),g0="0.4.0-alpha.3";function y0(){const{userInfo:u,token:i,signIn:s,signOut:l}=xr(),[o,d]=ge.useState(!1),f=ge.useRef(null);ge.useEffect(()=>{function w(N){o&&f.current&&!f.current.contains(N.target)&&d(!1)}function E(N){N.key==="Escape"&&d(!1)}return document.addEventListener("mousedown",w),document.addEventListener("keydown",E),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("keydown",E)}},[o]);const p=!!i&&!!u,m=u?.username?.charAt(0).toUpperCase()||"?",y=u?.username?`https://www.arcgis.com/home/user.html?user=${u.username}`:void 0,g=u?.thumbnailUrl||null,b=u?.fullName||u?.username||"",S=Wm();return z.jsx("header",{className:"top-nav",children:z.jsxs("div",{className:"top-nav-inner",children:[z.jsxs("div",{className:"top-nav-titles",children:[z.jsx("div",{className:"top-nav-title",children:"Classic StoryMap Converter"}),z.jsxs("div",{className:"top-nav-subtitle",children:["Alpha | v",g0,S&&z.jsx("span",{className:"refactor-badge",role:"status","aria-label":"Refactor mode active",title:"Refactor pipeline active",children:"Refactor"})]})]}),z.jsx("nav",{className:"top-nav-list","aria-label":"Main navigation"}),z.jsxs("div",{className:"top-nav-actions",children:[!p&&z.jsx("button",{className:"account-btn",onClick:s,"data-testid":"sign-in-btn",children:"Sign In"}),p&&z.jsxs("div",{className:"account-control",ref:f,children:[z.jsxs("button",{type:"button",className:"account-trigger","aria-haspopup":"true","aria-label":"Account menu",onClick:()=>d(w=>!w),children:[z.jsx("svg",{className:"account-trigger-icon",width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:z.jsx("path",{fill:"currentColor",d:"M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v2h20v-2c0-3.3-6.7-5-10-5z"})}),z.jsx("svg",{className:"account-caret",width:"12",height:"12",viewBox:"0 0 24 24","aria-hidden":"true",children:z.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),o&&z.jsxs("div",{className:"account-menu",role:"group","aria-label":"Account menu",children:[z.jsxs("div",{className:"account-menu-header",children:[g?z.jsx("img",{src:g,alt:"","aria-hidden":"true",className:"account-menu-avatar"}):z.jsx("span",{className:"account-menu-avatar fallback","aria-hidden":"true",children:m}),z.jsxs("div",{className:"account-menu-names",children:[z.jsx("div",{className:"account-full-name",children:b||(profileLoading?"Loading":u?.username)}),z.jsx("div",{className:"account-username-sub",children:u?.username})]})]}),z.jsx("div",{className:"account-menu-divider"}),y&&z.jsx("a",{href:y,target:"_blank",rel:"noopener",className:"account-menu-item",children:"View Profile"}),z.jsx("button",{className:"account-menu-item",onClick:()=>{d(!1),l()},children:"Sign Out"})]})]})]})]})})}const v0=new Set(["children","localName","ref","style","className"]),pm=new WeakMap,mm=(u,i,s,l,o)=>{const d=o?.[i];d===void 0?(u[i]=s,s==null&&i in HTMLElement.prototype&&u.removeAttribute(i)):s!==l&&((f,p,m)=>{let y=pm.get(f);y===void 0&&pm.set(f,y=new Map);let g=y.get(p);m!==void 0?g===void 0?(y.set(p,g={handleEvent:m}),f.addEventListener(p,g)):g.handleEvent=m:g!==void 0&&(y.delete(p),f.removeEventListener(p,g))})(u,d,s)},b0=({react:u,tagName:i,elementClass:s,events:l,displayName:o})=>{const d=new Set(Object.keys(l??{})),f=u.forwardRef(((p,m)=>{const y=u.useRef(new Map),g=u.useRef(null),b={},S={};for(const[w,E]of Object.entries(p))v0.has(w)?b[w==="className"?"class":w]=E:d.has(w)||w in s.prototype?S[w]=E:b[w]=E;return u.useLayoutEffect((()=>{if(g.current===null)return;const w=new Map;for(const E in S)mm(g.current,E,p[E],y.current.get(E),l),y.current.delete(E),w.set(E,p[E]);for(const[E,N]of y.current)mm(g.current,E,void 0,N,l);y.current=w})),u.useLayoutEffect((()=>{g.current?.removeAttribute("defer-hydration")}),[]),b.suppressHydrationWarning=!0,u.createElement(i,{...b,ref:u.useCallback((w=>{g.current=w,typeof m=="function"?m(w):m!==null&&(m.current=w)}),[m])})}));return f.displayName=o??s.name,f},qa=Ub(Hb,b0),gm=qa($a("calcite-button",{})),S0=qa($a("calcite-dialog",{onCalciteDialogBeforeClose:"calciteDialogBeforeClose",onCalciteDialogBeforeOpen:"calciteDialogBeforeOpen",onCalciteDialogClose:"calciteDialogClose",onCalciteDialogOpen:"calciteDialogOpen",onCalciteDialogScroll:"calciteDialogScroll"})),ym=qa($a("calcite-input",{onCalciteInputChange:"calciteInputChange",onCalciteInputInput:"calciteInputInput"})),vm=qa($a("calcite-input-message",{})),bm=qa($a("calcite-label",{})),_0=qa($a("calcite-tab",{})),T0=qa($a("calcite-tab-nav",{onCalciteTabChange:"calciteTabChange"})),E0=qa($a("calcite-tab-title",{onCalciteTabsActivate:"calciteTabsActivate",onCalciteTabsClose:"calciteTabsClose"})),A0=qa($a("calcite-tabs",{}));function w0({open:u,onCancel:i,onContinue:s}){const[l,o]=ge.useState(""),[d,f]=ge.useState(""),[p,m]=ge.useState(!1),y=ge.useRef(null);ge.useEffect(()=>{u&&setTimeout(()=>{m(!1),y.current?.focus()},0)},[u]);const g=S=>{if(!S)return!1;try{const w=new URL(S);return!!w.protocol&&!!w.host}catch{return!1}},b=()=>{const S=g(l);m(!S),S&&s(l.trim(),d.trim()||void 0)};return z.jsxs(S0,{open:u,heading:"Sign in with ArcGIS Enterprise",label:"Enterprise sign-in dialog",onCalciteDialogClose:i,children:[z.jsxs("div",{children:[z.jsxs(bm,{children:["URL",z.jsx(ym,{ref:y,required:!0,id:"enterprise_portal_url",name:"enterprise_portal_url",placeholder:"e.g. https://myportal.mydomain.com/portal",type:"text",value:l,onCalciteInputChange:S=>{const w=S.target;o(w.value)}}),z.jsx(vm,{status:"invalid",active:p,children:"Enter a valid organization url"})]}),z.jsxs(A0,{layout:"inline",position:"above",children:[z.jsx(T0,{slot:"tab-nav",children:z.jsx(E0,{active:!0,children:"OAuth Login"})}),z.jsx(_0,{active:!0,style:{width:"100%",marginTop:"1rem"},children:z.jsxs(bm,{children:["App ID",z.jsx(ym,{id:"enterprise_client_id",name:"app_client_id",placeholder:"e.g. aBcDeFgHi1j2K3L4",type:"text",value:d,onCalciteInputChange:S=>{const w=S.target;f(w.value)}}),z.jsx(vm,{status:"invalid",active:!1,children:"Enter a valid registered App ID"})]})})]}),z.jsxs("details",{className:"enterprise-details",children:[z.jsx("summary",{children:"More Details"}),z.jsxs("p",{className:"enterprise-details-text",children:["In order to log in to a Portal for ArcGIS instance using a SAML-based Identity Provider, you will need to Register the Classic StoryMap Converter as an application in your Portal, and generate an AppID that can identify this app as an allowed client of the Portal. To do so, follow the instructions "," ",z.jsx("a",{href:"https://enterprise.arcgis.com/en/portal/latest/use/add-app-url.htm#REG_APP",target:"_blank",rel:"noopener",children:"here"}),", using ",z.jsx("strong",{children:"Other Application"})," as the ",z.jsx("em",{children:"Type of App"})," and",z.jsx("code",{className:"enterprise-details-code",children:"https://url-for-this-app.com/"}),"as the Redirect URI."]})]})]}),z.jsxs("div",{slot:"footer",children:[z.jsx(gm,{color:"blue",onClick:b,children:"Continue"}),z.jsx(gm,{appearance:"outline",color:"blue",onClick:i,children:"Cancel"})]})]})}const C0="/assets/storymap-map-tour-CbGOcXZK.png",O0="/assets/storymap-map-journal-B6_zTpqe.png",x0="/assets/storymap-series-tabbed-I93IZkLj.png",D0="/assets/storymap-cascade-Dxb7EL3J.png",M0="/assets/storymap-shortlist-C-e80pOE.png",R0="/assets/storymap-crowdsource-CiU2l24Z.png",N0="/assets/storymap-swipe-DCnpLp2Y.png",U0="/assets/storymap-basic-DyApzf39.png",j0=[{key:"mapTour",title:"Map Tour",description:"Presented a sequential, place-based narrative with geotagged photos linked to an interactive map.",image:C0,status:"active",alt:"Map Tour Thumbnail"},{key:"mapJournal",title:"Map Journal",description:"Presented a compelling map-based narrative presented as a set of journal entries.",image:O0,status:"active",alt:"Map Journal Thumbnail"},{key:"mapSeries",title:"Map Series",description:"Presented a series of maps via a set of tabs, bullets or expanding side panel.",image:x0,status:"disabled",alt:"Map Series - Tabbed Thumbnail"},{key:"cascade",title:"Cascade",description:"Combined text with maps, images, and multimedia in an engaging, full-screen scrolling experience.",image:D0,status:"disabled",alt:"Cascade Thumbnail"},{key:"shortlist",title:"Shortlist",description:"Presented a set of places organized into a set of tabs based on themes.",image:M0,status:"disabled",alt:"Shortlist Thumbnail"},{key:"crowdsource",title:"Crowdsource",description:"Displayed crowdsourced photos with captions. The conversion will be view-only.",image:R0,status:"disabled",alt:"Crowdsource Thumbnail"},{key:"swipe",title:"Swipe",description:"Displayed two layers (converted to Instant App) or two maps side by side (converted to Experience Builder) for comparison.",image:N0,status:"disabled",alt:"Swipe Thumbnail"},{key:"basic",title:"Basic",description:"Presented a map via a minimalist interface. Converted to an ArcGIS Instant App.",image:U0,status:"disabled",alt:"Story Map Basic Thumbnail"}],z0=()=>{const{signIn:u}=xr(),[i,s]=ge.useState(!1);return z.jsxs(z.Fragment,{children:[z.jsxs("div",{id:"splashContainer",className:"splash-container",children:[z.jsxs("div",{className:"jumbotron",children:[z.jsx("h2",{children:"Classic StoryMap Converter"}),z.jsx("p",{className:"lead",children:"Convert Classic Esri Story Maps to ArcGIS StoryMaps"}),z.jsx("div",{className:"loginButtons",children:z.jsxs("p",{children:[z.jsx("button",{type:"button",className:"btn btn-lg btn-block btn-success login-btn",onClick:u,children:"Log in to ArcGIS Online"}),z.jsx("button",{type:"button",className:"btn btn-lg btn-block btn-default",onClick:()=>s(!0),children:"Log in to Portal for ArcGIS"})]})})]}),z.jsx("div",{className:"row marketing marketing-row",children:j0.map(l=>{const o=l.status!=="active";return z.jsxs("div",{className:`marketing-col${o?" disabled":""}`,"data-disabled":o?"true":"false",children:[z.jsx("h4",{children:l.title}),z.jsxs("div",{className:"marketing-img-container",children:[z.jsx("img",{src:l.image,alt:l.alt,className:"marketing-img"}),o&&z.jsx("div",{className:"disabled-overlay",children:"Coming Soon"})]}),z.jsx("p",{children:l.description})]},l.key)})})]}),z.jsx(w0,{open:i,onCancel:()=>s(!1),onContinue:(l,o)=>{s(!1),console.info("[EnterpriseSignInModal] continue",{url:l,appId:o})}})]})};class Uu{classicJson;themeId;progress;storyId;username;token;uploader;inlineUpload;constructor(i){this.classicJson=i.classicJson,this.themeId=i.themeId,this.progress=i.progress,this.storyId=i.storyId,this.username=i.username,this.token=i.token,this.uploader=i.uploader,this.inlineUpload=i.inlineUpload}emit(i){this.progress({stage:"convert",message:i})}convert(){this.emit("Beginning conversion"),this.extractStructure(),this.convertContent(),this.applyTheme();const i=this.collectMedia();return{storymapJson:this.getStoryMapJson(),mediaUrls:i}}}function pr(u){return u.trim().length>0}function eg(u){const i=u.values||{};let s=i.template||i.templateName||i.name||"";typeof s!="string"&&(s=String(s));const l=s.toLowerCase();if(l.includes("map tour"))return"maptour";if(l.includes("journal"))return"mapjournal";if(l.includes("series"))return"mapseries";if(l.includes("cascade"))return"cascade";if(l.includes("swipe"))return"swipe";if(l.includes("shortlist"))return"shortlist";if(l.includes("crowdsource"))return"crowdsource";if(l.includes("basic"))return"basic";if(i.story?.sections)return"mapjournal";if(i.story?.entries)return"mapseries";if(i.sections)return"cascade";if(i.webmaps&&Array.isArray(i.webmaps))return"swipe";if(i.tabs&&Array.isArray(i.tabs))return"shortlist";if(i.dataModel==="TWO_LAYERS"||i.layout&&typeof i.layout=="string"&&i.layout.toLowerCase().includes("swipe"))return"swipe";if(i.dataModel==="CROWD")return"crowdsource";if(i.colors&&typeof i.colors=="string"&&i.order)return"maptour";if(i.settings?.theme?.colors&&i.settings?.theme?.colors?.themeMajor){const o=i.settings.theme.colors.themeMajor.toLowerCase();if(o==="dark"||o==="light")return"cascade"}return"unknown"}function tg(u,i){const s=u.values||{};let l={};if(i==="mapjournal"||i==="mapseries"||i==="cascade"){const o=s.settings?.theme?.colors;o&&(l.themeMajor=o.themeMajor,l.headerColor=o.header,l.backgroundColor=o.panel||o.bgMain,l.textColor=o.text,l.linkColor=o.textLink)}else if(i==="maptour"){const d=(s.colors||"").split(";");l.headerColor=d[0]||void 0,l.backgroundColor=d[1]||void 0,l.carouselColor=d[2]||void 0}else if(i==="swipe"){const d=(s.colors||"").split(";");l.headerColor=d[0]||void 0,l.backgroundColor=d[1]||void 0}else if(i==="crowdsource")l=s.settings.layout.theme||void 0;else if(i==="shortlist"){const o=s.settings?.themeOptions?.headerColor;o&&(l.headerColor=o);const d=s.tabs||{};l.tabColors=[];for(const f of Object.keys(d)){const p=d[f];p&&p.color&&l.tabColors.push(p.color)}if(!l.headerColor){const f=s.colors||"";if(f){const p=f.split(";");l.headerColor=p[0]||void 0,l.backgroundColor=p[1]||void 0}else{const p=s.settings?.theme?.colors;p&&(l.headerColor=p.header,l.backgroundColor=p.panel||p.bgMain)}}}else i==="basic"&&(l.backgroundColor=s.background||void 0,l.textColor=s.color||void 0);return l}async function L0(u){let i=u;u.startsWith("//")?i="https:"+u:u.startsWith("http")||(i="https://"+u);const l=await fetch(`/.netlify/functions/image-dimensions?url=${encodeURIComponent(i)}`);if(!l.ok)throw new Error("Failed to get image dimensions");return await l.json()}function _r(u){const i=["strong","em","ol","li","ul","a","img"];if(typeof u=="string"){const s=`<div>${u}</div>`,d=new DOMParser().parseFromString(s,"text/html").body.firstElementChild;if(!d)return u;const f=Array.from(d.querySelectorAll("*"));for(let p=f.length-1;p>=0;p--){const m=f[p];if(!i.includes(m.tagName.toLowerCase())){const y=m.parentNode;if(y){for(;m.firstChild;)y.insertBefore(m.firstChild,m);y.removeChild(m)}}}return d.innerHTML.replace(/\n/g,"")}else if(typeof u=="object"&&u!==null){if(Array.isArray(u))return u.map(s=>_r(s));{const s={};for(const[l,o]of Object.entries(u))s[l]=_r(o);return s}}return u}const nu=[{scale:591657527,zoom:0},{scale:295828763,zoom:1},{scale:147914381,zoom:2},{scale:73957190,zoom:3},{scale:36978595,zoom:4},{scale:18489297,zoom:5},{scale:9244648,zoom:6},{scale:4622324,zoom:7},{scale:2311162,zoom:8},{scale:1155581,zoom:9},{scale:577790,zoom:10},{scale:288895,zoom:11},{scale:144447,zoom:12},{scale:72223,zoom:13},{scale:36111,zoom:14},{scale:18055,zoom:15},{scale:9027,zoom:16},{scale:4513,zoom:17},{scale:2256,zoom:18},{scale:1128,zoom:19},{scale:564,zoom:20},{scale:282,zoom:21},{scale:141,zoom:22},{scale:70,zoom:23}];function vn(u,i=4.4){if(!u||!u.ymax||!u.ymin)return null;const s=u.ymax,l=u.ymin,o=(s-l)*i;let d=nu[0].scale,f=nu[0].zoom;for(const p of nu)if(o<p.scale)d=p.scale,f=p.zoom;else return{scale:d,zoom:f};return{scale:d,zoom:f}}function Sa(u){return u.startsWith("https://")?u:u.startsWith("//")?"https:"+u:u.startsWith("/")?"https://www.example.com/":u.startsWith("http")?u:"https://"+u}function Ct(){return"n-"+Math.random().toString(36).substring(2,8)}function ag(){return"r-"+Math.random().toString(36).substring(2,8)}function I0(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,u=>{const i=Math.random()*16|0;return(u==="x"?i:i&3|8).toString(16)})}function Mi(u,i,s=""){for(const l of i)if(u[l]!==void 0&&u[l]!==null&&String(u[l]).trim()!=="")return String(u[l]).trim();return s}function k0(u){return new DOMParser().parseFromString(u,"text/html").body.textContent||""}function $s(u){try{const i=new URL(u);return`${i.protocol}//${i.hostname}`}catch{return""}}const Sm={variables:{headerFooterBackgroundColor:"#ffffff",backgroundColor:"#ffffff",titleFontId:"avenirNext",titleColor:"#002625",titleColorDark:"#002625",titleColorLight:"#ffffff",bodyFontId:"notoSerif",bodyColor:"#304e4e",bodyColorDark:"#002625",bodyColorLight:"#ffffff",bodyMutedColor:"#3d6665",themeColor1:"#087f9b",themeColor2:"#fc3b36",themeColor3:"#126057",borderRadius:0,shape:"hexagon",colorRamps:["seq-single-blues","seq-multi-ylgn","seq-orange-red-light","seq-yellow-darkblue-bright-reversed"],basemapPrimary:"humanGeographyLight",basemapAlt:"lightGrayCanvas",basemapImagery:"worldImagery"}},_m={variables:{headerFooterBackgroundColor:"#000000",backgroundColor:"#0e1116",titleFontId:"charterBT",titleColor:"#f3f3f3",titleColorDark:"#0E1116",titleColorLight:"#f3f3f3",bodyFontId:"arial",bodyColor:"#e6f2f2",bodyColorDark:"#0E1116",bodyColorLight:"#E6F2F2",bodyMutedColor:"#809e9d",themeColor1:"#ea5b41",themeColor2:"#4d6aff",themeColor3:"#0ec2db",borderRadius:9999,colorRamps:["seq-blue-bright-5","seq-yellow-bright-3","seq-green-bright-3","seq-red-bright-4"],basemapPrimary:"darkGrayCanvas",basemapAlt:"humanGeographyDark",basemapImagery:"worldImagery"}};function Tm(u,i){if(!u||!u.includes("font-family"))return i;let s=u;const l=/font-family:\s*'([^']+)'/.exec(u)||/font-family:\s*"([^"]+)"/.exec(u);if(l)s=l[1];else{const f=/font-family:\s*([^;]+);?/.exec(u);f&&(s=f[1].split(",")[0].trim().replace(/["']/g,""))}const o=s.toLowerCase().replace(/\s+/g,"");return{open_sansregular:"openSans",opensans:"openSans",roboto:"roboto",noto:"notoSerif",notoserif:"notoSerif",lato:"lato",sourcesanspro:"sourceSansPro",avenirnext:"avenirNext",charterbt:"charterBT",arial:"arial"}[o]||i}function B0(u){const i=u.values||{},l=(i.settings||{}).theme||{},o=l.colors||{},d=l.fonts||{},f=(i.title||"").trim()+" (Theme)",m=(o.themeMajor||"").toLowerCase()==="black"?"obsidian":"summit",g={...(m==="obsidian"?_m:Sm).variables},b=m==="obsidian"?_m.variables:Sm.variables;for(const[K,X]of Object.entries(b))K in g||(g[K]=X);const S=[];let w;o.panel&&(g.backgroundColor=o.panel,S.push("backgroundColor")),o.dotNav&&(g.headerFooterBackgroundColor=o.dotNav,S.push("headerFooterBackgroundColor")),o.text&&(g.bodyColor=o.text,S.push("bodyColor"),w="text"),!g.bodyColorDark&&b.bodyColorDark&&(g.bodyColorDark=b.bodyColorDark),!g.bodyColorLight&&b.bodyColorLight&&(g.bodyColorLight=b.bodyColorLight),!g.titleColorDark&&b.titleColorDark&&(g.titleColorDark=b.titleColorDark),!g.titleColorLight&&b.titleColorLight&&(g.titleColorLight=b.titleColorLight),o.textLink&&(g.themeColor1=o.textLink,S.push("themeColor1")),!o.text&&o.textLink&&(g.bodyColor=o.textLink,S.push("bodyColor"),w="textLink"),o.softText&&(g.bodyMutedColor=o.softText,S.push("bodyMutedColor")),!g.colorRamps&&b.colorRamps&&(g.colorRamps=b.colorRamps),!g.basemapPrimary&&b.basemapPrimary&&(g.basemapPrimary=b.basemapPrimary),!g.basemapAlt&&b.basemapAlt&&(g.basemapAlt=b.basemapAlt),!g.basemapImagery&&b.basemapImagery&&(g.basemapImagery=b.basemapImagery),m==="summit"&&!g.shape&&b.shape&&(g.shape=b.shape);const E=d.sectionTitle?.value,N=d.sectionContent?.value,q=Tm(E,g.titleFontId),O=Tm(N,g.bodyFontId);q&&q!==g.titleFontId&&(g.titleFontId=q,S.push("titleFontId")),O&&O!==g.bodyFontId&&(g.bodyFontId=O,S.push("bodyFontId"));const D={title:f,baseThemeId:m,isFromOrgTheme:!1,variables:g,resources:{}},B={baseThemeId:m,colorMappings:{panelToBackgroundColor:o.panel,dotNavToHeaderFooterBackgroundColor:o.dotNav,textToBodyColor:o.text,textLinkToBodyColor:o.text?void 0:o.textLink,textLinkToThemeColor1:o.textLink,softTextToBodyMutedColor:o.softText,chosenBodyColorSource:w},fontMappings:{classicTitleFontValue:E,mappedTitleFontId:q,classicBodyFontValue:N,mappedBodyFontId:O},variableOverridesApplied:S};return{theme:D,decisions:B}}let ju=class{json;themeResourceId;constructor(i){this.themeResourceId=this.generateResourceId(),this.json={root:"",nodes:{},resources:{[this.themeResourceId]:{type:"story-theme",data:{themeId:i,themeBaseVariableOverrides:{}}}},actions:[]}}createStoryRoot(){const i=this.generateNodeId();return this.json.root=i,this.json.nodes[i]={type:"story",data:{storyTheme:this.themeResourceId},config:{coverDate:""},children:[]},i}addNode(i,s,l,o){const d=this.generateNodeId(),f={type:i};return s&&(f.data=s),l&&(f.config=l),o&&(f.children=o),this.json.nodes[d]=f,d}applyTheme(i){const s=this.json.resources[this.themeResourceId];s&&s.type==="story-theme"&&(s.data.themeId=i.themeId,i.variableOverrides&&Object.keys(i.variableOverrides).length&&(s.data.themeBaseVariableOverrides=i.variableOverrides))}addImageResource(i,s,l){const o=this.generateResourceId();return this.json.resources[o]={type:"image",data:{src:i,provider:"uri",width:s,height:l}},o}finalizeImageResourceAsItem(i,s,l,o){const d=this.json.resources[i];!d||d.type!=="image"||(delete d.data.src,d.data.resourceId=s,d.data.provider="item-resource",l&&(d.data.width=l),o&&(d.data.height=o))}addVideoResource(i,s="uri",l){const o=l??this.generateResourceId();return this.json.resources[o]={type:"video",data:{src:i,provider:s}},o}addTextBlock(i,s,l){const o=this.generateNodeId(),d={type:"text",data:{text:s,type:l}};return this.json.nodes[o]=d,this.appendChild(i,o),o}addImageNode(i,s,l,o,d="standard"){const f=this.generateNodeId(),p={type:"image",data:{image:s,caption:l,alt:o},config:{size:d}};return this.json.nodes[f]=p,this.appendChild(i,f),f}addVideoNode(i,s){const l=this.generateNodeId(),o={type:"video",data:{src:s.src,resourceId:s.resourceId,provider:s.provider,caption:s.caption,alt:s.alt}};return this.json.nodes[l]=o,this.appendChild(i,l),l}addWebMapResource(i,s="Web Map",l,o="minimal"){const d=this.generateResourceId(),f={type:o,itemId:i,itemType:s};return l&&(l.extent||l.mapLayers||l.overview||l.legend||l.geocoder||l.popup)&&(f.initialState={...l}),this.json.resources[d]={type:"webmap",data:f},d}addWebMapNode(i,s,l){const o=this.generateNodeId(),d={type:"webmap",data:{map:s,caption:l}};return this.json.nodes[o]=d,this.appendChild(i,o),o}addCoverNode(i,s,l){const o=this.generateNodeId();return this.json.nodes[o]={type:"storycover",data:{type:"minimal",title:i,summary:s||"",byline:l||"",titlePanelVerticalPosition:"top",titlePanelHorizontalPosition:"start",titlePanelStyle:"gradient"}},this.json.root&&this.json.nodes[this.json.root]&&this.appendChild(this.json.root,o),o}addNavigationHidden(){const i=this.generateNodeId();return this.json.nodes[i]={type:"navigation",data:{links:[]},config:{isHidden:!0}},this.json.root&&this.appendChild(this.json.root,i),i}addCreditsNode(){const i=this.generateNodeId(),s=this.generateNodeId();this.json.nodes[s]={type:"attribution",data:{content:"",attribution:""}};const l=this.generateNodeId();this.json.nodes[l]={type:"text",data:{text:"",type:"paragraph",textAlignment:"start"},config:{size:"wide"}};const o=this.generateNodeId();return this.json.nodes[o]={type:"text",data:{text:"",type:"paragraph",textAlignment:"start"},config:{size:"wide"}},this.json.nodes[i]={type:"credits",children:[l,o,s]},this.json.root&&this.appendChild(this.json.root,i),i}addSidecar(i="docked-panel",s="end",l="medium"){const o=this.generateNodeId(),d=this.generateNodeId(),f=this.generateNodeId();this.json.nodes[o]={type:"immersive",data:{type:"sidecar",subtype:i,narrativePanelPosition:s,narrativePanelSize:l},children:[d]},this.json.nodes[d]={type:"immersive-slide",data:{transition:"fade"},children:[f]},this.json.nodes[f]={type:"immersive-narrative-panel",data:{panelStyle:"themed"},children:[]};const p=this.json.nodes[this.json.root];if(p?.children){const m=p.children.findIndex(y=>this.json.nodes[y]?.type==="credits");m>-1?p.children.splice(m,0,o):p.children.push(o)}return{immersiveId:o,slideId:d,narrativeId:f}}addSection(i,s,l){const o=this.generateNodeId();if(this.json.nodes[o]={type:"slide",children:[]},this.appendChild(i,o),s&&this.addTextBlock(o,s,"h2"),l){const d=l.replace(/<[^>]+>/g,"").trim();d&&this.addTextBlock(o,d,"paragraph")}return o}appendChild(i,s){const l=this.json.nodes[i];l&&(l.children||(l.children=[]),l.children.push(s))}getJson(){for(const d of Object.values(this.json.nodes))d&&(d.type==="webmap"?(d.config?"size"in d.config||(d.config.size="standard"):d.config={size:"standard"},d.data&&"scale"in d.data&&delete d.data.scale):d.type==="text"&&d.data&&!("textAlignment"in d.data)&&(d.data.textAlignment="start"));if(this.json.root){const d=this.json.nodes[this.json.root];d?.type==="story"&&d.data&&"metaSettings"in d.data&&delete d.data.metaSettings}const i={};for(const[d,f]of Object.entries(this.json.nodes))d!==this.json.root&&(i[d]=f);this.json.root&&(i[this.json.root]=this.json.nodes[this.json.root]);const{root:s,resources:l,actions:o}=this.json;return{root:s,nodes:i,resources:l,actions:o}}updateNodeData(i,s){const l=this.json.nodes[i];l&&(l.data||(l.data={}),s(l.data,l))}updateNode(i,s){const l=this.json.nodes[i];l&&s(l)}removeNode(i){const s=this.json.nodes;if(!(!s||!s[i])){for(const l of Object.values(s))if(l?.children&&Array.isArray(l.children)){const o=l.children.indexOf(i);o>-1&&l.children.splice(o,1)}delete s[i]}}setStoryMeta(i,s,l){if(!this.json.root)return;const o=this.json.nodes[this.json.root];!o||o.type!=="story"||(o.data||(o.data={}),o.data.metaSettings={title:i,description:s||"",imageResourceId:l})}addConverterMetadata(i,s){const l=this.generateResourceId(),o={type:"converter-metadata",data:{type:"storymap",version:"1.0.0",classicType:i,...s}};this.json.resources[l]=o}generateNodeId(){return`n-${Math.random().toString(36).slice(2,8)}`}generateResourceId(){return`r-${Math.random().toString(36).slice(2,8)}`}createTextNode(i,s,l="wide"){const o=this.generateNodeId();return this.json.nodes[o]={type:"text",data:{text:i,type:s,textAlignment:"start"},config:{size:l}},o}createRichTextNode(i,s,l="wide"){const o=this.generateNodeId();return this.json.nodes[o]={type:"text",data:{text:i,type:s,preserveHtml:!0,textAlignment:"start"},config:{size:l}},o}createImageNode(i,s,l,o="wide"){const d=this.generateNodeId();return this.json.nodes[d]={type:"image",data:{image:i,caption:s,alt:l},config:{size:o}},d}createWebMapNode(i,s){const l=this.generateNodeId();return this.json.nodes[l]={type:"webmap",data:{map:i,caption:s},config:{size:"standard"}},l}createVideoNode(i,s,l){const o=this.generateNodeId();return this.json.nodes[o]={type:"video",data:{video:i,caption:s,alt:l}},o}createVideoEmbedNode(i,s,l,o,d,f,p,m="16:9"){const y=this.generateNodeId();let g=i;return s==="youtube"&&l?g=`https://www.youtube.com/embed/${l}`:s==="vimeo"&&l&&(g=`https://player.vimeo.com/video/${l}`),this.json.nodes[y]={type:"embed",data:{url:i,embedSrc:g,embedType:"video",provider:s,videoId:l,title:d||void 0,description:f||void 0,caption:o||void 0,alt:p||"",isEmbedSupported:!0,display:"inline",aspectRatio:m}},y}createEmbedNode(i,s,l,o,d){const f=this.generateNodeId();return this.json.nodes[f]={type:"embed",data:{url:i,embedType:"link",title:l,description:o,caption:s,alt:d||"",isEmbedSupported:!0,display:"inline",embedSrc:i}},f}createSwipeNode(i,s,l="extent"){const o=this.generateNodeId();return this.json.nodes[o]={type:"swipe",data:{contents:{0:i,1:s},viewPlacement:l}},o}addSlideToSidecar(i,s,l){const o=this.json.nodes[i];if(!o||o.type!=="immersive")throw new Error("addSlideToSidecar: invalid sidecarId");const d=this.generateNodeId();this.json.nodes[d]={type:"immersive-narrative-panel",data:{panelStyle:"themed"},children:[...s]};const f=this.generateNodeId(),p=l?[d,l]:[d];return this.json.nodes[f]={type:"immersive-slide",data:{transition:"fade"},children:p},o.children||(o.children=[]),o.children.push(f),{slideId:f,narrativeId:d}}createActionButtonNode(i,s="wide"){const l=this.generateNodeId();return this.json.nodes[l]={type:"action-button",data:{text:i},config:{size:s}},l}addActionButton(i,s,l="wide"){const o=this.generateNodeId();return this.json.nodes[o]={type:"action-button",data:{text:s},config:{size:l}},this.appendChild(i,o),o}createButtonNode(i,s="wide",l){const o=this.generateNodeId();return this.json.nodes[o]={type:"button",data:{text:i,link:l},config:{size:s}},o}setButtonLink(i,s){const l=this.json.nodes[i];l&&l.type==="button"&&(l.data||(l.data={}),l.data.link=s)}addChild(i,s){this.appendChild(i,s)}getStoryRootId(){return this.json.root}newNodeId(){return this.generateNodeId()}createTourMapNode(i,s,l="2d"){const o=this.generateNodeId(),d={type:"name",value:"worldImagery"};if(s){const f=this.addWebMapResource(s,"Web Map",{},"minimal");d.type="resource",d.value=f}return this.json.nodes[o]={type:"tour-map",data:{geometries:i,mode:l,basemap:d}},o}createCarouselNode(i){const s=this.generateNodeId();return this.json.nodes[s]={type:"carousel",children:i.slice(0,5)},s}createTourNode(i,s,l,o="start",d="large",f="guided-tour",p="map-focused"){const m=this.generateNodeId();return this.json.nodes[m]={type:"tour",data:{type:f,subtype:p,narrativePanelPosition:o,map:s,places:i,narrativePanelSize:d,accentColor:l}},m}registerReplaceMediaAction(i,s,l){this.json.actions||(this.json.actions=[]),this.json.actions.push({origin:i,trigger:"ActionButton_Apply",target:s,event:"ImmersiveSlide_ReplaceMedia",data:{media:l}})}};function yu(){throw new Error("execSync is not available in the browser environment")}let dr=class Is extends Uu{builder;model="TWO_WEBMAPS";layout="swipe";constructor(i){super(i),this.builder=new ju(i.themeId)}extractStructure(){const i=this.classicJson.values;(i.dataModel||"").toUpperCase()==="TWO_LAYERS"?this.model="TWO_LAYERS":this.model="TWO_WEBMAPS",(i.layout||"").toLowerCase().includes("spyglass")?this.layout="spyglass":this.layout="swipe",this.emit(`Swipe model=${this.model} layout=${this.layout}`)}convertContent(){const i=this.classicJson.values;this.builder.createStoryRoot(),this.builder.addCoverNode(i.title||i.name||"Swipe",i.subtitle),this.builder.addNavigationHidden(),this.builder.addCreditsNode();const{immersiveId:s}=this.builder.addSidecar("docked-panel","end","medium"),o=this.builder.getJson().nodes[s];if(o?.children){for(const m of[...o.children])this.builder.removeNode(m);this.builder.updateNode(s,m=>{m.children=[]})}let d,f;if(this.model==="TWO_WEBMAPS"){const m=[];if(Array.isArray(i.webmaps))for(const w of i.webmaps)typeof w=="string"?m.push(w):w&&typeof w=="object"&&"id"in w&&m.push(String(w.id));else i.webmap&&m.push(String(i.webmap));const[y,g]=m,b=y?this.builder.addWebMapResource(y,"Web Map",{},"default"):void 0,S=g?this.builder.addWebMapResource(g,"Web Map",{},"default"):void 0;b&&(d=this.builder.createWebMapNode(b,void 0)),S&&(f=this.builder.createWebMapNode(S,void 0))}else{const m=String(i.webmap||""),y=m?this.builder.addWebMapResource(m,"Web Map",{},"default"):void 0;if(y){d=this.builder.createWebMapNode(y,void 0),f=this.builder.createWebMapNode(y,void 0);const g=Array.isArray(i.layers)?i.layers:[];if(g.length>=2){const b=g[0],S=g[1];d&&this.builder.updateNodeData(d,w=>{w.mapLayers=[{id:b.id,title:b.title||b.id,visible:!0},{id:S.id,title:S.title||S.id,visible:!1}]}),f&&this.builder.updateNodeData(f,w=>{w.mapLayers=[{id:b.id,title:b.title||b.id,visible:!1},{id:S.id,title:S.title||S.id,visible:!0}]})}}}const p=this.layout==="spyglass"?"center":"extent";if(d&&f){const m=this.builder.createSwipeNode(d,f,p),y=this.builder.createTextNode(i.title||i.name||"Swipe","h3");this.builder.addSlideToSidecar(s,[y],m)}this.builder.addConverterMetadata("Swipe",{classicMetadata:{layout:this.layout,model:this.model}}),this.emit("Built swipe block")}applyTheme(){}collectMedia(){return[]}getStoryMapJson(){return this.builder.getJson()}static convert(i){return new Is(i).convert()}static buildInlineSwipeBlock(i,s,l="swipe",o){const d=String(s.dataModel||"").toUpperCase();let f,p;if(d==="TWO_WEBMAPS"){const y=[];if(Array.isArray(s.webmaps))for(const D of s.webmaps)typeof D=="string"?y.push(D):D&&typeof D=="object"&&"id"in D&&y.push(String(D.id));else s.webmap&&y.push(String(s.webmap));const[g,b]=y,S={},w={},E=g?Is.fetchWebMapInfoSync(g,o):void 0,N=b?Is.fetchWebMapInfoSync(b,o):void 0;if(E?.extent){S.extent=E.extent;const D=vn(E.extent);D&&(S.viewpoint={targetGeometry:E.center??E.extent,scale:D.scale},S.zoom=D.zoom)}if(N?.extent){w.extent=N.extent;const D=vn(N.extent);D&&(w.viewpoint={targetGeometry:N.center??N.extent,scale:D.scale},w.zoom=D.zoom)}const q=g?i.addWebMapResource(g,"Web Map",S,"default"):void 0,O=b?i.addWebMapResource(b,"Web Map",w,"default"):void 0;q&&(f=i.createWebMapNode(q,void 0)),O&&(p=i.createWebMapNode(O,void 0))}else{const y=String(s.webmap||""),g=y?Is.fetchWebMapInfoSync(y,o):void 0,b={};if(g?.extent){b.extent=g.extent;const w=vn(g.extent);w&&(b.viewpoint={targetGeometry:g.center??g.extent,scale:w.scale},b.zoom=w.zoom)}const S=y?i.addWebMapResource(y,"Web Map",b,"default"):void 0;if(S){f=i.createWebMapNode(S,void 0),p=i.createWebMapNode(S,void 0);const w=Array.isArray(s.layers)?s.layers:[];if(w.length>=2){const E=w[0],N=w[1];f&&i.updateNodeData(f,q=>{q.mapLayers=[{id:E.id,title:E.title||E.id,visible:!0},{id:N.id,title:N.title||N.id,visible:!1}]}),p&&i.updateNodeData(p,q=>{q.mapLayers=[{id:E.id,title:E.title||E.id,visible:!1},{id:N.id,title:N.title||N.id,visible:!0}]})}}}const m=l==="spyglass"?"center":"extent";if(!f||!p)throw new Error("SwipeConverter.buildInlineSwipeBlock: missing content nodes");return i.createSwipeNode(f,p,m)}static fetchWebMapInfoSync(i,s){try{const l=`https://www.arcgis.com/sharing/rest/content/items/${i}/data?f=json`,o=s?`${l}&token=${encodeURIComponent(s)}`:l,d=yu(`curl -sL '${o}'`,{encoding:"utf-8"}),f=JSON.parse(d),p=N=>N?.initialState?.view?.extent||N?.mapOptions?.extent||N?.extent||N?.mapOptions?.mapExtent||void 0,m=N=>N?.initialState?.view?.center||N?.mapOptions?.center||N?.center||void 0;let y=p(f),g=m(f);if(!y||typeof y!="object"&&!Array.isArray(y)){const N=`https://www.arcgis.com/sharing/rest/content/items/${i}?f=json`,q=yu(`curl -sL '${N}'`,{encoding:"utf-8"}),O=JSON.parse(q);if(Array.isArray(O.extent)&&O.extent.length===2&&Array.isArray(O.extent[0])&&Array.isArray(O.extent[1])){const[[D,B],[K,X]]=O.extent;y={xmin:D,ymin:B,xmax:K,ymax:X,spatialReference:{wkid:4326}}}if(!g&&Array.isArray(O.center)&&O.center.length>=2){const[D,B]=O.center;g={x:D,y:B,spatialReference:{wkid:4326}}}}const b=N=>N*2003750834e-2/180,S=N=>Math.log(Math.tan((90+N)*Math.PI/360))/(Math.PI/180)*2003750834e-2/180;let w;y&&y.spatialReference&&(y.spatialReference.wkid===4326||y.spatialReference.latestWkid===4326)?w={xmin:b(y.xmin),ymin:S(y.ymin),xmax:b(y.xmax),ymax:S(y.ymax),spatialReference:{wkid:102100}}:y&&typeof y=="object"&&"xmin"in y&&(w=y);let E;return g&&g.spatialReference&&g.spatialReference.wkid===4326?E={x:b(g.x),y:S(g.y),spatialReference:{wkid:102100}}:g&&g.spatialReference&&(g.spatialReference.wkid===102100||g.spatialReference.latestWkid===3857)&&(E=g),{extent:w,center:E}}catch{return}}},H0=class ng extends Uu{builder;sections=[];imageResourceMap=new Map;media=new Set;styleBlocks=[];videoEmbedCount=0;constructor(i){super(i),this.builder=new ju(i.themeId)}extractStructure(){const i=this.classicJson.values,s=i.story&&Array.isArray(i.story.sections)?i.story.sections:[],l=Array.isArray(i.sections)?i.sections:[];this.sections=s.length?s:l,this.emit(`Extracted ${this.sections.length} section(s)`)}convertContent(){this.builder.createStoryRoot();const i=this.classicJson.values;this.emit("Created story root node"),this.builder.addCoverNode(i.title||"Untitled Story",i.subtitle),this.builder.addNavigationHidden(),this.builder.addCreditsNode(),this.emit("Added cover/navigation/credits scaffold");const s=(i.description||i.subtitle||"")+"";this.builder.setStoryMeta(i.title||"Untitled Story",s.trim()||void 0,void 0);const o=i,d=o.settings?.layout?.id||"side",f=o.settings?.layoutOptions?.layoutCfg||{},p=f.size||"medium",m=f.position||"right",y=!!o.settings?.theme&&Object.keys(o.settings.theme||{}).length>0,g=d==="float"?"floating-panel":"docked-panel";let b="medium";(p==="small"||p==="medium"||p==="large")&&(b=p);const S=m==="left"?"start":"end",{immersiveId:w,slideId:E,narrativeId:N}=this.builder.addSidecar(g,S,b);if(this.builder.removeNode(E),this.builder.removeNode(N),this.builder.updateNode(w,ie=>{ie.children=[]}),i.description){const ie=[this.builder.createTextNode(String(i.description),"paragraph")];this.builder.addSlideToSidecar(w,ie,void 0)}const q=[],O=[],D=[];for(const ie of this.sections){const se=[],oe=[];let Ne;ie.title&&(Ne=this.builder.createTextNode(ie.title,"h3"),se.push(Ne)),q.push(Ne||"");const ee=(ie.content||ie.description||"")+"";if(ee.trim())if(typeof globalThis.DOMParser<"u")try{const ce=new DOMParser().parseFromString(ee,"text/html");for(const W of Array.from(ce.body.children))this.handleElementOrdered(W,se,oe,O,D)}catch{this.parseOrderedFallback(ee,se,oe,O,D)}else this.parseOrderedFallback(ee,se,oe,O,D);let x;const H=ie.media;if(H?.image?.url){const ce=this.builder.addImageResource(H.image.url);x=this.builder.createImageNode(ce,H.image.caption,H.image.altText,"wide"),this.media.add(H.image.url)}else if(H?.webmap?.id){const ce=H.webmap.itemType==="Web Scene"?"Web Scene":"Web Map",W=H.webmap,_=H.webmap.extent?this.normalizeExtent(H.webmap.extent):void 0;let U,I;if(_){const P=vn(_);P&&(U={targetGeometry:_,scale:P.scale},I=P.zoom)}const Y={extent:_,mapLayers:Array.isArray(H.webmap.layers)?H.webmap.layers.map(P=>({id:P.id,title:P.title||P.id,visible:P.visibility})):void 0,overview:W.overview?{enable:!!W.overview.enable,openByDefault:!!W.overview.openByDefault}:void 0,legend:W.legend?{enable:!!W.legend.enable,openByDefault:!!W.legend.openByDefault}:void 0,geocoder:W.geocoder?{enable:!!W.geocoder.enable}:void 0,popup:W.popup||void 0,viewpoint:U,zoom:I},ne=this.builder.addWebMapResource(H.webmap.id,ce,Y,"default");x=this.builder.createWebMapNode(ne,ie.title?`${ce==="Web Scene"?"Scene":"Map"}: ${ie.title}`:void 0),this.media.add(H.webmap.id),x&&this.builder.updateNodeData(x,P=>{_&&(P.extent=_),Array.isArray(H.webmap.layers)&&(P.mapLayers=H.webmap.layers.map(fe=>({id:fe.id,title:fe.title||fe.id,visible:fe.visibility}))),U&&(P.viewpoint=U),typeof I=="number"&&(P.zoom=I),W.overview&&W.overview.enable&&(P.overview={openByDefault:!!W.overview.openByDefault}),W.legend&&W.legend.enable&&(P.legend={openByDefault:!!W.legend.openByDefault})})}else if(H?.video?.url){const ce=this.detectVideoProvider(H.video.url);if(ce.provider!=="unknown")x=this.builder.createVideoEmbedNode(H.video.url,ce.provider,ce.id,H.video.caption,H.video.caption,void 0,H.video.altText),this.videoEmbedCount++;else{const W=this.builder.addVideoResource(H.video.url,"uri");x=this.builder.createVideoNode(W,H.video.caption,H.video.altText),this.media.add(H.video.url)}}else if(H?.webpage?.url){const ce=this.tryBuildSwipeNodeFromUrl(H.webpage.url);ce?x=ce:x=this.builder.createEmbedNode(H.webpage.url,H.webpage.caption,H.webpage.title,H.webpage.description,H.webpage.altText)}const{slideId:ae}=this.builder.addSlideToSidecar(w,se,x);if(Array.isArray(ie.contentActions)&&ie.contentActions.length){const ce=new Map(ie.contentActions.map(W=>[W.id,W]));for(const W of oe){const _=ce.get(W.actionId);if(!_||_.type!=="media"||!_.media)continue;let U;const I=_.media;if(I.webmap?.id){const Y=I.webmap.itemType==="Web Scene"?"Web Scene":"Web Map";let ne,P;const fe=I.webmap.extent?this.normalizeExtent(I.webmap.extent):void 0,Q=I.webmap;if(fe){const ye=vn(fe);ye&&(ne={targetGeometry:fe,scale:ye.scale},P=ye.zoom)}const V={extent:fe,mapLayers:Array.isArray(I.webmap.layers)?I.webmap.layers.map(ye=>({id:ye.id,title:ye.title||ye.id,visible:ye.visibility})):void 0,overview:Q.overview?{enable:!!Q.overview.enable,openByDefault:!!Q.overview.openByDefault}:void 0,legend:Q.legend?{enable:!!Q.legend.enable,openByDefault:!!Q.legend.openByDefault}:void 0,viewpoint:ne,zoom:P},de=this.builder.addWebMapResource(I.webmap.id,Y,V,"default");U=this.builder.createWebMapNode(de,W.text.includes("Map")||W.text.includes("Scene")?W.text:void 0);const Te=this.builder.getJson();if(U){const ye=Te.nodes[U];ye&&ye.data&&(Array.isArray(I.webmap.layers)&&(ye.data.mapLayers=I.webmap.layers.map(ct=>({id:ct.id,title:ct.title||ct.id,visible:ct.visibility}))),fe&&(ye.data.extent=fe),ne&&(ye.data.viewpoint=ne),typeof P=="number"&&(ye.data.zoom=P),Q.overview&&Q.overview.enable&&(ye.data.overview={openByDefault:!!Q.overview.openByDefault}),Q.legend&&Q.legend.enable&&(ye.data.legend={openByDefault:!!Q.legend.openByDefault}))}this.media.add(I.webmap.id)}else if(I.image?.url){const Y=this.builder.addImageResource(I.image.url);U=this.builder.createImageNode(Y,I.image.caption,I.image.altText,"standard"),this.media.add(I.image.url)}else if(I.video?.url){const Y=this.detectVideoProvider(I.video.url);if(Y.provider!=="unknown")U=this.builder.createVideoEmbedNode(I.video.url,Y.provider,Y.id,I.video.caption,I.video.caption,void 0,I.video.altText),this.videoEmbedCount++;else{const ne=this.builder.addVideoResource(I.video.url,"uri");U=this.builder.createVideoNode(ne,I.video.caption,I.video.altText),this.media.add(I.video.url)}}else if(I.webpage?.url){const Y=this.tryBuildSwipeNodeFromUrl(I.webpage.url);Y?U=Y:U=this.builder.createEmbedNode(I.webpage.url,I.webpage.caption,I.webpage.title,I.webpage.description,I.webpage.altText)}if(U){this.builder.updateNode(W.buttonNodeId,P=>{const fe=P;fe.dependents||(fe.dependents={}),fe.dependents.actionMedia=U;const V=this.builder.getJson().nodes[U];if(V?.type==="swipe"&&V.data&&V.data.contents){const de=V.data.contents,Te=de[0],ye=de[1];Te&&(fe.dependents.actionMedia_content_0=Te),ye&&(fe.dependents.actionMedia_content_1=ye)}});const ne=this.builder.getJson().nodes[ae];ne&&Array.isArray(ne.children)&&(ne.children.includes(U)||this.builder.addChild(ae,U)),this.builder.registerReplaceMediaAction(W.buttonNodeId,ae,U)}}}}const B=new Map;this.sections.forEach(ie=>{(ie.contentActions||[]).forEach(se=>{se.type==="navigate"&&typeof se.index=="number"&&B.set(se.id,se.index)})});for(const ie of O){const se=B.get(ie.actionId);if(typeof se=="number"){const oe=q[se];oe&&this.builder.setButtonLink(ie.buttonNodeId,`#ref-${oe}`)}}const K=this.builder.getJson();for(const ie of D){const se=B.get(ie.actionId);if(typeof se!="number")continue;const oe=q[se];if(!oe)continue;const Ne=K.nodes[ie.richNodeId];if(Ne?.type==="text"&&Ne.data){const ee=Ne.data;if(!ee.preserveHtml)continue;const x=ee.text,H=new RegExp(`<a([^>]*data-storymaps=["']${ie.actionId}["'][^>]*)>`,"i"),ae=x.replace(H,(ce,W)=>/href=/.test(W)?ce:`<a${W} href="#ref-${oe}" target="_self">`);ee.text=ae}}const X=o.settings?.theme||null;if(!y&&d==="float"){const ie=this.builder.getJson();for(const oe of Object.values(ie.nodes))oe&&oe.type==="immersive-narrative-panel"&&(oe.data||(oe.data={}),oe.data.position="end",oe.data.size="medium");const se={baseThemeId:"obsidian",forcedByMissingClassicTheme:!0,variableOverridesApplied:[],layoutMapping:{classicLayoutId:d,classicSize:p,classicPosition:m,mappedSubtype:g,mappedNarrativePanelSize:"medium",mappedNarrativePanelPosition:"end"}};this.builder.applyTheme({themeId:"obsidian",variableOverrides:{}}),se.videoEmbeds=this.videoEmbedCount,this.builder.addConverterMetadata("MapJournal",{classicMetadata:{theme:X,mappingDecisions:se}}),this.emit("Applied fallback obsidian theme (no classic theme present; float layout)");return}const{theme:J,decisions:Z}=B0(this.classicJson);Z.layoutMapping={classicLayoutId:d,classicSize:p,classicPosition:m,mappedSubtype:g,mappedNarrativePanelSize:b,mappedNarrativePanelPosition:S};const re={};if(Array.isArray(Z.variableOverridesApplied))for(const ie of Z.variableOverridesApplied)J.variables&&ie in J.variables&&(re[ie]=String(J.variables[ie]));if(this.styleBlocks.length)try{const ie=this.styleBlocks.join(`

`);let se=ie.split("").map(ee=>ee.charCodeAt(0)<32?" ":ee).join("");se=se.replace(/\r/g,"").replace(/\t/g," "),se=se.replace(/\n{3,}/g,`

`);const oe=ie.length,Ne=se.length>6e3?se.slice(0,6e3)+`
/*__CSS_TRUNCATED__*/`:se;Z.customCss={blockCount:this.styleBlocks.length,approxBytes:oe,combined:Ne}}catch{}this.builder.applyTheme({themeId:Z.baseThemeId,variableOverrides:re}),Z.videoEmbeds=this.videoEmbedCount,this.builder.addConverterMetadata("MapJournal",{classicMetadata:{theme:X,mappingDecisions:Z}});const be=this.builder.getJson().nodes[w]?.children?.length||0;this.emit(`Built single sidecar with ${be} slide(s); theme overrides applied (${Object.keys(re).length})`)}applyTheme(){this.emit("applyTheme skipped (handled in convertContent)")}collectMedia(){return this.emit(`Collected ${this.media.size} media URL(s)`),Array.from(this.media)}getStoryMapJson(){return this.builder.getJson()}static convert(i){return new ng(i).convert()}normalizeExtent(i){if(!i)return i;const s=i.spatialReference?.wkid||i.spatialReference?.latestWkid||i.spatialReference?.wkt;if(!(s===4326||s==="WGS84"||s==="WGS 84")||[i.xmin,i.ymin,i.xmax,i.ymax].some(f=>typeof f!="number"||!isFinite(f)))return i;const o=f=>f*2003750834e-2/180,d=f=>Math.log(Math.tan((90+f)*Math.PI/360))/(Math.PI/180)*2003750834e-2/180;return{xmin:o(i.xmin),ymin:d(i.ymin),xmax:o(i.xmax),ymax:d(i.ymax),spatialReference:{wkid:102100}}}extractImageEntries(i){const s=[],l=/<figure[^>]*>([\s\S]*?)<\/figure>/gi;let o;for(;(o=l.exec(i))!==null;){const p=o[1],m=/<img[^>]*>/i.exec(p)?.[0];if(!m)continue;const y=/src=["']([^"'>]+)["']/i.exec(m);if(!y)continue;const g=/alt=["']([^"'>]*)["']/i.exec(m),b=/<figcaption[^>]*>([\s\S]*?)<\/figcaption>/i.exec(p),S=b?this.stripHtml(b[1]).trim():void 0,w=y[1];s.some(E=>E.src===w)||s.push({src:w,alt:g?g[1]:void 0,caption:S})}const d=/<img[^>]*src=["']([^"'>]+)["'][^>]*>/gi;let f;for(;(f=d.exec(i))!==null;){const p=f[0],m=f[1];if(!s.some(y=>y.src===m)){const y=/alt=["']([^"'>]*)["']/i.exec(p);s.push({src:m,alt:y?y[1]:void 0})}}return s}stripHtml(i){return i.replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim()}extractParagraphBlocks(i){const s=[],l=/<p[^>]*>([\s\S]*?)<\/p>/gi;let o;for(;(o=l.exec(i))!==null;){const d=o[1],f=this.stripHtml(d);f&&s.push(f)}if(!s.length){const d=this.stripHtml(i);d&&s.push(d)}return s}extractActionAnchorLabel(i,s){const o=new RegExp(`<a[^>]*data-storymaps=["']${s}["'][^>]*>([\\s\\S]*?)</a>`,"i").exec(i);if(o)return this.stripHtml(o[1])}BUTTON_CLASS_REGEX=/^btn-(green|orange|purple|yellow|red)$/i;isNonEmptyHtmlSegment(i){if(!i)return!1;const s=/data-storymaps=/i.test(i),l=i.replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<style[\s\S]*?<\/style>/gi,"").replace(/<[^>]+>/g,"").replace(/&nbsp;/gi," ").replace(/\u00A0/g," ").trim();return s||l.length>0}CSS_COLOR_MAP={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};colorToHex(i){if(!i)return;if(i=i.trim(),i=i.replace(/!important$/i,"").trim(),/^#([0-9a-f]{3})$/i.test(i)){const d=i[1],f=i[2],p=i[3];return`#${d}${d}${f}${f}${p}${p}`.toUpperCase()}if(/^#([0-9a-f]{6})$/i.test(i))return i.toUpperCase();const s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i.exec(i);if(s){const[d,f,p]=s.slice(1,4).map(m=>Math.max(0,Math.min(255,parseInt(m,10))));return`#${d.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}${p.toString(16).padStart(2,"0")}`.toUpperCase()}const l=/rgb-?(\d+)-?(\d+)-?(\d+)/i.exec(i);if(l){const[d,f,p]=l.slice(1,4).map(m=>Math.max(0,Math.min(255,parseInt(m,10))));return`#${d.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}${p.toString(16).padStart(2,"0")}`.toUpperCase()}const o=i.toLowerCase();if(this.CSS_COLOR_MAP[o])return this.CSS_COLOR_MAP[o].toUpperCase()}processHtmlColorsPreserveHtml(i){if(!i||!/<[^>]+style=/i.test(i))return i;try{const l=new DOMParser().parseFromString(`<wrapper>${i}</wrapper>`,"text/html").querySelector("wrapper");if(!l)return i;for(const o of Array.from(l.querySelectorAll("[style]"))){const d=o.getAttribute("style")||"",f=/color\s*:\s*([^;]+)(;?)/i.exec(d);if(!f)continue;const p=f[1].trim(),m=this.colorToHex(p);if(!m)continue;const y=`sm-text-color-${m.substring(1)}`;let g=d.replace(f[0],"").trim();g=g.replace(/;;+/g,";"),g=g.replace(/^;|;$/g,"").trim(),g?o.setAttribute("style",g):o.removeAttribute("style");const b=o.getAttribute("class");b?o.setAttribute("class",b+" "+y):o.setAttribute("class",y)}return l.innerHTML}catch{return i.replace(/(<[^>]+style=["'][^"'>]*color\s*:[^"'>]+["'][^>]*>)/gi,s=>{const l=/style=["']([^"'>]+)["']/i.exec(s);if(!l)return s;let o=l[1];const d=/color\s*:\s*([^;]+)(;?)/i.exec(o);if(!d)return s;const f=d[1].trim(),p=this.colorToHex(f);if(!p)return s;const m=`sm-text-color-${p.substring(1)}`;o=o.replace(d[0],"").trim(),o=o.replace(/;;+/g,";").replace(/^;|;$/g,"").trim();let y=s.replace(l[0],o?`style="${o}"`:"");return/class=["']/i.test(y)?y=y.replace(/class=["']([^"'>]+)["']/i,(g,b)=>`class="${b} ${m}"`):y=y.replace(/<([^\s>]+)/,(g,b)=>`<${b} class="${m}"`),y})}}handleElementOrdered(i,s,l,o,d){if(i.tagName==="STYLE"){const p=i.textContent||"";p.trim()&&this.styleBlocks.push(p.trim());return}if(i.tagName==="FIGURE"){const p=i.querySelector("img");if(p?.src){const m=this.builder.addImageResource(p.src);s.push(this.builder.createImageNode(m,i.querySelector("figcaption")?.textContent?.trim()||void 0,p.alt||void 0,"standard")),this.media.add(p.src)}return}if(i.tagName==="IMG"){if(i.getAttribute("src")){const p=i.getAttribute("src"),m=this.builder.addImageResource(p);s.push(this.builder.createImageNode(m,void 0,i.getAttribute("alt")||void 0,"standard")),this.media.add(p)}return}if(i.tagName==="P"||i.tagName==="DIV"){const p=new DOMParser().parseFromString(`<wrapper>${i.innerHTML}</wrapper>`,"text/html"),m=p.querySelector("wrapper");for(const b of Array.from(m.querySelectorAll("img[src]"))){const S=b.getAttribute("src"),w=b.getAttribute("alt")||void 0,E=this.builder.addImageResource(S),N=this.builder.createImageNode(E,void 0,w,"standard");this.media.add(S),b.replaceWith(p.createTextNode(`%%IMG:${N}%%`))}for(const b of Array.from(m.querySelectorAll("a[data-storymaps]"))){const S=b.getAttribute("data-storymaps"),w=b.getAttribute("data-storymaps-type")||"",E=(b.textContent||"View").trim(),O=(b.getAttribute("class")||"").split(/\s+/).filter(Boolean).some(D=>this.BUTTON_CLASS_REGEX.test(D));if(w==="media"){const D=this.builder.createActionButtonNode(E,"wide");l.push({actionId:S,text:E,buttonNodeId:D}),b.replaceWith(p.createTextNode(`%%ACTION_BTN:${D}%%`))}else if(w==="navigate")if(O){const D=this.builder.createButtonNode(E,"wide");o.push({actionId:S,buttonNodeId:D}),b.replaceWith(p.createTextNode(`%%NAV_BTN:${D}%%`))}else d.push({actionId:S,richNodeId:""})}const g=m.innerHTML.split(/(%%IMG:[^%]+%%|%%ACTION_BTN:[^%]+%%|%%NAV_BTN:[^%]+%%)/);for(const b of g)if(b)if(/^%%IMG:/.test(b)){const S=b.replace(/^%%IMG:/,"").replace(/%%$/,"");s.push(S)}else if(/^%%ACTION_BTN:/.test(b)){const S=b.replace(/^%%ACTION_BTN:/,"").replace(/%%$/,"");s.push(S)}else if(/^%%NAV_BTN:/.test(b)){const S=b.replace(/^%%NAV_BTN:/,"").replace(/%%$/,"");s.push(S)}else{if(!this.isNonEmptyHtmlSegment(b))continue;const S=this.processHtmlColorsPreserveHtml(b),w=S.match(/<p[^>]*>[\s\S]*?<\/p>/gi);if(w&&w.length>1)for(const N of w){const q=N.replace(/^<p[^>]*>|<\/p>$/gi,"").trim();if(!q.replace(/&nbsp;|\s+/g,"").trim())continue;const D=this.builder.createRichTextNode(q,"paragraph");if(N.includes("data-storymaps"))for(const B of d)!B.richNodeId&&N.includes(`data-storymaps="${B.actionId}"`)&&(B.richNodeId=D);s.push(D)}else{let N=S;/^<p[^>]*>[\s\S]*?<\/p>$/.exec(S.trim())&&(N=S.trim().replace(/^<p[^>]*>|<\/p>$/gi,"").trim());const O=this.builder.createRichTextNode(N,"paragraph");if(S.includes("data-storymaps"))for(const D of d)!D.richNodeId&&S.includes(`data-storymaps="${D.actionId}"`)&&(D.richNodeId=O);s.push(O)}}return}if(i.tagName==="IFRAME"){const p=i.getAttribute("src");if(p){const m=this.parseSwipeAppId(p);if(m&&typeof window>"u"){const g=this.fetchClassicSwipeDataSync(m);if(g&&g.values){const b=this.parseSwipeLayoutFromUrl(p)||(String(g.values.layout||"").toLowerCase().includes("spyglass")?"spyglass":"swipe");try{const S=dr.buildInlineSwipeBlock(this.builder,g.values,b,this.token);s.push(S);return}catch{}}}const y=this.detectVideoProvider(p);y.provider!=="unknown"?(s.push(this.builder.createVideoEmbedNode(p,y.provider,y.id)),this.videoEmbedCount++):s.push(this.builder.createEmbedNode(p))}return}const f=i.textContent?.trim();f&&s.push(this.builder.createTextNode(f,"paragraph"))}parseOrderedFallback(i,s,l,o,d){const f=/<style[^>]*>([\s\S]*?)<\/style>/gi;let p;for(;(p=f.exec(i))!==null;){const g=p[1].trim();g&&this.styleBlocks.push(g)}const m=/(<figure[\s\S]*?<\/figure>)|(<img[^>]*>)|(<p[\s\S]*?<\/p>)|(<div[\s\S]*?<\/div>)|(<iframe[\s\S]*?<\/iframe>)/gi;let y;for(;(y=m.exec(i))!==null;){const g=y[0],b=g.slice(0,10).toLowerCase();if(b.startsWith("<style")){const w=g.replace(/^<style[^>]*>|<\/style>$/gi,"").trim();w&&this.styleBlocks.push(w);continue}if(b.startsWith("<figure")){const w=/<img[^>]*>/i.exec(g)?.[0];if(w){const E=/src=["']([^"'>]+)["']/i.exec(w)?.[1];if(E){const N=/alt=["']([^"'>]*)["']/i.exec(w)?.[1],q=/<figcaption[^>]*>([\s\S]*?)<\/figcaption>/i.exec(g)?.[1],O=this.builder.addImageResource(E);s.push(this.builder.createImageNode(O,q?this.stripHtml(q).trim():void 0,N,"standard")),this.media.add(E)}}continue}if(b.startsWith("<iframe")){const w=/src=["']([^"'>]+)["'][^>]*>/i.exec(g)?.[1];if(w){const E=this.parseSwipeAppId(w);if(E&&typeof window>"u"){const q=this.fetchClassicSwipeDataSync(E);if(q&&q.values){const O=this.parseSwipeLayoutFromUrl(w)||(String(q.values.layout||"").toLowerCase().includes("spyglass")?"spyglass":"swipe");try{const D=dr.buildInlineSwipeBlock(this.builder,q.values,O,this.token);s.push(D);continue}catch{}}}const N=this.detectVideoProvider(w);N.provider!=="unknown"?(s.push(this.builder.createVideoEmbedNode(w,N.provider,N.id)),this.videoEmbedCount++):s.push(this.builder.createEmbedNode(w))}continue}if(b.startsWith("<p")||b.startsWith("<div")){const w=g.replace(/^<p[^>]*>|^<div[^>]*>|<\/p>$|<\/div>$/gi,"");let E=w;const N=/<img[^>]*src=["']([^"'>]+)["'][^>]*>/gi;let q;for(;(q=N.exec(w))!==null;){const J=q[0],Z=q[1],re=/alt=["']([^"'>]*)["']/i.exec(J)?.[1],pe=this.builder.addImageResource(Z),be=this.builder.createImageNode(pe,void 0,re,"standard");this.media.add(Z),E=E.replace(J,`%%IMG:${be}%%`)}const O=/<a[^>]*data-storymaps=["']([^"'>]+)["'][^>]*>[\s\S]*?<\/a>/gi;let D;for(;(D=O.exec(w))!==null;){const J=D[0],Z=D[1],re=/data-storymaps-type=["']([^"'>]+)["']/i.exec(J)?.[1]||"",pe=J.replace(/<a[^>]*>|<\/a>/gi,""),be=this.stripHtml(pe).trim()||"View",se=(/class=["']([^"'>]+)["']/i.exec(J)?.[1]||"").split(/\s+/).some(oe=>this.BUTTON_CLASS_REGEX.test(oe));if(re==="media"){const oe=this.builder.createActionButtonNode(be,"wide");l.push({actionId:Z,text:be,buttonNodeId:oe}),E=E.replace(J,`%%ACTION_BTN:${oe}%%`)}else if(re==="navigate")if(se){const oe=this.builder.createButtonNode(be,"wide");o.push({actionId:Z,buttonNodeId:oe}),E=E.replace(J,`%%NAV_BTN:${oe}%%`)}else d.push({actionId:Z,richNodeId:""})}const B=/<iframe[^>]*src=["']([^"'>]+)["'][^>]*>[\s\S]*?<\/iframe>/gi;let K;for(;(K=B.exec(w))!==null;){const J=K[0],Z=K[1];let re;const pe=this.parseSwipeAppId(Z);if(pe&&typeof window>"u"){const be=this.fetchClassicSwipeDataSync(pe);if(be&&be.values){const ie=this.parseSwipeLayoutFromUrl(Z)||(String(be.values.layout||"").toLowerCase().includes("spyglass")?"spyglass":"swipe");try{re=dr.buildInlineSwipeBlock(this.builder,be.values,ie,this.token)}catch{}}}if(!re){const be=this.detectVideoProvider(Z);be.provider!=="unknown"?(re=this.builder.createVideoEmbedNode(Z,be.provider,be.id),this.videoEmbedCount++):re=this.builder.createEmbedNode(Z)}E=E.replace(J,`%%IFRAME_NODE:${re}%%`)}const X=E.split(/(%%IMG:[^%]+%%|%%ACTION_BTN:[^%]+%%|%%NAV_BTN:[^%]+%%|%%IFRAME_NODE:[^%]+%%)/);for(const J of X)if(J)if(/^%%IMG:/.test(J))s.push(J.replace(/^%%IMG:/,"").replace(/%%$/,""));else if(/^%%ACTION_BTN:/.test(J))s.push(J.replace(/^%%ACTION_BTN:/,"").replace(/%%$/,""));else if(/^%%NAV_BTN:/.test(J))s.push(J.replace(/^%%NAV_BTN:/,"").replace(/%%$/,""));else if(/^%%IFRAME_NODE:/.test(J))s.push(J.replace(/^%%IFRAME_NODE:/,"").replace(/%%$/,""));else{if(!this.isNonEmptyHtmlSegment(J))continue;const Z=this.processHtmlColorsPreserveHtml(J),re=Z.match(/<p[^>]*>[\s\S]*?<\/p>/gi);if(re&&re.length>1)for(const be of re){const ie=be.replace(/^<p[^>]*>|<\/p>$/gi,"").trim();if(!ie.replace(/&nbsp;|\s+/g,"").trim())continue;const oe=this.builder.createRichTextNode(ie,"paragraph");if(be.includes("data-storymaps"))for(const Ne of d)!Ne.richNodeId&&be.includes(`data-storymaps="${Ne.actionId}"`)&&(Ne.richNodeId=oe);s.push(oe)}else{let be=Z;/^<p[^>]*>[\s\S]*?<\/p>$/.exec(Z.trim())&&(be=Z.trim().replace(/^<p[^>]*>|<\/p>$/gi,"").trim());const se=this.builder.createRichTextNode(be,"paragraph");if(Z.includes("data-storymaps"))for(const oe of d)!oe.richNodeId&&Z.includes(`data-storymaps="${oe.actionId}"`)&&(oe.richNodeId=se);s.push(se)}}continue}const S=this.stripHtml(g).trim();S&&s.push(this.builder.createTextNode(S,"paragraph"))}}detectVideoProvider(i){if(!i)return{provider:"unknown"};const s=/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([A-Za-z0-9_-]{6,})(?:[&#?].*)?$/i.exec(i);if(s)return{provider:"youtube",id:s[1]};const l=/(?:vimeo\.com\/(?:video\/)?)(\d+)(?:[&#?].*)?$/i.exec(i);return l?{provider:"vimeo",id:l[1]}:{provider:"unknown"}}parseSwipeAppId(i){try{const s=new URL(i,"https://example.com");return s.searchParams.get("appid")||s.searchParams.get("appId")||void 0}catch{return/[?&#](?:appid|appId)=([a-f0-9]{32})/i.exec(i)?.[1]}}parseSwipeLayoutFromUrl(i){try{const l=(new URL(i,"https://example.com").searchParams.get("layout")||"").toLowerCase();return l.includes("spyglass")?"spyglass":l.includes("swipe")?"swipe":void 0}catch{return}}fetchClassicSwipeDataSync(i){try{const s=`https://www.arcgis.com/sharing/rest/content/items/${i}/data?f=json`,l=this.token?`${s}&token=${encodeURIComponent(this.token)}`:s,o=yu(`curl -sL '${l}'`,{encoding:"utf-8"});return JSON.parse(o)}catch{return}}tryBuildSwipeNodeFromUrl(i){const s=this.parseSwipeAppId(i);if(!s||typeof window<"u")return;const l=this.fetchClassicSwipeDataSync(s);if(!l||!l.values)return;const d=this.parseSwipeLayoutFromUrl(i)||(String(l.values.layout||"").toLowerCase().includes("spyglass")?"spyglass":"swipe");try{const f=dr.buildInlineSwipeBlock(this.builder,l.values,d,this.token);try{const p=this.builder.getJson(),m=p.nodes[f];if(m&&m.type==="swipe"){const y=m.data?.contents||{},g=[];for(const b of["0","1"]){const S=y[b];(!S||!p.nodes[S])&&g.push(b)}if(g.length){const b=l.values,S=String(b.dataModel||"").toUpperCase(),w={...y};if(S==="TWO_LAYERS"){const E=String(b.webmap||"");if(E){const N=this.builder.addWebMapResource(E,"Web Map",{},"default"),q=Array.isArray(b.layers)?b.layers:[],O=this.builder.createWebMapNode(N,void 0),D=this.builder.createWebMapNode(N,void 0);if(q.length>=2){const B=q[0],K=q[1];this.builder.updateNodeData(O,X=>{X.mapLayers=[{id:B.id,title:B.title||B.id,visible:!0},{id:K.id,title:K.title||K.id,visible:!1}]}),this.builder.updateNodeData(D,X=>{X.mapLayers=[{id:B.id,title:B.title||B.id,visible:!1},{id:K.id,title:K.title||K.id,visible:!0}]})}w[0]=O,w[1]=D}}else{const E=[];if(Array.isArray(b.webmaps))for(const O of b.webmaps)typeof O=="string"?E.push(O):O&&typeof O=="object"&&"id"in O&&E.push(String(O.id));else b.webmap&&E.push(String(b.webmap));const[N,q]=E;if(N){const O=this.builder.addWebMapResource(N,"Web Map",{},"default");w[0]=this.builder.createWebMapNode(O,void 0)}if(q){const O=this.builder.addWebMapResource(q,"Web Map",{},"default");w[1]=this.builder.createWebMapNode(O,void 0)}}this.builder.updateNode(f,E=>{E.data||(E.data={}),E.data.contents=w})}}}catch{}return f}catch{return}}};function zu(u){const i=u.values||{},s=i.settings||{};let l;return typeof i.templateName=="string"&&i.templateName.trim()&&(l=i.templateName),typeof i.template=="string"&&i.template.trim()&&(l=i.template),i.template&&typeof i.template=="object"&&typeof i.template.name=="string"&&(l=i.template.name),l?$0(l):!l&&s&&s.components?"Crowdsource":Array.isArray(i.series)?"Map Series":i.tabs||Array.isArray(i.tabs)?"Shortlist":i.order&&Array.isArray(i.order)?"Map Tour":i.dataModel||i.layers||i.webmaps?"Swipe":i.components&&i.components.contribute?"Crowdsource":i.story&&Array.isArray(i.story.sections)?i.story.sections.some(d=>d.type==="sequence")?"Cascade":"Map Journal":"Basic"}function $0(u){const i=u.toLowerCase();return i.includes("journal")?"Map Journal":i.includes("tour")?"Map Tour":i.includes("series")?"Map Series":i.includes("cascade")?"Cascade":i.includes("shortlist")?"Shortlist":i.includes("swipe")?"Swipe":i.includes("crowdsource")?"Crowdsource":i.includes("basic")?"Basic":u}class ig{static async transferBatch(i){const{urls:s,storyId:l,username:o,token:d,progress:f,uploader:p,isCancelled:m}=i,y={};for(let g=0;g<s.length;g++){if(m&&m())throw new Error("Conversion cancelled by user intervention");const b=s[g];f({stage:"media",message:`Transferring media ${g+1}/${s.length}`,current:g+1,total:s.length});try{if(m&&m())throw new Error("Conversion cancelled by user intervention");const S=await p(b,l,o,d);S.transferred&&(y[S.originalUrl]=S.resourceName)}catch{}}if(m&&m())throw new Error("Conversion cancelled by user intervention");return y}}class sg{static apply(i,s){for(const[l,o]of Object.entries(i.resources))if(o.type==="image"){const d=o,f=d.data.src;f&&s[f]&&(d.data.resourceId=s[f],delete d.data.src,d.data.provider="item-resource")}for(const l of Object.values(i.nodes))if(l.type==="image"){const o=l;if(o.data.src){const d=o.data.src,f=Object.entries(i.resources).find(([p,m])=>m.type==="image"&&m.data.src===d)?.[0];f&&(o.data={...o.data,image:f},delete o.data.src,delete o.data.resourceId,delete o.data.provider)}}return i}static rewriteImageUrlsToProxy(i,s){for(const l of Object.values(i.resources))if(l.type==="image"){const o=l,d=o.data.src,f=o.data.resourceId;d&&!f&&(o.data.src=`${s}?url=${encodeURIComponent(d)}`)}for(const l of Object.values(i.nodes))if(l.type==="image"){const o=l,d=o.data.src,f=o.data.image;d&&!f&&(o.data.src=`${s}?url=${encodeURIComponent(d)}`)}return i}}const q0=["name","Name","NAME","title","Title","TITLE"],V0=["description","Description","DESCRIPTION","desc","Desc","DESC","desc1","Desc1","DESC1","caption","Caption","CAPTION","FULL_Caption"],G0=["pic_url","Pic_url","PIC_URL","url","Url","URL"],F0=["thumb_url","Thumb_url","THUMB_URL"],J0=["long","Long","LONG","LON","longitude","Longitude","LONGITUDE","x"],Y0=["lat","Lat","LAT","latitude","Latitude","LATITUDE","y"];let X0=class vu extends Uu{builder;uploaded={};mediaUrls=new Set;places=[];geometries={};constructor(i){super(i),this.builder=new ju(i.themeId)}extractStructure(){this.emit("MapTour: extractStructure (no sections list)")}async convertContent(){const i=this.classicJson.values||{},s=i.title||"Untitled Story",l=i.subtitle||"",o=this.themeId==="auto"?K0(i,"summit"):this.themeId;this.builder.createStoryRoot(),this.builder.addCoverNode(s,l),this.builder.addNavigationHidden(),this.builder.addCreditsNode(),this.builder.applyTheme({themeId:o});const d=Array.isArray(i.places)?i.places:[],f=Array.isArray(i.order)?i.order:d.map(O=>({id:O.id,visible:O.visible!==!1})),p={};d.forEach(O=>{O.id!==void 0&&(p[O.id]=O)});const m=f.map(O=>p[O.id]).filter(Boolean).map(O=>({...O,visible:f.find(D=>D.id===O.id)?.visible!==!1}));let y;for(let O=0;O<m.length;O++){const D=m[O],B=String(D.id??O),K=ji(D,G0),X=ji(D,F0);if(K){this.mediaUrls.add(K);const J=this.builder.addImageResource(K);this.uploaded[B]={...this.uploaded[B]||{},imageUrl:K,imageResId:J},this.inlineUpload&&this.uploader&&this.storyId&&this.username&&this.token&&this.tryInlineUpload(K,J).catch(()=>{})}if(X){this.mediaUrls.add(X);const J=this.builder.addImageResource(X);this.uploaded[B]={...this.uploaded[B]||{},thumbUrl:X,thumbResId:J},this.inlineUpload&&this.uploader&&this.storyId&&this.username&&this.token&&this.tryInlineUpload(X,J).catch(()=>{})}}for(let O=0;O<m.length;O++){const D=m[O],B=String(D.id??O),K=ji(D,q0)||`Place ${O+1}`,X=ji(D,V0)||"",J=this.uploaded[B]?.imageResId,Z=this.uploaded[B]?.thumbResId;O===0&&i.firstRecordAsIntro&&J&&(y=J);const re=[];J&&re.push(this.builder.createImageNode(J,void 0,void 0,"standard")),Z&&re.push(this.builder.createImageNode(Z,void 0,void 0,"standard"));const pe=re.length?this.builder.createCarouselNode(re):void 0,be=this.builder.createTextNode(K,"h3","wide"),ie=this.builder.createTextNode(X,"paragraph","wide"),se=this.builder.newNodeId();let oe=Q0(D);!oe&&D.geometry&&typeof D.geometry.x=="number"&&typeof D.geometry.y=="number"&&(oe=Z0(D.geometry.x,D.geometry.y)),oe&&(this.geometries[se]={id:se,type:"POINT_NUMBERED_TOUR",nodes:[{long:oe.long,lat:oe.lat}],viewpoint:{},scale:4514}),this.places.push({id:this.builder.newNodeId(),featureId:se,contents:[ie],media:pe,title:be,config:D.visible===!1?{isHidden:!0}:void 0})}const g=this.builder.createTourMapNode(this.geometries,i.webmap),b="#f9f794",S={"three-panel":{tourType:"guided-tour",subtype:"media-focused"},"side-panel":{tourType:"guided-tour",subtype:"media-focused"},integrated:{tourType:"guided-tour",subtype:"map-focused"}};let w,E;if(this.places.length>15)w="explorer",E="grid";else{const O=S[i.layout||"integrated"]||S.integrated;w=O.tourType,E=O.subtype}const N=i.placardPosition==="end"?"end":"start",q=this.builder.createTourNode(this.places,g,b,N,"large",w,E);this.builder.addChild(this.builder.getStoryRootId(),g),this.builder.addChild(this.builder.getStoryRootId(),q),y&&this.builder.setStoryMeta(s,l,y),this.inlineUpload&&(!this.storyId||!this.token||!this.uploader)&&this.emit("MapTour inlineUpload requested but missing storyId/token/uploader  falling back to URI resources"),this.emit(`MapTour: built ${this.places.length} place(s); layout=${i.layout||"integrated"} mapped to ${w}/${E}`)}applyTheme(){this.emit("MapTour: applyTheme (no overrides)")}collectMedia(){return Array.from(this.mediaUrls)}getStoryMapJson(){return this.builder.getJson()}static convert(i){const s=zu(i.classicJson);if(!/tour/i.test(s))throw new Error("MapTourConverter invoked for non Map Tour template");return new vu(i).convert()}async tryInlineUpload(i,s){if(!(!this.uploader||!this.storyId||!this.username||!this.token))try{const l=await this.uploader(i,this.storyId,this.username,this.token);l.transferred&&l.resourceName?(this.builder.finalizeImageResourceAsItem(s,l.resourceName),this.emit(`Inline upload success for ${i}`)):this.emit(`Inline upload skipped/not transferred for ${i}`)}catch(l){this.emit(`Inline upload error for ${i}: ${l.message}`)}}static async convertInline(i){return new vu({...i,inlineUpload:!0}).convert()}};function ji(u,i){for(const s of i){const l=u&&u[s];if(l!=null&&String(l).trim())return String(l).trim()}}function Q0(u){const i=u||{},s=ji(i,J0),l=ji(i,Y0),o=Number(s),d=Number(l);if(!isNaN(o)&&!isNaN(d)&&Math.abs(o)<=180&&Math.abs(d)<=90)return{long:o,lat:d}}function Z0(u,i){if(Math.abs(u)<=180&&Math.abs(i)<=90)return{long:u,lat:i};const s=6378137,l=u/s*180/Math.PI;let o=i/s*180/Math.PI;if(o=180/Math.PI*(2*Math.atan(Math.exp(o*Math.PI/180))-Math.PI/2),!isNaN(l)&&!isNaN(o)&&Math.abs(l)<=180&&Math.abs(o)<=90)return{long:l,lat:o}}function K0(u,i){try{const s=u.settings?.theme?.colors?.themeMajor;return s==="dark"?"obsidian":s==="light"?"summit":i}catch{return i}}async function Em(){if(typeof fetch>"u")throw new Error("Global fetch unavailable in this environment");return fetch}let W0=class ks{static async create(i){const s=()=>{if(i.isCancelled&&i.isCancelled())throw new Error("Conversion cancelled by user intervention")},l=zu(i.classicJson);switch(i.progress({stage:"convert",message:`ConverterFactory detected template: ${l}`}),s(),l.toLowerCase()){case"map tour":case"tour":{const o=X0.convert({classicJson:i.classicJson,themeId:i.themeId,progress:i.progress}),d=Object.values(o.storymapJson.resources).some(f=>f.type==="webmap");return d&&i.enrichMaps!==!1?(s(),await ks.enrichWebMaps(o.storymapJson,i.progress,i.isCancelled)):d&&i.progress({stage:"convert",message:"Map Tour web map enrichment skipped (enrichMaps=false)."}),i.enrichScenes!==!1?(s(),await ks.enrichWebScenes(o.storymapJson,i.progress,i.isCancelled)):i.progress({stage:"convert",message:"Map Tour web scene enrichment disabled (enrichScenes=false)."}),o}case"map journal":case"journal":default:{const o=H0.convert({classicJson:i.classicJson,themeId:i.themeId,progress:i.progress});return i.enrichMaps!==!1?(s(),await ks.enrichWebMaps(o.storymapJson,i.progress,i.isCancelled)):i.progress({stage:"convert",message:"Web map enrichment disabled (enrichMaps=false)."}),i.enrichScenes!==!1?(s(),await ks.enrichWebScenes(o.storymapJson,i.progress,i.isCancelled)):i.progress({stage:"convert",message:"Web scene enrichment disabled (enrichScenes=false)."}),o}}}static async enrichWebScenes(i,s,l){const o=()=>{if(l&&l())throw new Error("Conversion cancelled by user intervention")},d=[];for(const[f,p]of Object.entries(i.resources)){const m=p.data||{};p.type==="webmap"&&m.itemType==="Web Scene"&&m.type==="minimal"&&typeof m.itemId=="string"&&d.push({id:f,itemId:m.itemId,data:m})}d.length&&(s({stage:"convert",message:`Enriching ${d.length} Web Scene resource(s)...`}),await Promise.all(d.map(async f=>{try{o();const p=`https://www.arcgis.com/sharing/rest/content/items/${f.itemId}/data?f=json`,m=await Em();o();const y=await m(p);if(!y.ok)throw new Error(`HTTP ${y.status}`);const g=await y.json();o();const b=g.view?.camera?{camera:g.view.camera,rotation:g.view.rotation,scale:g.view.scale,targetGeometry:g.view.targetGeometry}:void 0,S=g.baseMap?.baseMapLayers?.map(J=>({id:J.id,title:J.title,url:J.url,opacity:J.opacity,visibility:J.visibility,layerType:J.layerType,isReference:!!J.isReference}))||[],w=g.operationalLayers?.map(J=>({id:J.id,title:J.title,visible:J.visibility}))||[],N=(g.presentation?.slides||g.slides||[]).map(J=>({id:J.id,title:J.title||J.name||"",index:J.index,visibleLayers:(J.visibleLayers||[]).map(Z=>({id:Z.id})),camera:J.viewpoint?.camera||J.camera,viewpoint:J.viewpoint?{camera:J.viewpoint.camera,rotation:J.viewpoint.rotation,scale:J.viewpoint.scale}:void 0})),q=g.initialState?.view?.extent||g.view?.extent,O=g.initialState?.view?.center||g.view?.center,D=g.environment?.lighting?.date||void 0,B=g.environment?.weather?{type:g.environment.weather.type,cloudCover:g.environment.weather.cloudCover}:void 0,K=g.environment?.ground?.opacity,X=i.resources[f.id];X&&(X.data={itemId:f.itemId,itemType:"Web Scene",type:"default",extent:q,center:O,viewpoint:b,baseMap:{baseMapLayers:S},mapLayers:w,lightingDate:D,weather:B,ground:{opacity:K},environment:g.environment||void 0,slides:N,raw:{summary:{hasCamera:!!b,baseMapLayerCount:S.length,operationalLayerCount:w.length}}}),o(),s({stage:"convert",message:`Enriched Web Scene ${f.itemId}`})}catch(p){s({stage:"convert",message:`Web Scene enrichment failed for ${f.itemId}: ${p.message}`})}})))}static async enrichWebMaps(i,s,l){const o=()=>{if(l&&l())throw new Error("Conversion cancelled by user intervention")},d=[];for(const[f,p]of Object.entries(i.resources)){const m=p.data||{};p.type==="webmap"&&m.itemType==="Web Map"&&m.type==="minimal"&&typeof m.itemId=="string"&&d.push({id:f,itemId:m.itemId,data:m})}d.length&&(s({stage:"convert",message:`Enriching ${d.length} Web Map resource(s)...`}),await Promise.all(d.map(async f=>{try{o();const p=`https://www.arcgis.com/sharing/rest/content/items/${f.itemId}/data?f=json`,m=await Em();o();const y=await m(p);if(!y.ok)throw new Error(`HTTP ${y.status}`);const g=await y.json();o();const b=g.baseMap?.baseMapLayers?.map(B=>({id:B.id,title:B.title,url:B.url,opacity:B.opacity,visibility:B.visibility,layerType:B.layerType,isReference:!!B.isReference}))||[],S=g.operationalLayers?.map(B=>({id:B.id,title:B.title,visible:B.visibility}))||[],w=B=>B?.initialState?.view?.extent||B?.mapOptions?.extent||B?.extent||B?.mapOptions?.mapExtent||void 0,E=B=>B?.initialState?.view?.center||B?.mapOptions?.center||B?.center||void 0;let N=w(g),q=E(g);const O=B=>{if(!B)return B;if(Array.isArray(B)&&B.length>=2){const[K,X]=B;return{x:K,y:X,spatialReference:{wkid:4326}}}return B};if(q=O(q),!N||typeof N!="object"&&!Array.isArray(N)){const B=`https://www.arcgis.com/sharing/rest/content/items/${f.itemId}?f=json`,K=await m(B);if(K.ok){const X=await K.json();if(Array.isArray(X.extent)&&X.extent.length===2&&Array.isArray(X.extent[0])&&Array.isArray(X.extent[1])){const[[J,Z],[re,pe]]=X.extent;N={xmin:J,ymin:Z,xmax:re,ymax:pe,spatialReference:{wkid:4326}}}!q&&X.center&&Array.isArray(X.center)&&(q=O(X.center))}}const D=i.resources[f.id];if(D){const B=D.data||{},K=B.raw||{};D.data={...B,itemId:f.itemId,itemType:"Web Map",type:"default",extent:N??B.extent,center:q??B.center,baseMap:{baseMapLayers:b},mapLayers:S,raw:{...K,summary:{baseMapLayerCount:b.length,operationalLayerCount:S.length}}}}o(),s({stage:"convert",message:`Enriched Web Map ${f.itemId}`})}catch(p){s({stage:"convert",message:`Web Map enrichment failed for ${f.itemId}: ${p.message}`})}})))}};function P0(u){const i=[],s=[];if(!u)return i.push("StoryMapJSON is null/undefined"),{errors:i,warnings:s};u.root||i.push("Missing root node id"),(!u.nodes||!Object.keys(u.nodes).length)&&i.push("No nodes present in JSON");const l=new Set(Object.keys(u.nodes||{})),o=new Set(Object.keys(u.resources||{}));if(u.root){const d=u.nodes[u.root];d?d.type!=="story"&&i.push(`Root node type expected 'story' but found '${d.type}'`):i.push("Root node id does not resolve to a node object"),d?.data&&d.data.metaSettings&&i.push("metaSettings should have been stripped from root story node")}for(const[d,f]of Object.entries(u.nodes)){if(!f){i.push(`Node '${d}' is null/undefined`);continue}if(f.type||i.push(`Node '${d}' missing required 'type' property`),Array.isArray(f.children))for(const p of f.children)l.has(p)||i.push(`Node '${d}' references missing child '${p}'`);if(f.type==="webmap"){const p=f.config?.size;p?["standard","wide"].includes(p)||s.push(`WebMap node '${d}' has unexpected size '${p}'`):i.push(`WebMap node '${d}' missing config.size`),f.data&&Object.prototype.hasOwnProperty.call(f.data,"scale")&&i.push(`WebMap node '${d}' still has deprecated data.scale`);const m=f.data?.map;m&&!o.has(m)&&i.push(`WebMap node '${d}' references missing resource '${m}'`)}else if(f.type==="text"){f.data&&!Object.prototype.hasOwnProperty.call(f.data,"textAlignment")&&i.push(`Text node '${d}' missing data.textAlignment`);const p=f.data?.text;(typeof p!="string"||!p.length)&&s.push(`Text node '${d}' has empty/missing text content`)}else if(f.type==="image"){const p=f.data?.image;p?o.has(p)||i.push(`Image node '${d}' references missing resource '${p}'`):i.push(`Image node '${d}' missing data.image resource reference`)}else if(f.type==="video"){const p=f.data?.video;p&&!o.has(p)&&s.push(`Video node '${d}' references missing resource '${p}'`)}else if(f.type==="embed"){const p=f.data;(!p||!p.url&&!p.embedSrc)&&s.push(`Embed node '${d}' missing url/embedSrc`)}else if(f.type==="tour"){const p=f.data;if(!p)i.push(`Tour node '${d}' missing data object`);else{["type","subtype","map","places","accentColor"].forEach(y=>{y in p||i.push(`Tour node '${d}' missing data.${y}`)}),Array.isArray(p.places)&&!p.places.length&&s.push(`Tour node '${d}' has empty places array`);const m=p.map;m&&!l.has(m)&&i.push(`Tour node '${d}' references missing map node '${m}'`)}}else if(f.type==="tour-map"){const p=f.data;p?("geometries"in p||s.push(`Tour-map node '${d}' missing data.geometries`),"mode"in p||s.push(`Tour-map node '${d}' missing data.mode`)):i.push(`Tour-map node '${d}' missing data`)}}for(const[d,f]of Object.entries(u.resources||{})){if(!f){i.push(`Resource '${d}' is null/undefined`);continue}if(f.type||i.push(`Resource '${d}' missing type`),f.type==="webmap"){const p=f.data;p?.itemId||i.push(`WebMap resource '${d}' missing data.itemId`),["Web Map","Web Scene"].includes(p?.itemType)||s.push(`WebMap resource '${d}' unexpected itemType '${p?.itemType}'`),p.initialState&&p.initialState.scale&&i.push(`WebMap resource '${d}' initialState still contains scale`)}if(f.type==="image"){const p=f.data;!p.src&&!p.resourceId&&s.push(`Image resource '${d}' missing src/resourceId`)}}if(Array.isArray(u.actions))for(const d of u.actions){const f=d?.origin,p=d?.target;f&&!l.has(f)&&i.push(`Action references missing origin node '${f}'`),p&&!l.has(p)&&i.push(`Action references missing target node '${p}'`)}return{errors:i,warnings:s}}function eS(u){const i=[];if(i.push(`Assertion Report: ${u.errors.length} error(s), ${u.warnings.length} warning(s)`),u.errors.length){i.push("Errors:");for(const s of u.errors)i.push("  - "+s)}if(u.warnings.length){i.push("Warnings:");for(const s of u.warnings)i.push("  - "+s)}return i.join(`
`)}async function bu(u){const i=()=>{if(u.isCancelled&&u.isCancelled())throw u.progress({stage:"error",message:"Cancellation requested  aborting."}),new Error("Conversion cancelled by user intervention")},s={classicItemId:u.classicItemId,storyId:u.storyId,username:u.username,token:u.token,themeId:u.themeId,progress:u.progress};u.progress({stage:"convert",message:"[Refactor] Starting converter factory..."}),i();const l=await W0.create({classicJson:u.classicJson,themeId:u.themeId,progress:p=>u.progress(p),enrichScenes:u.enrichScenes,isCancelled:u.isCancelled});i(),u.progress({stage:"media",message:"[Refactor] Transferring media..."}),i();const o=await ig.transferBatch({urls:l.mediaUrls,storyId:s.storyId,username:s.username,token:s.token,progress:s.progress,uploader:u.uploader,isCancelled:u.isCancelled});i(),u.progress({stage:"finalize",message:"[Refactor] Applying media mapping..."}),i();const d=sg.apply(l.storymapJson,o),f=P0(d);if(f.errors.length)throw u.progress({stage:"error",message:"[Refactor] Assertion errors detected. Aborting."}),new Error(eS(f));return f.warnings.length&&u.progress({stage:"warn",message:`[Refactor] Assertions warnings: ${f.warnings.length}`}),u.progress({stage:"done",message:"[Refactor] Conversion pipeline complete."}),{storymapJson:d,mediaMapping:o}}function tS(u){const i=new URLSearchParams;for(const[s,l]of Object.entries(u))typeof l=="string"&&l.length&&i.set(s,l);return i.toString()}async function aS(u,i){const l=`/.netlify/functions/convert-mapjournal?${tS({itemId:u,token:i})}`;try{const o=await fetch(l,{method:"GET"});if(!o.ok)throw new Error(`Backend conversion not available: ${o.status}`);const d=await o.json();if(d&&d.storymapJson&&Array.isArray(d.mediaUrls))return d;if(d&&d.values)return{storymapJson:d,mediaUrls:[]};throw new Error("Unexpected backend response shape")}catch(o){throw o}}async function Am(u){const i=await fetch(u);if(!i.ok)throw new Error(`Fetch failed: ${i.status} ${i.statusText}`);return i.json()}async function nS(u,i){const s=[],l=[],o=Array.from(new Set(u.filter(f=>/^[a-f0-9]{32}$/i.test(f))));for(const f of o)try{const p=`https://www.arcgis.com/sharing/rest/content/items/${f}`,m=`${p}/data?f=json${i?`&token=${encodeURIComponent(i)}`:""}`,y=`${p}?f=json${i?`&token=${encodeURIComponent(i)}`:""}`,[g,b]=await Promise.all([Am(m).catch(()=>null),Am(y).catch(()=>null)]);if(!b){s.push({itemId:f,level:"error",message:"Webmap item not accessible (404 or permission). Please verify the item exists and you have access."});continue}const S=b?.title||b?.name||"",w=[],E=g&&(g.version||g.itemVersion)||b&&(b.itemVersion||b.version);if(E&&typeof E=="string"){const D=parseFloat(E);!Number.isNaN(D)&&D<2&&s.push({itemId:f,level:"warning",message:`Webmap version ${E} < 2.0. Open in Classic Map Viewer and save to upgrade.`})}const N=g?.operationalLayers||[],q=g?.baseMap?.baseMapLayers||[],O=[];for(const D of N)D?.url&&O.push({url:D.url,title:D.title,layerItemId:D.itemId,layerTitle:D.title});for(const D of q)D?.url&&O.push({url:D.url,title:D.title});for(const{url:D,title:B,layerItemId:K,layerTitle:X}of O){/^http:\/\//i.test(D)&&(w.push({url:D,error:"HTTP URL (use HTTPS)",title:B,layerItemId:K,layerTitle:X}),l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:D,ok:!1,errorCategory:"mixed-content",errorMessage:"HTTP URL (use HTTPS)"}),typeof window<"u"&&window.location?.protocol==="https:"&&(w.push({url:D,error:"Mixed content risk on HTTPS",title:B,layerItemId:K,layerTitle:X}),l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:D,ok:!1,errorCategory:"mixed-content",errorMessage:"Mixed content risk on HTTPS"})));const J=typeof window<"u"&&window.location?.hostname?/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname):!1,Z=D.split("?")[0],re=`${Z}${Z.includes("?")?"":"?"}${Z.includes("?")?"&":""}f=json`,pe=/(FeatureServer|MapServer)\/\d+$/i.test(Z)?Z.replace(/\/(FeatureServer|MapServer)\/\d+$/i,"/$1"):Z,be=`${pe}${pe.includes("?")?"":"?"}${pe.includes("?")?"&":""}f=json`,ie=_=>`/.netlify/functions/proxy-feature?url=${encodeURIComponent(_)}`,se=J?ie(re):re,oe=J?ie(be):be,Ne=async _=>{for(let U=0;U<2;U++)try{const I=await fetch(_,{method:"GET"});if(!I.ok)return{ok:!1,resp:I,json:null};const Y=I.headers.get("content-type")||"",P=/application\/(?:json|pjson)/i.test(Y)?await I.clone().json().catch(()=>null):null;return{ok:!0,resp:I,json:P}}catch{if(U===1)return{ok:!1,resp:void 0,json:null};await new Promise(I=>setTimeout(I,150))}return{ok:!1,resp:void 0,json:null}},ee=await Ne(se),x=await Ne(oe),H=!!ee.resp&&ee.resp.ok,ae=!!x.resp&&x.resp.ok,ce=H&&!!ee.json&&!ee.json?.error,W=ae&&!!x.json&&!x.json?.error;if(ee.ok&&ee.json){const _=ee.json?.error?.message||ee.json?.message||"",U=/token/i.test(_)||ee.json?.error?.code===499,I=/permission|privilege|authorized|do not have permissions|not permitted/i.test(_)||ee.json?.error?.code===403;U&&w.push({url:D,status:ee.resp?.status,error:"Token required",title:B,layerItemId:K,layerTitle:X}),I&&w.push({url:D,status:ee.resp?.status,error:"Permissions denied or item private",title:B,layerItemId:K,layerTitle:X});const Y=typeof ee.json?.type=="string"||typeof ee.json?.geometryType=="string"||Array.isArray(ee.json?.fields)||Array.isArray(ee.json?.layers),ne=!!ee.json?.error;!Y&&!ne&&!W&&w.push({url:D,status:ee.resp?.status,error:"Invalid layer definition",title:B,layerItemId:K,layerTitle:X}),ne&&w.push({url:D,status:ee.resp?.status,error:"Layer error JSON",title:B,layerItemId:K,layerTitle:X});const P=ee.resp?.headers?.get("content-type")||"";/application\/(?:json|pjson)/i.test(P)||(w.push({url:D,status:ee.resp?.status,error:"Non-JSON response",title:B,layerItemId:K,layerTitle:X}),l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:D,status:ee.resp?.status,ok:!1,errorCategory:"non-json",errorMessage:"Non-JSON response"})),ee.json||(w.push({url:D,status:ee.resp?.status,error:"JSON parse failed",title:B,layerItemId:K,layerTitle:X}),l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:D,status:ee.resp?.status,ok:!1,errorCategory:"json-error",errorMessage:"JSON parse failed"}))}if(!ce){const _=ee.resp?.status,U=ee.json?.error?ee.json.error.message||"Layer error JSON":void 0;w.push({url:D,status:_,error:U||"Layer endpoint not healthy",title:B,layerItemId:K,layerTitle:X}),l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:D,status:_,ok:!1,errorCategory:U?"json-error":"other",errorMessage:U||"Layer endpoint not healthy"})}if(x.ok&&x.json?.error){const _=x.json?.error?.message||x.json?.message||"",U=/permission|privilege|authorized|do not have permissions|not permitted/i.test(_)||x.json?.error?.code===403;w.push({url:pe,status:x.resp?.status,error:U?"Service permissions denied or item private":"Service error JSON",title:B,layerItemId:K,layerTitle:X}),l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:pe,status:x.resp?.status,ok:!1,errorCategory:U?"permission-denied":"json-error",errorMessage:U?"Service permissions denied or item private":"Service error JSON"})}if(H||(w.push({url:D,status:ee.resp?.status,error:"Layer HTTP failure",title:B,layerItemId:K,layerTitle:X}),l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:D,status:ee.resp?.status,ok:!1,errorCategory:"http-failure",errorMessage:"Layer HTTP failure"})),ae||(w.push({url:pe,status:x.resp?.status,error:"Service HTTP failure",title:B,layerItemId:K,layerTitle:X}),l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:pe,status:x.resp?.status,ok:!1,errorCategory:"http-failure",errorMessage:"Service HTTP failure"})),x.ok&&x.json&&!x.json.error){const _=x.json,U=typeof _.currentVersion=="number"||typeof _.currentVersion=="string",I=typeof _.capabilities=="string"||Array.isArray(_.capabilities);(!U||!I)&&(w.push({url:pe,status:x.resp?.status,error:"Service missing capabilities/version",title:B,layerItemId:K,layerTitle:X}),l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:pe,status:x.resp?.status,ok:!1,errorCategory:"other",errorMessage:"Service missing capabilities/version"}))}ce&&l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:D,status:ee.resp?.status,ok:!0,errorCategory:"ok"}),W&&l.push({webmapId:f,webmapTitle:S,layerTitle:X,layerItemId:K,url:pe,status:x.resp?.status,ok:!0,errorCategory:"ok"})}for(const D of N)if(D?.itemId&&/^[a-f0-9]{32}$/i.test(D.itemId)){const B=`https://www.arcgis.com/sharing/rest/content/items/${D.itemId}?f=json${i?`&token=${encodeURIComponent(i)}`:""}`;try{const K=await fetch(B);if(K.ok){const X=await K.json();if(X.error){const J=X.error?.code,Z=X.error?.message||"",re=J===403||/permission|privilege|authorized|not permitted/i.test(Z);w.push({url:B,status:K.status,error:re?"Layer item private or permission denied":"Layer item error JSON",title:D.title,layerItemId:D.itemId,layerTitle:D.title})}}else{const X=K.status,J=X===404?"Layer item deleted":X===403?"Layer item private or permission denied":"Layer item not accessible";w.push({url:B,status:X,error:J,title:D.title,layerItemId:D.itemId,layerTitle:D.title})}}catch{w.push({url:B,error:"Layer item unreachable",title:D.title,layerItemId:D.itemId,layerTitle:D.title})}}w.length&&s.push({itemId:f,level:"warning",message:`Webmap ${S?'"'+S+'" ':""}has ${w.length} failing endpoint(s).`,details:{webmapTitle:S,failures:w}})}catch{s.push({itemId:f,level:"warning",message:"Failed to validate webmap. Proceeding, but please check the item manually."})}const d={};for(const f of l){const p=f.errorCategory||(f.ok?"ok":"other");d[p]=(d[p]||0)+1}return{warnings:s,endpointChecks:l,endpointCategorySummary:d}}const Ws="https://www.arcgis.com/sharing/rest";async function wm(u,i){const s=`${Ws}/content/items/${u}/data?f=json&token=${i}`,l=await fetch(s);if(!l.ok)throw new Error(`Failed to fetch item data: ${l.statusText}`);return l.json()}async function iS(u,i){const s=`${Ws}/content/items/${u}?f=json&token=${i}`,l=await fetch(s);if(!l.ok)throw new Error(`Failed to fetch item details: ${l.statusText}`);return l.json()}async function sS(u,i,s,l){const o=`${Ws}/content/users/${i}/items/${u}/removeResources`,d=new URLSearchParams;d.append("resource",s),d.append("f","json"),d.append("token",l);const f=await fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:d.toString()});if(!f.ok)throw new Error(`Failed to remove resource: ${f.statusText}`);return f.json()}async function lg(u,i,s,l,o){const d=`${Ws}/content/users/${i}/items/${u}/addResources`,f=new FormData;f.append("file",s,l),f.append("fileName",l),f.append("f","json"),f.append("token",o);const p=await fetch(d,{method:"POST",body:f}),m=await p.json();if(console.log("[addResource] Upload API response:",m),!p.ok||!m.success)throw new Error(`Failed to add resource: ${m.error?.message||p.statusText}`);return m}async function lS(u,i,s,l){const o=`${Ws}/content/users/${i}/items/${u}/update`,d=new URLSearchParams;d.append("typeKeywords",JSON.stringify(s)),d.append("f","json"),d.append("token",l);const f=await fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:d.toString()});if(!f.ok)throw new Error(`Failed to update item keywords: ${f.statusText}`);return f.json()}function rS(u){const i=u.typeKeywords||[];for(const s of i)if(s.startsWith("smdraftresourceid:"))return s.substring(18);return null}class oS{constructor(i,s="summit"){this.classicJson=i,this.themeId=s,this.builder=new StoryMapJSONBuilder(s),this.classicType=this.detectType()}}const cS=["summit","obsidian","mesa","ridgeline","tidal","slate"],uS={h1:"h2",h2:"h3",h3:"h4",p:"paragraph",blockquote:"quote"},dS={left:"start",center:"center",right:"end"},fS={video:"video",webpage:"link"};function rg(){const u=Ct(),i=Ct(),s=Ct(),l=Ct(),o=ag();return{root:u,nodes:{[i]:{type:"storycover",data:{type:"minimal",title:"",summary:"",byline:"",titlePanelVerticalPosition:"top",titlePanelHorizontalPosition:"start",titlePanelStyle:"gradient"}},[s]:{type:"navigation",data:{links:[]},config:{isHidden:!0}},[l]:{type:"credits",children:[]},[u]:{type:"story",data:{storyTheme:o},config:{coverDate:""},children:[i,s,l]}},resources:{[o]:{type:"story-theme",data:{themeId:"summit",themeBaseVariableOverrides:{}}}}}}function og(u="",i="",s=""){const l=Ct(),o=Ct(),d=Ct(),f=Ct(),p={[o]:{type:"text",data:{text:u,type:"h4",textAlignment:"start"},config:{size:"wide"}},[d]:{type:"text",data:{text:i,type:"paragraph",textAlignment:"start"},config:{size:"wide"}},[f]:{type:"attribution",data:{content:"",attribution:s}},[l]:{type:"credits",children:[o,d,f]}};return{creditsId:l,childIds:[o,d,f],nodes:p}}function Tr(u,i="paragraph",s="start"){return{type:"text",data:{type:i,text:u,textAlignment:s},config:{size:"wide"}}}function Xs(u,i,s,l="standard",o="start"){const d={type:"image",data:{image:u},config:{size:l}};return l==="float"&&(d.config.floatAlignment=o),i&&i.trim()&&(d.data.caption=i),s&&s.trim()&&(d.data.alt=s),d}function mr(u,i=!1,s=1024,l=1024){return i?{type:"image",data:{resourceId:u.split("/").pop()||u,provider:"item-resource",height:l,width:s}}:{type:"image",data:{src:u,provider:"uri",height:l,width:s}}}function Su(u,i,s,l,o){const d={type:"webmap",config:{size:"standard"},data:{map:u}};return o&&(d.data.mapLayers=o.map(f=>({id:f.id,title:f.title||"",visible:f.visible!==void 0?f.visible:!0}))),i&&(d.data.extent=i),s&&(d.data.viewpoint=s),l!==void 0&&(d.data.zoom=l),d}function Er(u,i="Web Map"){return{type:"webmap",data:{type:"minimal",itemId:u,itemType:i}}}function _u(u,i="video",s="card",l,o,d,f,p,m){const y={type:"embed",config:{size:"standard"},data:{url:u,display:s,embedType:i,isEmbedSupported:!0,embedSrc:u,allowSmallEmbeds:!0}};return l&&(y.data.caption=l),o&&(y.data.alt=o),d&&(y.data.title=d),f&&(y.data.description=f),p&&(y.data.thumbnailUrl=p),m&&(y.data.providerUrl=m),y}function Cm(u,i,s,l="square-dynamic"){const o={type:"gallery",config:{size:"standard"},data:{galleryLayout:l},children:u};return i&&i.trim()&&(o.data.caption=i),s&&s.trim()&&(o.data.alt=s),o}function hS(){return{type:"separator",data:{}}}function pS(u="docked-panel"){const i=Ct(),s=Ct(),l=Ct(),o={[i]:{type:"immersive",data:{type:"sidecar",subtype:u},children:[s]},[s]:{type:"immersive-slide",data:{transition:"fade"},children:[l]},[l]:{type:"immersive-narrative-panel",data:{position:"start",size:"small",panelStyle:"themed"},children:[]}};return{sidecarId:i,slideId:s,narrativeId:l,nodes:o}}function mS(u,i,s){u.nodes[i].children||(u.nodes[i].children=[]),u.nodes[i].children.push(s)}function Om(u,i){const s=u.nodes[u.root];s.children||(s.children=[]);const l=s.children.findIndex(o=>u.nodes[o]?.type==="credits");l!==-1?s.children.splice(l,0,i):s.children.push(i)}function gS(u,i,s="",l="",o){const f=u.nodes[u.root].children?.[0];if(f){const p=u.nodes[f];p.data={type:o?"full":"minimal",title:i,summary:s,byline:l,titlePanelVerticalPosition:"top",titlePanelHorizontalPosition:"start",titlePanelStyle:"gradient"},o&&(p.data.image=o)}}function yS(u,i){for(const[s]of Object.entries(u.resources))if(s.type==="story-theme"){cS.includes(i)?(s.data.themeId=i,delete s.data.themeItemId):(s.data.themeItemId=i,delete s.data.themeId);break}}function vS(u,i="2d",s="name",l="worldImagery",o){return{type:"tour-map",data:{geometries:u,mode:i,basemap:{type:s,value:l}}}}function bS(u){return{type:"carousel",children:u.slice(0,5)}}function SS(u,i,s,l="start",o,d,f){return{type:"tour",data:{type:d,subtype:f,narrativePanelPosition:l,map:i,places:u,narrativePanelSize:o,accentColor:s}}}let Dr=class{constructor(i="summit"){this.localImages=[],this.storymap=rg()}getStorymap(){return this.storymap}getJson(){return this.storymap}addNode(i,s){const l=Ct();return this.storymap.nodes[l]=i,s?mS(this.storymap,s,l):Om(this.storymap,l),l}createDetachedNode(i){const s=Ct();return this.storymap.nodes[s]=i,s}createNarrativePanelDetached(){const i=Ct();return this.storymap.nodes[i]={type:"immersive-narrative-panel",data:{panelStyle:"themed"},children:[]},i}addTextDetached(i,s="paragraph",l="start",o=!0){const d=Tr(i,s,l),f=this.createDetachedNode(d);return o&&(this.storymap.nodes[f].config={size:"wide"}),f}async addImageDetached(i,s,l,o="wide"){let d=1024,f=1024;console.log("[addImageDetached] Checking image dimensions for:",i);try{const b=await L0(i);if(console.log("[addImageDetached] getImageDimensions returned:",b),d=b.width,f=b.height,!d||!f){const S=i.match(/__w(\d+)\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/i);S&&(d=parseInt(S[1],10),f=d,console.log("[addImageDetached] Fallback to filename width:",d))}else console.log("[addImageDetached] No width found in filename, using default 1024")}catch(b){console.warn("[addImageDetached] Could not get image dimensions for",i,b);const S=i.match(/__w(\d+)\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/i);S?(d=parseInt(S[1],10),f=d,console.log("[addImageDetached] Fallback to filename width in catch:",d)):console.log("[addImageDetached] No width found in filename in catch, using default 1024")}console.log("[addImageDetached] Final width/height for",i,d,f);const p=mr(i,!0,d,f),m=this.addResource(p),y=Xs(m,s,l,o),g=this.createDetachedNode(y);return o==="wide"&&(this.storymap.nodes[g].config={size:"wide"}),g}addSlideToSidecar(i,s,l){if(!this.storymap.nodes[i])throw new Error("Invalid sidecarId");const o=this.createNarrativePanelDetached();l&&l.length&&(this.storymap.nodes[o].children=l);const d=Ct();return this.storymap.nodes[d]={type:"immersive-slide",data:{transition:"fade"},children:s?[o,s]:[o]},this.storymap.nodes[i].children.push(d),{slideId:d,narrativeId:o}}addResource(i){const s=ag();return this.storymap.resources[s]=i,s}addText(i,s="paragraph",l="start",o){const d=Tr(i,s,l);return this.addNode(d,o)}addImage(i,s,l,o="standard",d="start",f,p=!1){const m=mr(i,p),y=this.addResource(m),g=Xs(y,s,l,o,d);return this.addNode(g,f)}addMap(i,s,l,o,d,f="Web Map",p){const m=Er(i,f),y=this.addResource(m),g=Su(y,s,l,o,d);return{nodeId:this.addNode(g,p),resourceId:y}}addEmbed(i,s="video",l="card",o,d,f,p,m,y,g){const b=_u(i,s,l,o,d,f,p,m,y);return this.addNode(b,g)}addEmbedDetached(i,s="video",l="card",o,d,f,p,m,y){const g=_u(i,s,l,o,d,f,p,m,y);return this.createDetachedNode(g)}addMapDetached(i,s,l,o,d,f="Web Map"){const p=Er(i,f),m=this.addResource(p),y=Su(m,s,l,o,d);return{nodeId:this.createDetachedNode(y),resourceId:m}}addGallery(i,s,l,o="square-dynamic",d,f=!1){const p=[];for(const y of i){const g=this.addImage(y,void 0,void 0,"standard","start",void 0,f);p.push(g)}const m=Cm(p,s,l,o);return this.addNode(m,d)}async addGalleryDetached(i,s,l,o="square-dynamic",d=!1){const f=[];for(const m of i){const y=await this.addImageDetached(m,void 0,void 0,"standard","start",d);f.push(y)}const p=Cm(f,s,l,o);return this.createDetachedNode(p)}addSeparator(i){const s=hS();return this.addNode(s,i)}addSidecar(i="docked-panel"){const{sidecarId:s,slideId:l,narrativeId:o,nodes:d}=pS(i);return Object.assign(this.storymap.nodes,d),Om(this.storymap,s),{sidecarId:s,slideId:l,narrativeId:o}}setCover(i,s="",l="",o){let d;if(o){const f=mr(o);d=this.addResource(f)}gS(this.storymap,i,s,l,d)}setTheme(i){yS(this.storymap,i)}getLocalImages(){return this.localImages}};function _S(u){return u.includes("www.arcgis.com/sharing/rest/content")||u.includes("//www.arcgis.com/sharing/rest/content")}function TS(u){const i=u.split("/resources/");if(i.length>1){const l=i[1].split("?")[0];return decodeURIComponent(l)}return u.split("/").pop()?.split("?")[0]||"image.jpg"}function ES(u,i){const s=["jpg","jpeg","png","gif","webp","bmp","tif","tiff"];let l=i;if(!l){const d=u.split(".").pop()||"";l=s.includes(d.toLowerCase())?d.toLowerCase():"jpg"}return l==="jpeg"&&(l="jpg"),l==="tiff"&&(l="tif"),`${Math.random().toString(36).substring(2,15)}.${l}`}function iu(u){if(!u)return".jpg";const i=u.toLowerCase();return[".jpg",".jpeg",".png",".gif",".webp",".bmp",".tif",".tiff"].includes(i)?i===".jpeg"?".jpg":i===".tiff"?".tif":i:".jpg"}function AS(u,i,s){if(s){const o=/filename="?([^";]+)"?/i.exec(s);if(o){const f=o[1].toLowerCase().match(/\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/);if(f)return f[0].replace(".jpeg",".jpg").replace(".tiff",".tif")}}const l=u.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/);if(l)return l[0].replace(".jpeg",".jpg").replace(".tiff",".tif");if(i&&/^image\//i.test(i)){const o=i.split("/")[1].toLowerCase();return["jpg","jpeg","png","gif","webp","bmp","tiff","tif"].includes(o)?"."+(o==="jpeg"?"jpg":o==="tiff"?"tif":o):".jpg"}return".bin"}async function wS(u,i){const s=i?`${u}?token=${encodeURIComponent(i)}`:u,l=await fetch(s);if(!l.ok)throw new Error(`Image fetch failed ${l.status}`);const o=l.headers.get("content-disposition")||void 0,d=l.headers.get("content-type")||void 0,f=l.url,p=await l.blob(),m=AS(f,d,o);return{blob:p,extension:m}}async function qs(u,i,s,l,o){try{console.log("[transferImage] Starting transfer:",{imageUrl:u,filename:o,targetItemId:i});const d=TS(u);let f=".jpg",p;try{const y=await wS(u,_S(u)?l:void 0);p=y.blob,f=iu(y.extension)}catch(y){console.warn("[transferImage] Primary fetch failed, trying proxy:",{imageUrl:u,error:y}),p=await CS(u);const g=d.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/);f=iu(g?g[0]:".jpg")}/^\.(jpg|png|gif|webp|bmp|tif)$/i.test(f)||(f=".jpg");let m;if(o){const y=o.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/);if(y){const g=iu(y[0]);m=o.replace(/\.[^.]+$/i,g)}else m=`${o}${f}`}else m=ES(d,f.replace(".",""));return console.log("[transferImage] Uploading to AGO:",{newResourceName:m,blob:p}),await lg(i,s,p,m,l),console.log("[transferImage] Transfer successful:",{imageUrl:u,newResourceName:m}),{originalUrl:u,resourceName:m,isTransferred:!0}}catch(d){return console.error("[transferImage] Transfer failed:",{imageUrl:u,error:d}),{originalUrl:u,resourceName:u,isTransferred:!1}}}async function cg(u,i,s,l,o){console.log("[transferImages] Starting batch transfer:",{imageUrls:u,targetItemId:i});const d=[];for(let f=0;f<u.length;f++){const p=u[f],m=await qs(p,i,s,l);d.push(m)}return d}async function CS(u){const s=/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname)?`/.netlify/functions/proxy-image?url=${encodeURIComponent(u)}`:u,l=await fetch(s);if(!l.ok)throw new Error("Failed to fetch image (proxy/direct)");return await l.blob()}function OS(u){const i=new Set;if(u.resources){for(const s of Object.values(u.resources))if(s.type==="image"){const l=s.data?.url||s.data?.src;l&&i.add(l)}}return Array.from(i)}function xS(u){const i=new Set,s=u.values?.story?.sections||[];for(const l of s){l.media&&l.media.type==="image"&&l.media.image?.url&&i.add(l.media.image.url);const o=l.content||l.contents||"",d=new DOMParser().parseFromString(o,"text/html");for(const f of Array.from(d.querySelectorAll("img"))){const p=f.getAttribute("src");p&&i.add(p)}}return Array.from(i)}function xm(u){if(!u)return;const i=u.match(/__w(\d+)\.(jpg|jpeg|png|gif|webp|bmp|tif|tiff)$/i);return i?parseInt(i[1],10):void 0}function DS(u,i){console.log("[updateImageResourcesInJson] Entering");const s=l=>{let o=decodeURIComponent(l);return o.startsWith("//")&&(o="https:"+o),o};if(console.log("[updateImageResourcesInJson] storymapJson:",u),!u.resources)return console.log("[updateImageResourcesInJson] No resources in storymapJson!"),u;for(const[l,o]of Object.entries(u.resources)){if(console.log("[updateImageResourcesInJson] Resource:",o),o.type!=="image")continue;const d=o.data.url||o.data.src;if(!d){console.log("[updateImageResourcesInJson] SKIPPING: No url or src for",l,o);continue}console.log("[updateImageResourcesInJson] Original URL",d);const f=Object.keys(i).find(p=>s(p)===s(d));if(console.log("[updateImageResourcesInJson] MatchKey",f),f){const p=i[f],m=xm(d);console.log("[updateImageResourcesInJson] transferred resource:",{resourceId:l,originalUrl:d,transferredName:p,widthFromOriginal:m}),o.data.resourceId=p,delete o.data.url,delete o.data.src,o.data.provider="item-resource",o.data.width=m||1024,o.data.height=m||1024}else{const p=xm(d);console.log("[updateImageResourcesInJson] WARNING external image:",{resourceId:l,originalUrl:d,widthFromOriginal:p}),o.data.provider="uri",o.data.width=p||1024,o.data.height=p||1024}}return u}class MS{constructor(i,s="summit",l,o,d){this.classicJson=i,this.themeId=s,this.builder=new Dr(s),this.username=l,this.token=o,this.targetStoryId=d,tg(this.classicJson,"cascade")}async convert(){const i=this.classicJson.values?.sections||[];if(i.length===0)throw new Error("Cascade story has no sections");for(const f of i)this.processSection(f);this.builder.setTheme(this.themeId);let s=this.builder.getJson();const l=OS(s),o=await cg(l,this.targetStoryId,this.username,this.token),d={};for(const f of o)d[f.originalUrl]=f.resourceName;return s=updateImageUrlsInJson(s,d),this.builder.getJson()}processSection(i){switch(i.type){case"cover":this.processCover(i);break;case"sequence":this.processSequence(i);break;case"immersive":this.processImmersive(i);break;case"title":this.processTitle(i);break;case"credits":og(i);break}}processCover(i){const s=i.foreground||{},l=i.background||{},o=s.title||"Untitled Story",d=s.subtitle||"",f=l.type;let p;if(f==="image"){const m=l.image?.url;m&&(p=m)}this.builder.setCover(o,d,"",p)}processSequence(i){const l=(i.foreground||{}).blocks||[];for(const o of l)this.processBlock(o)}processImmersive(i){const{sidecarId:s,slideId:l,narrativeId:o}=this.builder.addSidecar("floating-panel"),d=i.views||[];let f=!1;for(const p of d){const m=this.processImmersiveBackground(p),y=[];if(!f){const b=p.foreground?.title?.value||"";if(b){const S=this.builder.addTextDetached(b,"h2","start");y.push(S),f=!0}}const g=p.foreground?.panels||[];for(const b of g){const S=b.blocks||[];for(const w of S){const E=this.processBlock(w,!0);y.push(...E)}}this.builder.addSlideToSidecar(s,m,y)}if(d.length>0){const p=this.builder.getJson(),m=p.nodes[s];if(m.children){const y=m.children.indexOf(l);y!==-1&&m.children.splice(y,1)}delete p.nodes[l],delete p.nodes[o]}}processImmersiveBackground(i){const s=i.background||{},l=s.type;if(l==="image"){const o=s.image?.url||"",d=mr(o),f=this.builder.addResource(d),p=Xs(f);return this.builder.createDetachedNode(p)}else if(l==="video"||l==="webpage"){const o=s[l]||{};let d=o.url||"";d=Sa(d);const f=l==="video"?"video":"link",p=o.caption,m=o.altText,y=o.title,g=o.description,b=$s(d),S=_u(d,f,"inline",p,m,y,g,void 0,b);return this.builder.createDetachedNode(S)}else if(l==="webmap"){const o=s.webmap||{};return this.createDetachedMapNode(o,"Web Map")}else if(l==="webscene"){const o=s.webscene||{};return this.createDetachedMapNode(o,"Web Scene")}}createDetachedMapNode(i,s){const l=i.id,o=i.extent,d=i.layers||[];let f,p;if(o&&s==="Web Map"){const S=vn(o);S&&(f={targetGeometry:o,scale:S.scale},p=S.zoom)}let m;d.length>0&&(m=d.map(S=>({id:S.id,visible:S.visibility!==void 0?S.visibility:!1})));const y=Er(l,s),g=this.builder.addResource(y),b=Su(g,o,f,p,m);return this.builder.createDetachedNode(b)}processTitle(i){const s=i.foreground||{},l=i.background||{},o=s.title||"";if(o&&this.builder.addText(o,"h2","center"),l.type==="image"){const d=l.image?.url;d&&this.builder.addImage(d,void 0,void 0,"float")}else this.builder.addSeparator()}processBlock(i,s=!1){switch(i.type){case"text":return this.processTextBlock(i,s);case"image":return this.processImageBlock(i,s);case"video":return this.processVideoBlock(i,s);case"webpage":return this.processWebpageBlock(i,s);case"webmap":return this.processWebmapBlock(i,s);case"webscene":return this.processWebsceneBlock(i,s);case"image-gallery":return this.processGalleryBlock(i,s);default:return[]}}processTextBlock(i,s=!1){const o=(i.text||{}).value||"";if(!o)return[];const f=new DOMParser().parseFromString(o,"text/html"),p=f.body.firstElementChild;if(!p)return[];const m=p.tagName.toLowerCase(),y=uS[m]||"paragraph";let g="center";if(m==="p"){const q=p.getAttribute("style")||"";if(q){const O=q.match(/text-align:\s*([^;]+)/);if(O){const D=O[1].trim();g=dS[D]||"start"}else g="start"}else g="start"}p.querySelectorAll("span").forEach(q=>{if((q.getAttribute("style")||"").includes("color")){const D=q.parentNode;for(;q.firstChild;)D?.insertBefore(q.firstChild,q);D?.removeChild(q)}}),p.querySelectorAll("br").forEach(q=>{q.replaceWith(`
`)}),p.removeAttribute("style"),p.querySelectorAll("b").forEach(q=>{const O=f.createElement("strong");for(;q.firstChild;)O.appendChild(q.firstChild);q.replaceWith(O)}),p.querySelectorAll("i").forEach(q=>{const O=f.createElement("em");for(;q.firstChild;)O.appendChild(q.firstChild);q.replaceWith(O)});let N;if(m==="p"?N=p.innerHTML:N=p.outerHTML,pr(N)){const q=s?this.builder.addTextDetached(N,y,g):this.builder.addText(N,y,g);return s?[q]:[]}return[]}processImageBlock(i,s=!1){const l=i.image||{},o=l.url||"",d=l.caption,f=l.altText;if(o)if(d){const p=d.replace(/"/g,""),m=s?this.builder.addImageDetached(o,p,f):this.builder.addImage(o,p,f);return s?[m]:[]}else{const p=s?this.builder.addImageDetached(o,void 0,f):this.builder.addImage(o,void 0,f);return s?[p]:[]}return[]}processVideoBlock(i,s=!1){const l=i.video||{},o=Sa(l.url||""),d=l.caption,f=l.altText,p=l.title,m=l.description,y=$s(o),g=s?this.builder.addEmbedDetached(o,"video","inline",d,f,p,m,void 0,y):this.builder.addEmbed(o,"video","inline",d,f,p,m,void 0,y);return s?[g]:[]}processWebpageBlock(i,s=!1){const l=i.webpage||{},o=Sa(l.url||""),d=l.caption,f=l.altText,p=l.title,m=l.description,y=$s(o),g=s?this.builder.addEmbedDetached(o,"link","card",d,f,p,m,void 0,y):this.builder.addEmbed(o,"link","card",d,f,p,m,void 0,y);return s?[g]:[]}processWebmapBlock(i,s=!1){const l=i.webmap||{},o=s?this.createDetachedMapNode(l,"Web Map"):this.createMapNode(l,"Web Map");return s?[o]:[]}processWebsceneBlock(i,s=!1){const l=i.webscene||{},o=s?this.createDetachedMapNode(l,"webscene"):this.createMapNode(l,"webscene");return s?[o]:[]}createMapNode(i,s){const l=i.id,o=i.extent,d=i.layers||[];let f,p;if(o&&s==="Web Map"){const g=vn(o);g&&(f={targetGeometry:o,scale:g.scale},p=g.zoom)}let m;d.length>0&&(m=d.map(g=>({id:g.id,visible:g.visibility!==void 0?g.visibility:!1})));const{nodeId:y}=this.builder.addMap(l,o,f,p,m,s);return y}processGalleryBlock(i,s=!1){const l=i["image-gallery"]||{},o=l.images||[],d=l.caption,f=l.altText,p=[];for(const m of o){const y=m.url||"";y&&p.push(y)}if(p.length>0){const m=s?this.builder.addGalleryDetached(p,d,f,"square-dynamic"):this.builder.addGallery(p,d,f,"square-dynamic");return s?[m]:[]}return[]}getLocalImages(){return this.builder.getLocalImages()}}class RS{constructor(i,s="summit"){this.classicJson=i,this.themeId=s,this.builder=new StoryMapJSONBuilder(s),this.classicType=this.detectType()}}console.log("[MapJournalConverter] File loaded");class NS{constructor(i,s="summit",l,o,d){console.log("[MapJournalConverter] Constructor called"),this.classicJson=i,this.themeId=s,this.builder=new Dr(s),this.username=l,this.token=o,this.targetStoryId=d,tg(this.classicJson,"mapjournal")}async convert(i,s,l){console.log("[MapJournalConverter] Entering convert()");const o=this.classicJson.values?.title||"Untitled Story",{sidecarId:d,slideId:f,narrativeId:p}=this.builder.addSidecar("docked-panel");this.builder.getJson().nodes[d].data.narrativePanelPosition="start",this.builder.getJson().nodes[d].data.narrativePanelSize="small";const m=this.classicJson.values?.story?.sections||[],y=m.length>0;console.log("[MapJournalConverter] # of Journal sections",m.length);for(const w of m)await this.processSection(w,d);if(y){const w=this.builder.getJson(),E=w.nodes[d],N=E.children.indexOf(f);N>-1&&E.children.splice(N,1),delete w.nodes[f],delete w.nodes[p]}this.builder.setCover(`${o}`),console.log("[MapJournalConverter] Cover set"),this.builder.setTheme(this.themeId),console.log("[MapJournalConverter] Theme set");let g=this.builder.getJson();console.log("[MapJournalConverter] Beginning image transfer");const b=xS(this.classicJson);console.log("[MapJournalConverter] imageUrls:",b);const S={};return b.length>0&&this.token&&this.token!==this.username&&((await cg(b,this.targetStoryId,this.username,this.token)).forEach(E=>S[E.originalUrl]=E.resourceName),console.log("[MapJournalConverter] Transfer complete"),console.log("[MapJournalConverter] Transfer results",S),g=DS(g,S)),g}async processSection(i,s){const l=this.processSectionMedia(i),o=await this.buildNarrative(i);this.builder.addSlideToSidecar(s,l,o)}async buildNarrative(i){const s=[],l=i.title||"";if(l){const p=l.replace(/&nbsp;/g,"").trim();if(pr(p)){const m=this.builder.addTextDetached(p,"h2","start",!0);s.push(m)}}const o=i.content||"";if(!o)return s;const f=new DOMParser().parseFromString(o,"text/html");for(const p of Array.from(f.body.children)){const m=await this.extractElementNodes(p);s.push(...m)}return s}async extractElementNodes(i){const s=[];if(i.tagName==="FIGURE"){const l=i.querySelector("figure figure");if(l)return this.extractElementNodes(l);const o=i.querySelector("img");if(o){const d=o.getAttribute("src")||"",f=o.getAttribute("alt")||void 0,p=i.querySelector("figcaption");let m;if(p){const y=p.innerHTML.replace(/&nbsp;/g," ").trim();y.length>0&&(m=y)}s.push(await this.builder.addImageDetached(d,m,f,"wide"))}return s}if(i.tagName==="FIGCAPTION")return s;if(i.tagName==="IMG"){const l=i.getAttribute("src")||"",o=i.getAttribute("alt")||void 0;return s.push(await this.builder.addImageDetached(l,void 0,o,"wide")),s}if(i.tagName==="P"){for(const o of i.querySelectorAll("img")){const d=o.getAttribute("src")||"",f=o.getAttribute("alt")||void 0;s.push(await this.builder.addImageDetached(d,void 0,f,"wide"))}let l=_r(i.innerHTML);return/^(\s|&nbsp;|<br\s*\/?>)*$/i.test(l)||(l=l.replace(/&nbsp;/g," ").trim(),pr(l)&&s.push(this.builder.addTextDetached(l,"paragraph","start",!0))),s}if(i.classList.contains("image-container")||i.classList.contains("caption")){for(const l of Array.from(i.children)){const o=await this.extractElementNodes(l);s.push(...o)}return s}if(i.classList.contains("iframe-container")){const l=i.querySelector("iframe");if(l){let o=(l.getAttribute("src")||"").trim().replace(/\/$/,"");o=Sa(o);const d=i.classList.contains("mj-video-by-url")?"video":"link",f=d==="video"?"inline":"card",p=$s(o);s.push(this.builder.addEmbedDetached(o,d,f,void 0,void 0,l.getAttribute("title")||void 0,void 0,void 0,p,!0))}return s}if(i.tagName==="DIV"){if(i.querySelector("figure")&&!i.textContent?.trim().replace(/\u00a0/g,"")){for(const o of Array.from(i.children)){const d=await this.extractElementNodes(o);s.push(...d)}return s}let l=_r(i.innerHTML);return/^(\s|&nbsp;|<br\s*\/?>)*$/i.test(l)||(l=l.replace(/&nbsp;/g," ").trim(),pr(l)&&s.push(this.builder.addTextDetached(l,"paragraph","start",!0))),s}return s}processSectionMedia(i){const s=i.media;if(!s)return;const l=s.type;if(l==="webmap")return this.processWebmapMedia(s);if(l==="image")return this.processImageMedia(s);if(l==="video"||l==="webpage")return this.processEmbedMedia(s,l)}processWebmapMedia(i){const s=i.webmap;if(!s)return;const l=s.id,o=s.extent,d=s.layers||[];let f,p;if(o){const g=vn(o);g&&(f={targetGeometry:o,scale:g.scale},p=g.zoom)}let m;d.length>0&&(m=d.map(g=>({id:g.id,visible:g.visibility!==void 0?g.visibility:!0})));const{nodeId:y}=this.builder.addMapDetached(l,o,f,p,m,"Web Map");return y}async processImageMedia(i){const s=i.image;if(!s)return;const l=s.url||"",o=s.altText||void 0,d=s.caption||void 0;return await this.builder.addImageDetached(l,d,o)}processEmbedMedia(i,s){const l=i[s];if(!l)return;let o=l.url||"";if(l.frameTag){const E=new DOMParser().parseFromString(l.frameTag,"text/html").querySelector("iframe");E?.src&&(o=E.src)}o=Sa(o.trim().replace(/\/$/,""));const d=fS[s]||"link",f=l.altText,p=l.title,m=l.description,y=l.caption,g=$s(o);return this.builder.addEmbedDetached(o,d,"inline",y,f,p,m,void 0,g)}getLocalImages(){return this.builder.getLocalImages()}}class US{constructor(i,s="summit"){this.classicJson=i,this.themeId=s}convert(){const i=this.classicJson.values||{},s=i.story?.entries||[],l=i.title||"Untitled Story",o=i.subtitle||"",f=i.settings?.theme?.colors?.group==="dark"?"obsidian":"summit",p=s.map((y,g)=>{const b=new Dr(f);b.setCover(`(CONVERSION) ${y.title||l} [${g+1}]`,o,"",void 0,{isHidden:!0});const S=y.description||y.content||"",w=k0(S),E=b.addTextDetached(w,"paragraph","start");let N;return y.media&&(N=this.processMedia(y.media,b)),b.addSlideToSidecar(N,[E]),b.setTheme(f),b.getJson()}),m={title:`(CONVERSION) ${l}`,description:o,theme:f,items:p.map((y,g)=>({title:y.rootTitle||`Entry ${g+1}`,id:y.root}))};return{storymaps:p,collection:m}}async processMedia(i,s){const l=i.type;if(l==="image"&&i.image?.url){const o=Sa(i.image.url);return await s.addImageDetached(o,i.image.caption,i.image.alt,"wide")}else if(l==="webmap"&&i.webmap?.id){const o=i.webmap.id,d=i.webmap.extent,f=i.webmap.layers||[];return s.addMapDetached(o,d,void 0,void 0,f,"webmap").nodeId}else if(l==="webpage"&&i.webpage?.url){const o=Sa(i.webpage.url);return s.addEmbedDetached(o,"link","inline",i.webpage.caption,i.webpage.alt,i.webpage.title,i.webpage.description,void 0,void 0)}}}var jS={};const Dm=typeof import.meta<"u"&&"/.netlify/functions"||jS.VITE_PROXY_BASE_URL||"",zS=["pic_url","Pic_url","PIC_URL","url","Url","URL"],LS=["thumb_url","Thumb_url","THUMB_URL"],IS=["name","Name","NAME","title","Title","TITLE"],kS=["description","Description","DESCRIPTION","desc","Desc","DESC","desc1","Desc1","DESC1","caption","Caption","CAPTION","FULL_Caption"],BS=["long","Long","LONG","LON","longitude","Longitude","LONGITUDE","x"],HS=["lat","Lat","LAT","latitude","Latitude","LATITUDE","y"];class $S{constructor(i,s="summit",l="",o="",d=""){this.uploadedResources={},console.log("[MapTourConverter] Constructor targetStoryId:",d),this.classicJson=i,this.themeId=s,this.username=l,this.token=o,this.targetStoryId=d,this.builder=new Dr(s),this.detectTheme()}detectTheme(){try{const i=this.classicJson.values?.settings?.theme?.colors?.themeMajor,s={dark:"obsidian",light:"summit"};i&&s[i]&&(this.themeId=s[i])}catch{}}getRootNodeId(){return this.builder.getStorymap().root}setRootChildren(i){this.builder.getStorymap().nodes[this.getRootNodeId()].children=i}getStorymapId(){return console.log("[MapTourConverter] getStorymapId:",this.targetStoryId),this.targetStoryId}stripHtml(i){return i.replace(/<[^>]*>/g,"")}summarize(i,s=240){const l=this.stripHtml(i).replace(/\s+/g," ").trim();return l?l.length>s?l.slice(0,s).trim()+"":l:""}async convert(){const s=this.classicJson.values||{},l=s.layout||"integrated",o=s.title||"Untitled Story",d=s.subtitle||"",f=s.placardPosition||"start",p=s.firstRecordAsIntro===!0,m="#f9f794",y=await this.extractFeatures(),g=[],b=this.getRootNodeId(),S=this.builder.getStorymap().nodes,w=Object.keys(S).find(Q=>S[Q]?.type==="storycover"),E=Object.keys(S).find(Q=>S[Q]?.type==="navigation"),{creditsId:N,childIds:q,nodes:O}=og("","","");Object.assign(S,O),w&&g.push(w),E&&g.push(E);const D=S[b].children||[],B=D.find(Q=>S[Q]?.type==="credits"&&Q!==N);if(B){delete S[B];const Q=D.indexOf(B);Q!==-1&&D.splice(Q,1)}const K=y.map(Q=>({id:this.getFeatureId(Q.attributes),...Q.attributes,geometry:Q.geometry})),X=Array.isArray(s.order)?s.order:[];let J;if(X.length>0&&K.length>0){const Q=Object.fromEntries(K.map(V=>[String(V.id),V]));J=X.map(V=>{const de=Q[String(V.id)];if(de)return{...de,visible:V.visible!==!1}}).filter(Boolean)}else J=K;const Z={};for(const Q of y){const V=this.getFeatureId(Q.attributes);V&&(Z[V]=Q)}const re=J.map(Q=>Z[String(Q.id)]).filter(Boolean);console.log("Number of places:",re.length);for(let Q=0;Q<re.length;Q++){const V=re[Q],de=this.getFeatureId(V.attributes);if(!de)continue;const Te=V.attributes||{},ye=Mi(Te,Array.from(zS),""),ct=Mi(Te,Array.from(LS),""),Pe=this.generateUniqueFilename(de,"image",ye),At=ct?this.generateUniqueFilename(de,"thumb",ct):"";let pt;if(ye)if(!this.targetStoryId||!this.token)pt=this.builder.addResource({type:"image",data:{src:Sa(ye),provider:"uri",height:1024,width:1024}});else{console.log("[MapTourConverter] Preparing to transfer image:",{imageUrl:ye,imageFilename:Pe});const Fe=await this.transferSingleImage(ye,Pe);console.log("[MapTourConverter] Image transfer result:",Fe),pt=this.builder.addResource({type:"image",data:{resourceId:Fe.resourceName,provider:"item-resource",height:1024,width:1024}}),console.log("[MapTourConverter] Added image resource:",{imageResourceId:pt,resourceName:Fe.resourceName})}let Dt;this.uploadedResources[de]={imageUrl:ye,thumbUrl:ct,imageFilename:Pe,thumbFilename:At,imageResourceId:pt,thumbResourceId:Dt}}const pe=[],be={};let ie,se,oe;for(let Q=0;Q<re.length;Q++){const V=re[Q],de=V.attributes||{},Te=this.getFeatureId(de),ye=Mi(de,Array.from(IS),`Place ${Q+1}`),ct=Mi(de,Array.from(kS),""),Pe=J[Q]?.visible!==!1,At=this.getFeatureCoords(V);if(!At)continue;let{long:pt,lat:Dt}=At;this.isWebMercator(pt,Dt)&&([pt,Dt]=this.webMercatorToWgs84(pt,Dt));const Fe=Te?this.uploadedResources[Te]:void 0,ra=Fe?.imageResourceId?this.builder.createDetachedNode(Xs(Fe.imageResourceId,void 0,void 0,"standard","start")):void 0,Mt=Fe?.thumbResourceId?this.builder.createDetachedNode(Xs(Fe.thumbResourceId,void 0,void 0,"standard","start")):void 0,_a=[];ra&&_a.push(ra),Mt&&_a.push(Mt),Q===0&&Fe?.imageResourceId&&(ie=Fe.imageResourceId);const Sn=this.builder.createDetachedNode(bS(_a)),Ze=this.builder.createDetachedNode(Tr(ye,"h3","start")),Se=this.builder.createDetachedNode(Tr(ct,"paragraph","start")),xe=[Se];Q===0&&(se=ye,oe=ct);const Ae=I0();At&&At.long!==void 0&&At.lat!==void 0&&(be[Ae]={id:Ae,type:"POINT_NUMBERED_TOUR",nodes:[{long:pt,lat:Dt}],scale:4514,viewpoint:{}}),ra&&g.push(ra),Mt&&g.push(Mt),g.push(Sn),g.push(Ze),g.push(Se),pe.push({id:Ct(),featureId:Ae,contents:xe,media:Sn,title:Ze,config:Pe?void 0:{isHidden:!0}})}const Ne=this.classicJson.webmapJson||s.webmapJson||{},ee=this.classicJson.webmap||s.webmap,x=vS(be);if(Ne&&typeof Ne.version=="string"&&parseFloat(Ne.version)<2){const Q=Ne.baseMap?.title?.toLowerCase()||"topographic";x.data.basemap={type:"name",value:Q}}else if(ee){const Q=this.builder.addResource(Er(ee));x.data.basemap={type:"resource",value:Q}}const H=this.builder.createDetachedNode(x),ae={"three-panel":{tourType:"guided-tour",subtype:"media-focused"},"side-panel":{tourType:"guided-tour",subtype:"media-focused"},integrated:{tourType:"guided-tour",subtype:"map-focused"}};let ce,W;if(pe.length>15)ce="explorer",W="grid";else{const Q=ae[l]||{tourType:"explorer",subtype:"grid"};ce=Q.tourType,W=Q.subtype}const _=SS(pe,H,m,f,"large",ce,W),U=this.builder.createDetachedNode(_);g.push(H),g.push(U);for(const Q of q)g.push(Q);g.push(N),g.push(b);const I=this.builder.getStorymap().nodes,Y={};for(const Q of g)I[Q]&&(Y[Q]=I[Q]);for(const Q of Object.keys(I))Y[Q]||(Y[Q]=I[Q]);this.builder.getStorymap().nodes=Y,this.setRootChildren([w,E,U,H,N].filter(Boolean));const ne=p&&se?se:o,P=p&&oe?this.summarize(oe):d;if(this.builder.setCover(`(CONVERSION) ${ne}`,P),p&&ie&&w)try{const Q=S[w];Q?.data&&(Q.data.image=ie,Q.data.type="full")}catch{}return this.builder.setTheme(this.themeId),this.builder.getJson()}async extractFeatures(){const i=this.classicJson.values||{},l=(this.classicJson.webmapJson||i.webmapJson||{}).operationalLayers||[],o=this.classicJson.sourceLayer||i.sourceLayer;if(o)for(const p of l){const m=p.id||"";if(m===o||m.includes(o)||o.includes(m)){if(p.featureCollection){for(const g of p.featureCollection.layers||[])if(g.featureSet&&Array.isArray(g.featureSet.features))return g.featureSet.features}const y=p.url||p.URL;if(y)try{const g=`${Sa(y)}/query?where=1=1&outFields=*&f=json`,b=`${Dm}/proxy-feature?url=${encodeURIComponent(g)}`,S=await fetch(b);if(S.ok){const w=await S.json();if(w.features)return w.features}}catch(g){console.error("Error fetching features from feature service:",g)}}}const d=["map tour layer","maptour-layer","maptour layer","map tour","maptour"];for(const p of l){const m=(p.title||"").toLowerCase();if(d.some(y=>m.includes(y))||/^maptour-layer/i.test(p.id||"")){if(p.featureCollection){for(const g of p.featureCollection.layers||[])if(g.featureSet&&Array.isArray(g.featureSet.features))return g.featureSet.features}const y=p.url||p.URL;if(y)try{const g=`${Sa(y)}/query?where=1=1&outFields=*&f=json`,b=`${Dm}/proxy-feature?url=${encodeURIComponent(g)}`,S=await fetch(b);if(S.ok){const w=await S.json();if(w.features)return w.features}}catch(g){console.error("Error fetching features from feature service:",g)}}}const f=i.webmap||this.classicJson.webmap;if(f)try{const p=`https://www.arcgis.com/sharing/rest/content/items/${f}/data?f=json`,m=await fetch(p);if(m.ok){const g=(await m.json()).operationalLayers||[];for(const b of g)if(b.featureCollection){for(const S of b.featureCollection.layers||[])if(S.featureSet&&Array.isArray(S.featureSet.features))return S.featureSet.features}}}catch(p){console.warn("[MapTourConverter] Live webmap fetch failed:",p.message)}return[]}getFeatureId(i){for(const s of["__OBJECTID","objectid","id","ID","FID","fid","ObjectID","Object_Id","OBJECTID","OBJECTID_1"])if(i[s]!==void 0&&i[s]!==null)return String(i[s]).trim()}isWebMercator(i,s){return Math.abs(i)>180||Math.abs(s)>90}webMercatorToWgs84(i,s){const o=i/6378137*180/Math.PI;let d=s/6378137*180/Math.PI;return d=180/Math.PI*(2*Math.atan(Math.exp(d*Math.PI/180))-Math.PI/2),[o,d]}generateUniqueFilename(i,s,l){const o=l.match(/\.([a-zA-Z0-9]+)(\?|$)/),d=o?o[1]:"jpg",f=Math.random().toString(36).substring(2,8);return`place_${i.padStart(3,"0")}_${s}_${f}.${d}`}async transferSingleImage(i,s){if(!this.getStorymapId())throw new Error("Target StoryMap item ID is missing!");return await qs(i,this.getStorymapId(),this.username,this.token,s)}getFeatureCoords(i){const s=i.attributes||{},l=Mi(s,Array.from(BS),""),o=Mi(s,Array.from(HS),""),d=Number(l),f=Number(o);if(!isNaN(d)&&!isNaN(f)&&d!==0&&f!==0)return{long:d,lat:f};if(i.geometry&&typeof i.geometry.x=="number"&&typeof i.geometry.y=="number")return{long:i.geometry.x,lat:i.geometry.y};console.warn("No valid coordinates found for feature",i)}}class qS{constructor(i,s="summit"){this.classicJson=i,this.themeId=s,this.builder=new StoryMapJSONBuilder(s),this.classicType=this.detectType()}}class VS{constructor(i,s="summit"){this.classicJson=i,this.themeId=s,this.builder=new StoryMapJSONBuilder(s),this.classicType=this.detectType()}detectType(){return"swipe"}}class GS{static getConverter(i,s="summit",l,o,d){if(!i.values)throw new Error('Invalid classic story JSON: missing "values" key');const p=eg(i);switch(p){case"maptour":return new $S(i,s,l||"",o||"",d||"");case"mapjournal":return new NS(i,s,l||"",o||"",d||"");case"mapseries":return new US(i,s,l||"",o||"",d||"");case"cascade":return new MS(i,s,l||"",o||"",d||"");case"swipe":return new VS(i,s,l||"",o||"",d||"");case"shortlist":return new qS(i,s,l||"",o||"",d||"");case"crowdsource":return new RS(i,s,l||"",o||"",d||"");case"basic":return new oS(i,s,l||"",o||"",d||"");default:throw new Error(`Unknown classic story type: ${p}`)}}}async function FS(u,i="summit",s,l,o){const d=eg(u);return["mapjournal","map tour","tour","swipe"].includes(d)?(await bu({classicJson:u,storyId:o,classicItemId:"",username:s,token:l,themeId:i,progress:g=>{},isCancelled:()=>!1,uploader:async()=>({originalUrl:"",resourceName:"",transferred:!1})})).storymapJson:await GS.getConverter(u,i,s,l,o).convert(s,l,o)}async function JS(u,i,s){const d=["StoryMap",`smdraftresourceid:${`draft_${Date.now()}.json`}`,"smstatusdraft","smeditorapp:converter-v3alpha"],f=rg(),p=new URLSearchParams({f:"json",type:"StoryMap",title:s,text:JSON.stringify(f),typeKeywords:d.join(","),token:i}),y=await(await fetch(`https://www.arcgis.com/sharing/rest/content/users/${u}/addItem`,{method:"POST",body:p})).json();if(!y.success)throw new Error(y.error?.message||"Failed to create StoryMap");return y.id}function YS(){const[u,i]=ge.useState(!1),[s,l]=ge.useState(!1),o=ge.useRef(!1),[d,f]=ge.useState(!1),[p,m]=ge.useState(!1),y=Wm(),{token:g,userInfo:b}=xr(),[S,w]=ge.useState(""),[E,N]=ge.useState("idle"),[q,O]=ge.useState(""),[D,B]=ge.useState(""),[K,X]=ge.useState("Convert"),[J,Z]=ge.useState(()=>{try{return localStorage.getItem("converter-refactor-pref")==="1"}catch{return!1}}),re=J||y,pe=()=>{if(o.current)throw new Error("Conversion cancelled by user intervention")},be=ge.useCallback(()=>{o.current||!window.confirm("Cancel conversion in progress? This will stop further processing.")||(o.current=!0,l(!0),N("error"),O("Conversion cancelled by user intervention"),i(!1),X("Convert"))},[X,O,N,i,l]);ge.useEffect(()=>{console.info(`[Converter] Pipeline selected: ${re?"refactor":"legacy"} (override=${J})`)},[re,J]),ge.useEffect(()=>{try{localStorage.setItem("converter-refactor-pref",J?"1":"0")}catch{}},[J]),ge.useEffect(()=>{const V=()=>{const de=window.innerWidth,Te="ontouchstart"in window||navigator.maxTouchPoints>0;m(de<768||Te)};return V(),window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]),ge.useEffect(()=>{if(!(!o.current&&["fetching","converting","transferring","updating"].includes(E)))return;const de=Te=>{Te.key==="Escape"&&be()};return window.addEventListener("keydown",de),()=>window.removeEventListener("keydown",de)},[E,be]);const[ie,se]=ge.useState(null),[oe,Ne]=ge.useState(null),[ee,x]=ge.useState([]),[H,ae]=ge.useState(!1),[ce,W]=ge.useState([]),[_,U]=ge.useState(null),[I,Y]=ge.useState({}),ne=()=>{const V=typeof b=="object"&&b?b:{},de=V.orgUrl||V.org?.url||"";try{if(typeof de=="string"&&de.length){const ye=new URL(de).hostname,ct=/^(.*)\.maps\.arcgis\.com$/i.exec(ye);return ct&&ct[1]?`${ct[1]}.maps.arcgis.com`:ye}}catch{}return"www.arcgis.com"},P=V=>{if(!V)return"";const de=ne();return/^[a-f0-9]{32}$/i.test(V)?`https://${de}/home/item.html?id=${V}`:""},fe=V=>/^[a-f0-9]{32}$/i.test(V.trim()),Q=async()=>{if(console.debug("[Converter] refactorActive?",re,"override?",J,"urlFlag?",y),N("idle"),O(""),B(""),X("Convert"),o.current=!1,l(!1),oe?.url&&URL.revokeObjectURL(oe.url),Ne(null),!fe(S)){N("error"),O("Incorrect Classic Story Map item id format - please enter a 32 character hex string");return}if(!g){N("error"),O("You must be signed in to ArcGIS Online or ArcGIS Enterprise");return}try{N("fetching"),O("Getting user information...");const V=b?.username||"";O("Fetching classic story data...");const de=await wm(S,g);pe();let Te=null;try{Te=zu(de),se(Te),O(`Detected template: ${Te}. Preparing resources...`)}catch{Te=null,se(null)}if(de.values?.webmap){O("Fetching classic webmap data...");const Ze=de.values?.webmap;de.webmapJson=await wm(Ze,g),pe()}O("Creating new StoryMap draft...");const ye=de.values?.title||"Untitled Story",ct=`(Converted) ${ye}`,Pe=await JS(V,g,ct);pe(),O("Mapping theme overrides (inline resource)...");const At=[];de.values?.webmap&&At.push(de.values.webmap);try{const Ze=de.values?.story?.sections||de.sections||[];for(const Se of Ze){Se?.media?.webmap?.id&&At.push(Se.media.webmap.id);const xe=Se?.media?.webpage?.url||"",me=/[?&#](?:appid|appId)=([a-f0-9]{32})/i.exec(String(xe))?.[1];if(me)try{const Ue=`https://www.arcgis.com/sharing/rest/content/items/${me}/data?f=json`,Ge=g?`${Ue}&token=${encodeURIComponent(g)}`:Ue,tt=await fetch(Ge);if(tt.ok){const Rt=await tt.json(),_n=Array.isArray(Rt?.values?.webmaps)?Rt.values.webmaps:[];for(const Qt of _n)typeof Qt=="string"&&At.push(Qt)}}catch{}}}catch{}let pt=[];try{const{warnings:Ze,endpointChecks:Se,endpointCategorySummary:xe}=await nS(At,g);pt=Ze.map(Ae=>({itemId:Ae.itemId,level:Ae.level,message:Ae.message,details:Ae&&typeof Ae=="object"&&"details"in Ae?Ae.details:void 0})),x(pt),W(Se),U(xe||null),pt.length>0&&ae(!0)}catch{}if(!o.current&&pt.length===0)try{O("Running backend diagnostics...");const Ze=`/.netlify/functions/convert-mapjournal?itemId=${S}&diagnostics=1${g?`&token=${encodeURIComponent(g)}`:""}`,Se=await fetch(Ze);if(Se.ok){const Ae=(await Se.json())?.validation||{},me=Array.isArray(Ae.warnings)?Ae.warnings:[],Ue=Array.isArray(Ae.endpointChecks)?Ae.endpointChecks:[],Ge=Ae.endpointCategorySummary||null;(me.length||Ue.some(tt=>!tt.ok))&&(x(me.map(tt=>({itemId:tt.itemId,level:tt.level,message:tt.message,details:tt.details}))),W(Ue),U(Ge))}}catch{}finally{ae(!0)}pt.length>0&&ae(!0),N("converting");const Dt=Te||ie||"story";X(`Converting ${Dt}: ${ye}...`),O(re?`[Refactor][${Dt}] Converting ${Dt}: "${ye}" via new pipeline...`:`Converting ${Dt} story to new format...`);let Fe;if(re)try{O("Requesting server-side conversion...");const Ze=await aS(S,g),Se=Ze?.storymapJson;if(Se&&Se.nodes){const xe=async(me,Ue,Ge,tt)=>{if(o.current)throw new Error("Conversion cancelled by user intervention");const Rt=await qs(me,Ue,Ge,tt);return{originalUrl:me,resourceName:Rt.resourceName,transferred:!!Rt.isTransferred}},Ae=await ig.transferBatch({urls:Ze.mediaUrls||[],storyId:Pe,username:V,token:g,progress:me=>{o.current||(N("transferring"),O(me.message))},uploader:xe,isCancelled:()=>o.current});Fe=sg.apply(Se,Ae);try{const me=Fe,Ue=me.resources||{},Ge=Object.entries(Ue).filter(([,Ke])=>Ke?.type==="image"),Rt=(Ke=>{const we=[];return async Je=>{we.length>=Ke&&await Promise.race(we);const lt=Je().finally(()=>{const oa=we.indexOf(lt);oa>-1&&we.splice(oa,1)});return we.push(lt),lt}})(6),_n=(Ke,we=2500)=>{const Je=new AbortController,lt=setTimeout(()=>Je.abort(),we);return fetch(Ke,{signal:Je.signal}).finally(()=>clearTimeout(lt))},Qt=window.location.origin,vt=Ge.map(([Ke,we])=>Rt(async()=>{const Je=we.data||{},lt=Je.src||"",oa=typeof Je.width=="number"&&typeof Je.height=="number";if(!lt||oa)return;let pa=lt;try{const at=new URL(lt);if(/arcgis\.com$/i.test(at.hostname)&&/\/sharing\/rest\/content\/items\//.test(at.pathname)&&g){const Zt=new URLSearchParams(at.search);Zt.has("token")||(Zt.set("token",g),at.search=Zt.toString(),pa=at.toString())}}catch{}const Va=`${Qt}/.netlify/functions/image-dimensions?url=${encodeURIComponent(pa)}`;try{const at=await _n(Va,2500);if(!at.ok)return;const Ye=await at.json();Ye&&(Ye.width||Ye.height)&&(Ye.width&&(Je.width=Ye.width),Ye.height&&(Je.height=Ye.height),we.data=Je,Ue[Ke]=we)}catch{}}));await Promise.all(vt),me.resources=Ue}catch{}}else{Fe=(await bu({classicJson:de,storyId:Pe,classicItemId:S,username:V,token:g,themeId:"summit",progress:me=>{if(o.current)return;const Ue=/\(\s*\d+\s*\/\s*\d+\s*\)\s*$/.test(me.message),Ge=me.total&&!Ue?`${me.message} (${me.current}/${me.total})`:me.message;switch(me.stage){case"media":N("transferring"),O(Ge);break;case"convert":N("converting"),O(Ge);break;case"finalize":N("updating"),O(Ge);break;case"error":N("error"),O(Ge);break;case"done":N("success"),O(Ge);break;default:O(Ge)}},isCancelled:()=>o.current,uploader:async(me,Ue,Ge,tt)=>{if(o.current)throw new Error("Conversion cancelled by user intervention");const Rt=await qs(me,Ue,Ge,tt);return{originalUrl:me,resourceName:Rt.resourceName,transferred:!!Rt.isTransferred}}})).storymapJson;try{const me=Fe,Ue=me.resources||{},Ge=Object.entries(Ue).filter(([,Ke])=>Ke?.type==="image"),Rt=(Ke=>{const we=[];return async Je=>{we.length>=Ke&&await Promise.race(we);const lt=Je().finally(()=>{const oa=we.indexOf(lt);oa>-1&&we.splice(oa,1)});return we.push(lt),lt}})(6),_n=(Ke,we=2500)=>{const Je=new AbortController,lt=setTimeout(()=>Je.abort(),we);return fetch(Ke,{signal:Je.signal}).finally(()=>clearTimeout(lt))},Qt=window.location.origin,vt=Ge.map(([Ke,we])=>Rt(async()=>{const Je=we.data||{},lt=Je.src||"",oa=typeof Je.width=="number"&&typeof Je.height=="number";if(!lt||oa)return;let pa=lt;try{const at=new URL(lt);if(/arcgis\.com$/i.test(at.hostname)&&/\/sharing\/rest\/content\/items\//.test(at.pathname)&&g){const Zt=new URLSearchParams(at.search);Zt.has("token")||(Zt.set("token",g),at.search=Zt.toString(),pa=at.toString())}}catch{}const Va=`${Qt}/.netlify/functions/image-dimensions?url=${encodeURIComponent(pa)}`;try{const at=await _n(Va,2500);if(!at.ok)return;const Ye=await at.json();Ye&&(Ye.width||Ye.height)&&(Ye.width&&(Je.width=Ye.width),Ye.height&&(Je.height=Ye.height),we.data=Je,Ue[Ke]=we)}catch{}}));await Promise.all(vt),me.resources=Ue}catch{}}}catch{Fe=(await bu({classicJson:de,storyId:Pe,classicItemId:S,username:V,token:g,themeId:"summit",progress:xe=>{if(o.current)return;const Ae=/\(\s*\d+\s*\/\s*\d+\s*\)\s*$/.test(xe.message),me=xe.total&&!Ae?`${xe.message} (${xe.current}/${xe.total})`:xe.message;switch(xe.stage){case"media":N("transferring"),O(me);break;case"convert":N("converting"),O(me);break;case"finalize":N("updating"),O(me);break;case"error":N("error"),O(me);break;case"done":N("success"),O(me);break;default:O(me)}},isCancelled:()=>o.current,uploader:async(xe,Ae,me,Ue)=>{if(o.current)throw new Error("Conversion cancelled by user intervention");const Ge=await qs(xe,Ae,me,Ue);return{originalUrl:xe,resourceName:Ge.resourceName,transferred:!!Ge.isTransferred}}})).storymapJson}else Fe=await FS(de,"summit",V,g,Pe);pe();try{const Se=(Fe?.resources&&Object.values(Fe.resources).find(xe=>xe.type==="converter-metadata"))?.data?.classicMetadata?.mappingDecisions?.customCss?.combined;if(Se){const xe=new Blob([Se],{type:"text/css"}),Ae=URL.createObjectURL(xe);Ne({css:Se,url:Ae})}}catch{}try{if(Array.isArray(ee)&&ee.length){const Ze=Fe,Se=Ze.resources||{},xe=Object.entries(Se).find(([,Ae])=>Ae&&Ae.type==="converter-metadata");if(xe){const[Ae,me]=xe,Ue=me.data||{},Ge=Ue.classicMetadata||{};Ge.webmapChecks=ee.map(tt=>({itemId:tt.itemId,level:tt.level,message:tt.message,refactor:re})),Ue.classicMetadata=Ge,me.data=Ue,Se[Ae]=me,Ze.resources=Se}else{const Ae=`r-converter-metadata-${Date.now()}`,me={type:"converter-metadata",data:{classicMetadata:{webmapChecks:ee.map(Ue=>({itemId:Ue.itemId,level:Ue.level,message:Ue.message,refactor:re}))}}};Se[Ae]=me,Ze.resources=Se}}}catch{}N("updating"),O("Fetching target storymap details...");const ra=await iS(Pe,g);pe();const Mt=rS(ra);if(!Mt)throw new Error("Could not find draft resource in target storymap. Make sure it is a draft storymap.");O(`Removing old draft resource (${Mt})...`),await sS(Pe,V,Mt,g),pe(),O(`Uploading new draft resource (${Mt})...`);try{const Se=Fe.nodes||{};for(const[,xe]of Object.entries(Se))if(xe?.type==="action-button"&&xe.dependents){for(const Ae of Object.keys(xe.dependents))/^actionMedia_content_/.test(Ae)&&delete xe.dependents[Ae];Object.keys(xe.dependents).length===0&&delete xe.dependents}}catch{}const _a=new Blob([JSON.stringify(Fe)],{type:"application/json"});await lg(Pe,V,_a,Mt,g),pe(),O("Updating keywords...");const Sn=ra.typeKeywords||[];if(!Sn.includes("smconverter:online-app")){const Ze=[...Sn,"smconverter:online-app"];await lS(Pe,V,Ze,g),pe()}pe(),N("success"),O("Classic "+Dt+":  "+ye),B(`https://storymaps.arcgis.com/stories/${Pe}/edit`),i(!0)}catch(V){V?.message==="Conversion cancelled by user intervention"?(N("error"),O(V.message)):(N("error"),O(V?.message||"An unknown error occurred")),V?.stack&&console.debug("[ConverterCatch]",V.stack),i(!1)}};return z.jsxs("div",{className:"converter-container",children:[z.jsx("h2",{children:"Classic StoryMap Converter"}),z.jsx("p",{children:"Convert Classic StoryMaps to ArcGIS StoryMaps"}),z.jsxs("div",{className:"converter-instructions",children:[z.jsx("h3",{children:"Instructions:"}),z.jsxs("ol",{children:[z.jsx("li",{children:"Sign in to ArcGIS Online using the sign-in button above."}),z.jsx("li",{children:"Enter the Item ID of your Classic Story"}),z.jsx("li",{children:"Click Convert to transform your classic story into the new format"}),z.jsx("li",{children:"Review the converted story and publish when ready"})]})]}),z.jsxs("div",{className:"converter-input-group",children:[z.jsx("label",{className:"converter-label",children:"Classic Story Item ID:"}),z.jsx("input",{type:"text",value:S,onChange:V=>w(V.target.value),placeholder:"e.g., 858c4126f0604d1a86dea06ffbdc23a3",className:"converter-input"})]}),z.jsxs("div",{className:"converter-input-group",children:[z.jsx("label",{className:"converter-label",children:"Pipeline Mode:"}),z.jsxs("div",{className:"converter-toggle-row",children:[z.jsxs("label",{className:"converter-toggle-label",children:[z.jsx("input",{type:"checkbox",checked:J,onChange:V=>Z(V.target.checked)})," ","Use refactor pipeline (server-first, inline swipe)"]}),z.jsx("span",{className:"converter-hint",children:"URL flag ?refactor=1 also enables it. This setting persists locally."})]})]}),E!=="success"?z.jsx("button",{className:`converter-btn ${d&&["fetching","converting","transferring","updating"].includes(E)?"cancel-hover":""}`,title:E==="idle"||E==="error"?"Start conversion":d?"Cancel conversion (Esc)":"Conversion in progress",onClick:E==="idle"||E==="error"?Q:be,onMouseEnter:()=>{!p&&["fetching","converting","transferring","updating"].includes(E)&&f(!0)},onMouseLeave:()=>f(!1),disabled:u,children:E==="idle"||E==="error"?"Convert":E==="success"?"Success":d&&["fetching","converting","transferring","updating"].includes(E)?"Cancel":K}):z.jsxs("div",{className:"converter-message converter-message-success",children:[z.jsx("strong",{children:"Converted "})," ",q||"Conversion complete!"]}),p&&E!=="idle"&&E!=="error"&&E!=="success"&&!o.current&&!s&&z.jsx("div",{className:"cancel-mobile-wrapper",children:z.jsx("button",{className:"converter-btn cancel-mobile",onClick:be,title:"Cancel conversion",children:"Cancel"})}),E!=="success"&&q&&z.jsxs("div",{className:`converter-message converter-message-${E}`,children:[z.jsx("strong",{children:E==="error"?"Error:":"Status:"})," ",q]}),oe&&z.jsxs("div",{className:"converter-warning",children:[z.jsx("strong",{children:"Custom CSS Detected!"})," Your classic story used custom CSS settings. To recreate your custom styles you should create a new ArcGIS StoryMaps Theme ",z.jsx("a",{href:"https://storymaps.arcgis.com/themes/new",target:"_blank",rel:"noopener noreferrer",children:"here"})," with your custom colors and styles, then apply the new Theme within the ArcGIS StoryMaps Builder (under the Design tab). ",z.jsx("a",{href:oe.url,download:"custom-css.css",children:"Click this link"})," to download a copy of your custom CSS."]}),D&&z.jsxs("div",{className:"converter-publish",children:[z.jsx("button",{className:"converter-publish-btn",onClick:()=>{window.open(D,"_blank"),N("idle"),O(""),i(!1),B("")},disabled:!u,children:"Click to Finish Publishing "}),z.jsxs("div",{className:"converter-url-row",children:[z.jsx("span",{className:"converter-url-label",children:"Publishing URL:"})," ",z.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"converter-url-link",children:D})]})]}),(ee.length>0||H)&&z.jsxs("div",{className:"converter-warning",children:[z.jsx("strong",{children:"Webmap Checks:"}),ee.length===0?z.jsx("div",{children:"No issues detected for referenced webmaps."}):z.jsxs(z.Fragment,{children:[z.jsx("ul",{children:ee.map((V,de)=>z.jsxs("li",{children:[V.level.toUpperCase(),": [",V.itemId,"] ",V.message,V.details?.webmapTitle&&z.jsxs("div",{children:["Title: ",V.details.webmapTitle]}),Array.isArray(V.details?.failures)&&V.details.failures.length>0&&z.jsxs("div",{children:[z.jsx("button",{className:"converter-details-toggle-btn",onClick:()=>Y(Te=>({...Te,[V.itemId]:!Te[V.itemId]})),children:I[V.itemId]?"Hide details":`Show details (${V.details.failures.length})`}),I[V.itemId]&&z.jsx("ul",{children:V.details.failures.map((Te,ye)=>z.jsxs("li",{children:[Te.layerTitle?`${Te.layerTitle}`:"",Te.layerItemId?z.jsxs(z.Fragment,{children:[" ","[",z.jsx("a",{href:P(Te.layerItemId),target:"_blank",rel:"noopener noreferrer",children:Te.layerItemId}),"]"," "]}):"",Te.error?`  ${Te.error}`:"",typeof Te.status=="number"?` (status ${Te.status})`:"",Te.url?z.jsxs(z.Fragment,{children:[" "," ",z.jsx("a",{href:Te.url,target:"_blank",rel:"noopener noreferrer",children:"URL"})," "]}):""]},`${V.itemId}-fail-${ye}`))})]})]},`${V.itemId}-${de}`))}),z.jsxs("span",{children:["These issues wont stop conversion, but may prevent maps from loading. Please fix with ",z.jsx("a",{href:"https://assistant.esri-ps.com/",children:"ArcGIS Assistant"})," or in ArcGIS Online."]}),ce.length>0&&z.jsxs("div",{className:"converter-endpoint-checks",children:[z.jsx("hr",{}),z.jsx("strong",{children:"Endpoint Health Summary:"}),_&&z.jsx("div",{className:"endpoint-summary-row",children:Object.entries(_).map(([V,de])=>z.jsxs("span",{className:"endpoint-summary-chip",children:[V,": ",de]},V))}),z.jsxs("details",{children:[z.jsxs("summary",{children:["Failing endpoints (",ce.filter(V=>!V.ok).length,")"]}),z.jsx("ul",{children:ce.filter(V=>!V.ok).map((V,de)=>z.jsxs("li",{children:[V.webmapTitle?z.jsxs("span",{className:"ep-webmap",children:[V.webmapTitle,":"]}):""," ",V.layerTitle?z.jsx("span",{className:"ep-layer",children:V.layerTitle}):"",V.layerItemId?z.jsxs(z.Fragment,{children:[" ","[",z.jsx("a",{href:P(V.layerItemId),target:"_blank",rel:"noopener noreferrer",children:V.layerItemId}),"]"]}):"",V.errorCategory?`  ${V.errorCategory}`:"",V.status?` (status ${V.status})`:"",V.url?z.jsxs(z.Fragment,{children:[" ",z.jsx("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",children:"endpoint"})]}):"",V.errorMessage?`  ${V.errorMessage}`:""]},`ep-${de}`))})]})]})]})]})]})}function XS(){const{userInfo:u,token:i}=xr();return z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"bg-image"}),z.jsxs("div",{className:"app-content",children:[z.jsx(y0,{}),i&&u?z.jsx(YS,{}):z.jsx(z0,{})]})]})}kb(window);Yb.createRoot(document.getElementById("root")).render(z.jsx(ge.StrictMode,{children:z.jsx(m0,{children:z.jsx(XS,{})})}));export{tb as B,h_ as C,p_ as D,st as E,ub as G,Wp as L,bn as T,i_ as Z,F as _,b_ as a,f_ as b,l_ as c,c_ as d,d_ as e,n_ as f,Hm as g,$m as h,e_ as i,S_ as j,Rv as k,v_ as l,KS as m,u_ as n,rb as o,WS as p,cb as q,Nv as r,o_ as s,Bm as t,Ls as u,ZS as v,g_ as w,a_ as x,y_ as y,m_ as z};
